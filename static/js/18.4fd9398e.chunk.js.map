{"version":3,"sources":["views/ggv/ResourceList/ResourceList.js","../node_modules/reactstrap/es/CardGroup.js"],"names":["randombytes","require","get","PopoverItem","props","_this","Object","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","toggle","bind","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","state","popoverOpen","setState","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","id","onClick","reactstrap__WEBPACK_IMPORTED_MODULE_29__","placement","isOpen","target","reactstrap__WEBPACK_IMPORTED_MODULE_30__","reactstrap__WEBPACK_IMPORTED_MODULE_31__","getCurrentHost","res","Component","ResourceList","_this2","list","playingResource","peerId","presource","freeGGV","accountId","account","purchaseMsg","delete","rememberPwd","loadingMsg","accountInfo","danger","page","query","secret","window","sessionStorage","getItem","localStorage","inviteCode","_input","deadline","fee","data","_this3","action","Buffer","toString","bshopCall","ok","reactstrap__WEBPACK_IMPORTED_MODULE_32__","toggleDelete","reactstrap__WEBPACK_IMPORTED_MODULE_33__","reactstrap__WEBPACK_IMPORTED_MODULE_34__","href","reactstrap__WEBPACK_IMPORTED_MODULE_35__","reactstrap__WEBPACK_IMPORTED_MODULE_17__","color","transactions","map","getTransactionName","type","from","to","amount","height","reactstrap__WEBPACK_IMPORTED_MODULE_7__","hover","bordered","striped","responsive","size","renderTransactionItem","toggleDanger","rsId","pk","balance","renderAccountTransactions","url","getShareHost","concat","err","JSON","parse","e","hash","location","idx","indexOf","substr","loadResourceList","loadLocalAccount","value","checked","length","calcAccountId","setItem","createPeerId","tryPlay","console","log","loadAccountInfo","cancelPurchase","open","price","purchaseResource","showPurchaseStatus","msg","_this4","setTimeout","pid","startsWith","startPlayer","_this5","tags","_conponents_AccountDialog__WEBPACK_IMPORTED_MODULE_37__","owner","_this6","needPay","reactstrap__WEBPACK_IMPORTED_MODULE_22__","showPurchase","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","renderPayButton","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","style","width","_this7","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","xs","reactstrap__WEBPACK_IMPORTED_MODULE_23__","timeout","in","fadeIn","reactstrap__WEBPACK_IMPORTED_MODULE_24__","reactstrap__WEBPACK_IMPORTED_MODULE_25__","reactstrap__WEBPACK_IMPORTED_MODULE_18__","reactstrap__WEBPACK_IMPORTED_MODULE_19__","addonType","reactstrap__WEBPACK_IMPORTED_MODULE_20__","reactstrap__WEBPACK_IMPORTED_MODULE_21__","onChange","updateInvodeCode","reactstrap__WEBPACK_IMPORTED_MODULE_26__","htmlFor","updateSecret","freeMsg","applyFreeGGV","cancelFreeGGV","_this8","_conponents_PopHint_PopHint__WEBPACK_IMPORTED_MODULE_39__","text","content","updateFee","placeholder","renderDeadline","doPurchase","_this9","reactstrap__WEBPACK_IMPORTED_MODULE_27__","md","reactstrap__WEBPACK_IMPORTED_MODULE_28__","renderAccountId","name","rows","row","rememberPassword","check","doLogin","active","_this10","updateQuery","search","renderResourceList","rederAccountInfoDialog","renderDeleteDialog","reactstrap__WEBPACK_IMPORTED_MODULE_14__","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","previous","tag","prePage","next","nextPage","renderfreeGGV","renderPurchase","renderList","renderPlayer","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","string","cssModule","object","CardGroup","Tag","attributes","classes","defaultProps","__webpack_exports__"],"mappings":"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","file":"static/js/18.4fd9398e.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Badge, Card, CardBody, CardHeader, Col, Pagination, PaginationItem, PaginationLink, Row, Table } from 'reactstrap';\r\nimport { Button, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\r\nimport { CardGroup, Container, Form, FormGroup, Fade, Collapse, Label, Alert } from 'reactstrap'\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Popover, PopoverBody, PopoverHeader } from 'reactstrap'\r\nimport { createPeerId, loadLocalAccount, loadAccountInfo, calcAccountId, startPlayer, getTransactionName, getCurrentHost, getShareHost } from '../js/gegeUtil.js'\r\nimport AccountDialog from '../../conponents/AccountDialog'\r\nimport { bshopCall } from '../../eshop/eshop'\r\nimport PopHint from '../../conponents/PopHint/PopHint'\r\nimport { purchaseResource } from '../../eshop/eshop.js'\r\nconst randombytes = require('randombytes')\r\nconst get = require('simple-get')\r\n\r\nclass PopoverItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      popoverOpen: false\r\n    };\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      popoverOpen: !this.state.popoverOpen,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <span>\r\n        <span className='alert-primary  fade show' id={'Popover-' + this.props.id} onClick={this.toggle}>\r\n          (分享链接)\r\n        </span>\r\n        <Popover placement='top' isOpen={this.state.popoverOpen} target={'Popover-' + this.props.id} toggle={this.toggle}>\r\n          <PopoverHeader>分享这个资源的链接</PopoverHeader>\r\n          <PopoverBody>{getCurrentHost() + \"/#/btb#\" + this.props.res.id}</PopoverBody>\r\n        </Popover>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nclass ResourceList extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      list: null, playingResource: null, peerId: null, presource: null,\r\n      freeGGV: null, accountId: null, account: null, purchaseMsg: null, delete: false, rememberPwd: true,\r\n      loadingMsg: '(下载中) ...',\r\n      accountInfo: null,\r\n      danger: false\r\n    }\r\n    this.page = 1;\r\n    this.query = ''\r\n    this.secret = window.sessionStorage.getItem(\"userSec\");\r\n    if (!this.secret) {\r\n      this.secret = window.localStorage.getItem(\"userSec\");\r\n    }\r\n    this.inviteCode = null;\r\n    this._input = null;\r\n    this.deadline = 6;\r\n    this.fee = '1';\r\n  }\r\n\r\n  loadResourceList(page, query) {\r\n    let data;\r\n    if (query) {\r\n      query = new Buffer(query).toString('hex');\r\n      data = { action: 'listResource', page, query }\r\n    } else {\r\n      data = { action: 'listResource', page }\r\n    }\r\n    bshopCall(data, ((ok, list) => {\r\n      if (ok && list) {\r\n        this.setState({ list })\r\n      }\r\n    }).bind(this))\r\n  }\r\n\r\n  toggleDelete() {\r\n    this.setState({\r\n      delete: !this.state.delete,\r\n    });\r\n  }\r\n\r\n  renderDeleteDialog() {\r\n    return (<Modal isOpen={this.state.delete} toggle={this.toggleDelete.bind(this)}\r\n      className={'modal-danger ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleDelete.bind(this)}>Download(下载眞客钱包</ModalHeader>\r\n      <ModalBody>\r\n        <p>Web版钱包不支持资源隱藏功能，隱藏资源功能需要<a href=\"https://github.com/btbresource/btb-desktop\" target='_blank'>下载全节点钱包</a></p>\r\n        <p>彻底隱藏资源需要支付资源价格9999倍的手续费(免费资源需要1000积分)，手续费将由区块链机器人获得。资源彻底隱藏后将无法下载</p>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleDelete.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  renderTransactionItem() {\r\n    let content = this.state.accountInfo.transactions.map((res) => {\r\n      return (<tr>\r\n        <td>{getTransactionName(res.type)}</td>\r\n        <td>{res.from}</td>\r\n        <td>{res.to}</td>\r\n        <td>{res.amount} 积分</td>\r\n        <td>{res.fee} 积分</td>\r\n        <td>{res.height}</td>\r\n      </tr>)\r\n    });\r\n\r\n    return content;\r\n  }\r\n\r\n  renderAccountTransactions() {\r\n    if (this.state.accountInfo.transactions) {\r\n      return (<Table hover bordered striped responsive size=\"sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>交易类型</th>\r\n            <th>发起账户</th>\r\n            <th>接收账户</th>\r\n            <th>金额</th>\r\n            <th>手续费</th>\r\n            <th>区块高度</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.renderTransactionItem()}\r\n        </tbody>\r\n      </Table>)\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  rederAccountInfoDialog() {\r\n    if (!this.state.accountInfo)\r\n      return null;\r\n    return (<Modal isOpen={this.state.danger} toggle={this.toggleDanger.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleDanger.bind(this)}>账户明细</ModalHeader>\r\n      <ModalBody>\r\n        <p>账户ID): {this.state.accountInfo.rsId}</p>\r\n        <p>账户公钥): {this.state.accountInfo.pk}</p>\r\n        <p>账户余额: {this.state.accountInfo.balance}</p>\r\n        <p>交易列表:</p>\r\n        {this.renderAccountTransactions()}\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleDanger.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  showAccountInfo(rsId) {\r\n    this.toggleDanger();\r\n    let url = getShareHost() + '/btb?action=account&rsIdOrPkHex=' + rsId;\r\n    get.concat(url, (function (err, res, data) {\r\n      if (err) {\r\n        // console.log(err);\r\n        return;\r\n      }\r\n      let accountInfo = JSON.parse(data);\r\n      this.setState({ accountInfo })\r\n    }).bind(this))\r\n  }\r\n\r\n  applyFreeGGV(e) {\r\n  }\r\n\r\n  cancelFreeGGV() {\r\n    var freeGGV = null;\r\n    this.setState({ freeGGV });\r\n  }\r\n\r\n  componentDidMount() {\r\n    let hash = window.location.hash;\r\n    let query = null;\r\n    if (hash) {\r\n      let idx = hash.indexOf(\"#\", 1);\r\n      if (idx > 0) {\r\n        query = hash.substr(idx + 1, 40);\r\n        //console.log('query=' + query);\r\n      }\r\n    }\r\n    this.loadResourceList(1, query)\r\n    //\r\n    let account = loadLocalAccount();\r\n    if (account) {\r\n      this.setState({ account })\r\n      if (account.secret)\r\n        this.secret = account.secret;\r\n    }\r\n  }\r\n\r\n  prePage() {\r\n    if (this.page > 1) {\r\n      this.page--\r\n      this.loadResourceList(this.page)\r\n    }\r\n  }\r\n\r\n  nextPage() {\r\n    this.page++\r\n    this.loadResourceList(this.page)\r\n  }\r\n\r\n  updateInvodeCode(e) {\r\n    if (e && e.target) {\r\n      this.inviteCode = e.target.value;\r\n    }\r\n  }\r\n\r\n  rememberPassword(e) {\r\n    if (e && e.target) {\r\n      this.setState({ rememberPwd: e.target.checked });\r\n    }\r\n  }\r\n\r\n  updateSecret(e) {\r\n    if (e && e.target) {\r\n      this.secret = e.target.value;\r\n      if (this.secret && this.secret.length > 5) { }\r\n      var accountId = calcAccountId(this.secret);\r\n      this.setState({ accountId })\r\n    }\r\n  }\r\n\r\n  updateQuery(e) {\r\n    if (e && e.target) {\r\n      this.query = e.target.value;\r\n    }\r\n  }\r\n\r\n  search() {\r\n    this.page = 1\r\n    this.loadResourceList(this.page, this.query)\r\n  }\r\n\r\n  doLogin() {\r\n    //console.log('secret=' + this.secret);\r\n    if (this.secret && this.secret.length > 39) {\r\n      if (this.state.rememberPwd) {\r\n        window.localStorage.setItem('userSec', this.secret);\r\n      } else\r\n        window.sessionStorage.setItem('userSec', this.secret);\r\n      var account = createPeerId(this.secret)\r\n      this.setState({ account });\r\n      var peerId = account.peerId;\r\n      //console.log('peerId=' + peerId)\r\n      this.setState({ peerId });\r\n      if (peerId && this.state.playingResource) {\r\n        this.tryPlay(this.state.playingResource, peerId)\r\n      } else {\r\n        console.log('login err')\r\n      }\r\n      loadAccountInfo(account, (function (account) {\r\n        if (account)\r\n          this.setState({ account });\r\n      }).bind(this))\r\n    } else {\r\n      //length err\r\n    }\r\n  }\r\n\r\n  showPurchase(presource) {\r\n    this.setState({ presource });\r\n  }\r\n\r\n  showFreeGGV() {\r\n    this.cancelPurchase()\r\n    var freeGGV = 'freeGGV'\r\n    this.setState({ freeGGV })\r\n  }\r\n\r\n  gotoMiningBTB() {\r\n    window.open('/#/miner/start', '_blank');\r\n  }\r\n\r\n  doPurchase() {\r\n    if (!this.state.account) {\r\n      this.setState({ purchaseMsg: '用户未登陆' })\r\n      return;\r\n    }\r\n    var id = this.state.playingResource.id;\r\n    var price = this.state.playingResource.price\r\n    var fee = this.fee\r\n    var pk = this.state.account.pk;\r\n    var deadline = this.deadline\r\n    //\r\n    purchaseResource(id, this.secret, fee, deadline, this.showPurchaseStatus.bind(this), pk);\r\n  }\r\n\r\n  showPurchaseStatus(ok, err) {\r\n    let msg;\r\n    if (ok) {\r\n      msg = '成功，请等待下载/播放此资源'\r\n      setTimeout(() => {\r\n        this.setState({ presource: null });\r\n        //this.tryPlay(this.state.playingResource, this.state.peerId)\r\n      }, 5000);\r\n    } else {\r\n      msg = '请求失败' + err\r\n    }\r\n    this.setState({ purchaseMsg: msg });\r\n  }\r\n\r\n  cancelPurchase() {\r\n    this.setState({ presource: null });\r\n    this.setState({ playingResource: null });\r\n  }\r\n\r\n  createTempPeerId() {\r\n    let pid = '0000' + randombytes(18).toString('hex')\r\n    return pid;\r\n  }\r\n\r\n  isTempPeerId(pid) {\r\n    return pid && pid.startsWith('0000');\r\n  }\r\n\r\n  tryPlay(secret, res) {\r\n    this.setState({ playingResource: res })\r\n    setTimeout(() => {\r\n      startPlayer(secret, res);\r\n    }, 500);\r\n  }\r\n\r\n  delete(res) {\r\n\r\n  }\r\n\r\n  renderResourceList() {\r\n    let list = this.state.list;\r\n    if (!list)\r\n      return null;\r\n    let content = list.map((res) => {\r\n      return (<tr>\r\n        <td><Button size=\"sm\" className=\"btn-html5 btn-brand mr-1 mb-1\" onClick={(e) => this.tryPlay(this.secret, res)}><i className=\"fa fa-html5\"></i><span>播放/下载</span></Button></td>\r\n        <td>{res.tags}</td>\r\n        <td>{res.price}积分</td>\r\n        <td><AccountDialog rsId={res.owner} /></td>\r\n        <td><PopoverItem id={res.id} res={res} /></td>\r\n        <td><i className=\"icon-close icons font-2xl d-block mt-4\" onClick={this.toggleDelete.bind(this)}></i></td>\r\n      </tr>)\r\n    });\r\n\r\n    return content;\r\n  }\r\n\r\n  renderPayButton() {\r\n    if (!this.state.needPay)\r\n      return null;\r\n    return (<Alert color=\"primary\">免费预览10%后继续播放或下载请 <Button color=\"danger\" size=\"sm\" onClick={(e) => this.showPurchase(this.state.playingResource)}>Pay(购买</Button></Alert>)\r\n  }\r\n\r\n  renderPlayer() {\r\n    if (this.state.presource)\r\n      return null;\r\n    if (!this.state.playingResource)\r\n      return null\r\n    return (\r\n      <div id=\"playdiv\">\r\n        <Card>\r\n          <CardHeader>\r\n            {this.renderPayButton()}\r\n            {this.state.playingResource.tags} - <PopoverItem id={this.state.playingResource.id} res={this.state.playingResource} />\r\n            <Badge color=\"success\" className=\"float-right\">{this.state.loadingMsg}</Badge>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <div id=\"status\">\r\n              <div id=\"output\">\r\n                <div id=\"progressBar\" />\r\n                <div>\r\n                  <code id=\"tags\"></code>\r\n                </div>\r\n                <div>\r\n                  <code id=\"numPeers\">0 peers(节点</code>.\r\n                            <code id=\"downloadSpeed\">0 b/s </code> / &#x2197;\r\n                            <code id=\"uploadSpeed\">0 b/s - </code>\r\n                  <code id=\"downloaded\"></code> of\r\n                            <code id=\"total\"></code> —\r\n                            <span id=\"remaining\"></span>\r\n                </div>\r\n              </div>\r\n              <div id=\"player\" style={{ width: '100%' }}>\r\n              </div>\r\n              <div><a id=\"downloadLink\">保存</a></div>\r\n            </div>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderAccountInfo() {\r\n    if (!this.state.account)\r\n      return null;\r\n    return (<div>\r\n      <div><span>账户ID:{this.state.account.rsId} </span><span className='alert-warning fade show'>余额: {this.state.account.balance} 积分</span></div>\r\n    </div>);\r\n  }\r\n\r\n  renderfreeGGV() {\r\n    if (!this.state.freeGGV)\r\n      return null;\r\n    return (<Row>\r\n      <Col xs=\"12\">\r\n        <Fade timeout={this.state.timeout} in={this.state.fadeIn}>\r\n          <Card>\r\n            <CardHeader>\r\n            </CardHeader>\r\n            <Collapse isOpen={true} id=\"collapseExample\">\r\n              <CardBody>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>Account(账户) Id:</InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"prependedInput\" size=\"16\" type=\"text\" value={this.state.account.rsId} />\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>公钥) Publickey:</InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"prependedInput\" size=\"16\" type=\"text\" value={this.state.account.pk} />\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>邀请码:</InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"appendedPrependedInput\" size=\"16\" type=\"text\" onChange={(this.updateInvodeCode).bind(this)} />\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label htmlFor=\"appendedInputButtons\">账户密码):</Label>\r\n                  <div className=\"controls\">\r\n                    <InputGroup>\r\n                      <Input id=\"appendedInputButtons\" size=\"16\" type=\"text\" value={this.secret} onChange={(this.updateSecret).bind(this)} />\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <div><p>{this.state.freeMsg}</p></div>\r\n                <div className=\"form-actions\">\r\n                  <Button type=\"submit\" color=\"primary\" onClick={(e) => this.applyFreeGGV()}>发送</Button>\r\n                  <Button color=\"secondary\" onClick={(e) => this.cancelFreeGGV()}>取消</Button>\r\n                </div>\r\n              </CardBody>\r\n            </Collapse>\r\n          </Card>\r\n        </Fade>\r\n      </Col>\r\n    </Row>)\r\n\r\n  }\r\n\r\n  renderPurchase() {\r\n    if (this.state.freeGGV)\r\n      return null;\r\n    if (!this.state.presource)\r\n      return null;\r\n    return (<Row>\r\n      <Col xs=\"12\">\r\n        <Fade timeout={this.state.timeout} in={this.state.fadeIn}>\r\n          <Card>\r\n            <CardHeader>\r\n              <Alert color=\"primary\">支付价格给发布者后才可以继续播放或下载</Alert>\r\n            </CardHeader>\r\n            <Collapse isOpen={true} id=\"collapseExample\">\r\n              <CardBody>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>资源) ID:</InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"prependedInput\" size=\"16\" type=\"text\" value={this.state.playingResource.id} />\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>资源标签):</InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"prependedInput\" size=\"16\" type=\"text\" value={this.state.playingResource.tags} />\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>发布者):</InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"prependedInput\" size=\"16\" type=\"text\" value={this.state.playingResource.owner} />\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>价格):</InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"appendedPrependedInput\" size=\"16\" type=\"text\" value={this.state.playingResource.price} />\r\n                      <InputGroupAddon addonType=\"append\">\r\n                        <InputGroupText>积分</InputGroupText>\r\n                      </InputGroupAddon>\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText><PopHint id=\"min123\" text='(机器人费):' content='区块链机器人为账户余额比较多的账户随机产生，负责验证所有交易是否符合规则,并将合法交易保存到区块链。机器人保证整个系统按照规则运行。同时获得机器人费。' /></InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input id=\"appendedPrependedInput\" size=\"16\" type=\"text\" onChange={this.updateFee.bind(this)} placeholder=' 区块链机器人费，最少0.1' />\r\n                      <InputGroupAddon addonType=\"append\">\r\n                        <InputGroupText>积分</InputGroupText>\r\n                      </InputGroupAddon>\r\n                    </InputGroup>\r\n                  </div>\r\n                </FormGroup>\r\n                {\r\n                  this.renderDeadline()\r\n                }\r\n                <div>\r\n                  <p>{this.state.purchaseMsg}</p>\r\n                </div>\r\n                <div className=\"form-actions\">\r\n                  <Button type=\"submit\" color=\"primary\" onClick={(e) => this.doPurchase()}>购买</Button>\r\n                  <Button color=\"secondary\" onClick={(e) => this.cancelPurchase()}>取消</Button>\r\n                </div>\r\n              </CardBody>\r\n            </Collapse>\r\n          </Card>\r\n        </Fade>\r\n      </Col>\r\n    </Row>)\r\n  }\r\n\r\n  renderDeadline() {\r\n    if (true)\r\n      return null;\r\n    return (<FormGroup>\r\n      <div className=\"controls\">\r\n        <InputGroup className=\"input-prepend\">\r\n          <InputGroupAddon addonType=\"prepend\">\r\n            <InputGroupText><PopHint id='dl4545' text='(有效期):' content='机器人验证交易时候会按手续费高低排序处理，有效期内未被处理的交易会被舍弃。交易作废。' /></InputGroupText>\r\n          </InputGroupAddon>\r\n          <Input id=\"appendedPrependedInput\" size=\"16\" onChange={this.updateDeadline.bind(this)} type=\"text\" placeholder='交易有效期，默认5分钟' />\r\n          <InputGroupAddon addonType=\"append\">\r\n            <InputGroupText>分钟</InputGroupText>\r\n          </InputGroupAddon>\r\n        </InputGroup>\r\n      </div>\r\n    </FormGroup>)\r\n  }\r\n\r\n\r\n  updateDeadline(e) {\r\n    if (e && e.target) {\r\n      this.deadline = e.target.value;\r\n    }\r\n  }\r\n\r\n  updateFee(e) {\r\n    if (e && e.target) {\r\n      this.fee = e.target.value;\r\n    }\r\n  }\r\n  renderAccountId() {\r\n    if (!this.state.accountId)\r\n      return null;\r\n    return (<p className=\"text-muted\">(账户) ID: {this.state.accountId}</p>)\r\n  }\r\n\r\n  renderLogIn() {\r\n    if (this.state.freeGGV)\r\n      return null;\r\n    if (this.state.presource)\r\n      return null;\r\n    if (this.state.playingResource && !this.state.peerId) {\r\n      return (<div className=\"app flex-row align-items-center\">\r\n        <Container>\r\n          <Row className=\"justify-content-center\">\r\n            <Col md=\"8\">\r\n              <CardGroup>\r\n                <Card className=\"p-4\">\r\n                  <CardBody>\r\n                    <h1>登陆</h1>\r\n                    <p className=\"text-muted\">新用户自己选择一个安全的密码就可以登陆，充值后，用来购买资源或分享资源</p>\r\n                    {this.renderAccountId()}\r\n                    <InputGroup className=\"mb-3\">\r\n                      <InputGroupAddon addonType=\"prepend\">\r\n                        <InputGroupText>\r\n                          <i className=\"icon-user\"></i>\r\n                        </InputGroupText>\r\n                      </InputGroupAddon>\r\n                      <Input type=\"textarea\" name=\"textarea-input\" id=\"textarea-input\" rows=\"9\"\r\n                        placeholder=\" (这里输入眞客账户密码，长度大于40)。每个新的密码都会自动生成一个新的账户\" value={this.secret} onChange={(this.updateSecret).bind(this)} />\r\n                    </InputGroup>\r\n                  </CardBody>\r\n                  <FormGroup row>\r\n                    <Col md=\"9\">\r\n                      <FormGroup >\r\n                        <input type=\"checkbox\" checked={this.state.rememberPwd} onChange={this.rememberPassword.bind(this)}></input>\r\n                        <Label className=\"form-check-label\" check htmlFor=\"inline-checkbox1\">记住密码</Label>\r\n                      </FormGroup>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <Row>\r\n                    <Col xs=\"6\">\r\n                      <Button color=\"primary\" className=\"px-4\" onClick={(e) => { this.doLogin() }}>登陆</Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Card>\r\n                <Card className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: 44 + '%' }}>\r\n                  <CardBody className=\"text-center\">\r\n                    <div>\r\n                      <h2>注册</h2>\r\n                      <p>输入一个长度大于40的安全密码注册新账户。</p>\r\n                      <p>眞客账户安全由密码复杂度决定，如果密码丢失或被人猜出，账户内余额将丢失或永远无法使用</p>\r\n                      <Button color=\"primary\" className=\"mt-3\" active>Register Now!</Button>\r\n                    </div>\r\n                  </CardBody>\r\n                </Card>\r\n              </CardGroup>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>)\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderList() {\r\n    if (this.state.freeGGV)\r\n      return null;\r\n    if (this.state.playingResource)\r\n      return null;\r\n    if (this.state.presource)\r\n      return null;\r\n    if (this.state.playingResource && this.state.peerId)\r\n      return null;\r\n    return (<Row>\r\n      <Col>\r\n        <Card>\r\n          <CardHeader>\r\n            <InputGroup className=\"input-prepend\">\r\n              <InputGroupAddon addonType=\"prepend\">\r\n                <InputGroupText>\r\n                  <i className=\"fa fa-search\"></i>\r\n                </InputGroupText>\r\n              </InputGroupAddon>\r\n              <Input size=\"16\" id='query_input' type=\"text\" placeholder=\"输入关键字搜索\" onChange={(this.updateQuery).bind(this)} />\r\n              <InputGroupAddon addonType=\"append\">\r\n                <Button color=\"info\" onClick={(e) => { this.search() }}>搜索</Button>\r\n              </InputGroupAddon>\r\n            </InputGroup>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Table hover bordered striped responsive size=\"sm\">\r\n              <tbody>\r\n                {this.renderResourceList()}\r\n              </tbody>\r\n            </Table>\r\n            {this.rederAccountInfoDialog()}\r\n            {this.renderDeleteDialog()}\r\n            <nav>\r\n              <Pagination>\r\n                <PaginationItem><PaginationLink previous tag=\"button\" onClick={(e) => { this.prePage() }}>上一页</PaginationLink></PaginationItem>\r\n                <PaginationItem active>\r\n                  <PaginationLink tag=\"button\">{this.page}</PaginationLink>\r\n                </PaginationItem>\r\n                <PaginationItem><PaginationLink next tag=\"button\" onClick={(e) => { this.nextPage() }}>下一页</PaginationLink></PaginationItem>\r\n              </Pagination>\r\n            </nav>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n    </Row>)\r\n  }\r\n\r\n  toggleDanger() {\r\n    this.setState({\r\n      danger: !this.state.danger,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        {this.renderfreeGGV()}\r\n        {this.renderPurchase()}\r\n        {this.renderList()}\r\n        {this.renderPlayer()}\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResourceList;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardGroup = function CardGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-group'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardGroup.propTypes = propTypes;\nCardGroup.defaultProps = defaultProps;\nexport default CardGroup;"],"sourceRoot":""}