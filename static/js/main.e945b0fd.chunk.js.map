{"version":3,"sources":["views/conponents/DepositDialog/DepositDialog.js","views/ggv/js/gegeUtil.js","views/conponents/PopHint/PopHint.js","views/conponents/BlockDialog/BlockDialog.js","debug.js","views/eshop/eshop.js","views/conponents/MessageDialog/MessageDialog.js","assets/img/brand/logo.svg","assets/img/brand/sygnet.svg","_nav.js","routes.js","containers/DefaultLayout/DefaultAside.js","containers/DefaultLayout/DefaultFooter.js","containers/DefaultLayout/DefaultHeader.js","containers/DefaultLayout/DefaultLayout.js","App.js","index.js","polyfill.js","views/conponents/AccountDialog/AccountDialog.js","views/eshop/sha256.js","views/conponents/BtbSecret/BtbSecret.js","views/conponents/TransactionType/TransactionType.js"],"names":["DepositDialog","props","_this","Object","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","transfer","dialogMsg","desposit","accordion","selectActionTitle","selectReceiveTitle","exmsg","page","exway","secret","account","loadLocalAccount","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","reactstrap__WEBPACK_IMPORTED_MODULE_6__","color","size","onClick","toggleTransfer","bind","renderTransferDialog","setState","operation","e","target","amount","value","recipient","user","div","document","querySelector","hasChildNodes","removeChild","lastChild","qr","clearQr","showQRDialog","_this2","reactstrap__WEBPACK_IMPORTED_MODULE_7__","isOpen","toggle","className","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","_BtbSecret_BtbSecret__WEBPACK_IMPORTED_MODULE_13__","onSecret","sec","renderOptions","renderdialogMsg","tab","map","x","index","loadMyrecords","_this3","t2","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","id","block","toggleAccordion","aria-expanded","aria-controls","reactstrap__WEBPACK_IMPORTED_MODULE_17__","data-parent","aria-labelledby","reactstrap__WEBPACK_IMPORTED_MODULE_18__","reactstrap__WEBPACK_IMPORTED_MODULE_22__","selectPayMethod","reactstrap__WEBPACK_IMPORTED_MODULE_23__","caret","reactstrap__WEBPACK_IMPORTED_MODULE_24__","reactstrap__WEBPACK_IMPORTED_MODULE_25__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_19__","addonType","reactstrap__WEBPACK_IMPORTED_MODULE_20__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","type","onChange","updateAmount","placeholder","doDeposit","hidden","renderWithDraw","reactstrap__WEBPACK_IMPORTED_MODULE_26__","hover","bordered","striped","responsive","renderExchangelist","reactstrap__WEBPACK_IMPORTED_MODULE_27__","reactstrap__WEBPACK_IMPORTED_MODULE_28__","reactstrap__WEBPACK_IMPORTED_MODULE_29__","previous","tag","prePage","active","next","nextPage","renderExMsg","s1","s2","s3","href","_this5","token","sign","pk","req","rsId","aid","doExchange","ok","data","list","_this6","res","d","Date","setTime","time","btime","toLocaleString","update","random","channel","getExchangeStatus","status","renderActionBtn","showQR","_this7","op","showQR2","payNotify","ex","_this8","eid","_this9","examount","msg","_this10","length","client","verifyServerData","signature","reactstrap__WEBPACK_IMPORTED_MODULE_21__","style","Component","dbits","AES","require","BigInteger","b","c","fromNumber","fromString","nbi","navigator","appName","prototype","am","i","w","j","n","xl","xh","l","h","m","v","Math","floor","DB","DM","DV","FV","pow","F1","F2","rr","vv","BI_RM","BI_RC","Array","charCodeAt","int2char","charAt","intAt","s","nbv","r","fromInt","nbits","t","Classic","Montgomery","mp","invDigit","mpl","mph","um","mt2","op_and","y","op_or","op_xor","op_andnot","lbit","cbit","NullExp","nNop","Barrett","r2","q3","ONE","dlShiftTo","mu","divide","convert","compareTo","mod","revert","reduce","divRemTo","mulTo","multiplyTo","sqrTo","squareTo","abs","ZERO","subTo","copyTo","u0","clamp","drShiftTo","k","fromRadix","mi","sh","max","lShiftTo","bs","cbs","bm","ds","rShiftTo","min","q","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","qd","isEven","exp","z","g","toString","negate","toRadix","km","p","bitLength","modPowInt","multiplyUpperTo","multiplyLowerTo","dAddOffset","lowprimes","lplim","GGVAddress","codeword","syndrome","gexp","glog","cwmap","alphabet","ginv","gmult","idx","calc_discrepancy","lambda","discr","guess_errors","el","deg_lambda","slice","unshift","errloc","sum","pos","find_errors","errors","omega","root","denom","reset","set_codeword","cw","len","skip","from_acc","acc","inp","out","newlen","fb","encode","guess","add_guess","account_id","String","fromCharCode","split","reverse","join","set","adr","allow_accounts","replace","toUpperCase","indexOf","substr","match","clean","format_guess","org","start","chunkSize","LN2","log","signum","cs","intValue","dMultiply","testBit","bitwiseTo","shiftLeft","isProbablePrime","nextBytes","f","changeBit","addTo","modInt","millerRabin","n1","subtract","getLowestSetBit","shiftRight","modPow","clone","byteValue","shortValue","toByteArray","equals","and","or","xor","andNot","not","bitCount","setBit","clearBit","flipBit","add","multiply","remainder","divideAndRemainder","k1","g2","is1","modInverse","ac","u","gcd","square","converters","charToNibble","nibbleToChar","character","push","lowerChar","upperChar","byteArrayToHexString","bytes","str","stringToByteArray","unescape","encodeURIComponent","hexStringToByteArray","stringToHexString","hexStringToString","hex","byteArrayToString","checkBytesToIntInput","numBytes","opt_startIndex","startIndex","Error","byteArrayToSignedShort","byteArrayToSignedInt32","byteArrayToBigInteger","temp1","byteArrayToWordArray","byteArray","offset","word","words","Uint32Array","wordArray","sigBytes","wordArrayToByteArray","wordArrayToByteArrayImpl","isFirstByteHasSign","parseInt","decodeURIComponent","escape","apply","byteArrayToShortArray","shortArray","shortArrayToByteArray","shortArrayToHexString","ary","CryptoJS","lib","Base","extend","mixIn","hasOwnProperty","init","$super","arguments","create","WordArray","stringify","concat","ceil","enc","Hex","parse","Latin1","Utf8","BufferedBlockAlgorithm","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","splice","Hasher","cfg","_doReset","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","sqrt","SHA256","_hash","HmacSHA256","curve25519_zero","curve25519_one","curve25519_nine","curve25519_486671","curve25519_39420360","curve25519_r2y","curve25519_getbit","curve","curve25519_order","curve25519_order_times_8","curve25519_convertToByteArray","Int8Array","curve25519_convertToShortArray","val1","val2","curve25519_fillShortArray","src","dest","curve25519_cpy32","curve25519_mula_small","curve25519_mula32","zy","curve25519_divmod","rn","dt","curve25519_numsize","curve25519_egcd32","an","bn","qn","temp","curve25519_cpy16","curve25519_isNegative","curve25519_sqr8h","a7","a6","a5","a4","a3","a2","a1","a0","curve25519_sqrmodp","curve25519_reduce","curve25519_mul8h","b7","b6","b5","b4","b3","b2","b1","b0","curve25519_mulmodp","curve25519_mulasmall","curve25519_addmodp","curve25519_submodp","curve25519_invmodp","sqrtassist","r1","r3","r4","r5","curve25519_reduce2","curve25519_x_to_y2","curve25519_prep","curve25519_dbl","t1","curve25519_sum","t3","t4","x_1","curve25519_","sb","temp2","temp3","r0","stmp","curve25519","KEY_SIZE","UNPACKED_SIZE","ORDER","ORDER_TIMES_8","BASE_2Y","BASE_R2Y","C1","C9","C486671","C39420360","P25","P26","cpy32","mula_small","mula32","divmod","numsize","unpack","pack","createUnpackedArray","Uint16Array","cpy","sub","mul_small","r15","c255lreduce","mul","c255lmul8h","sqr","c255lsqr8h","recip","t0","is_negative","is_overflow","a15","mont_prep","ax","az","mont_add","dx","mont_dbl","bx","bz","x_to_y2","y2","core","Px","Gx","bit1","bit0","egcd32","h1","x1","tmp1","tmp2","tmp3","undefined","verify","P","yx","yz","vi","hi","di","nvh","Y","keygen","GGV","$","simpleHash","sha256","hash","getPublicKey","secretPhrase","digest","getPrivateKey","getAccountId","getAccountIdFromPublicKey","publicKey","RSFormat","signBytes","message","messageBytes","verifySignature","signatureBytes","publicKeyBytes","bytes1","bytes2","areByteArraysEqual","sharedSecretToSharedKey","sharedSecret","nonce","getSharedKey","privateKey","key1","key2","getShareHost","host","window","location","protocol","hostname","global","BTB_HOST","cp","localStorage","getItem","getFileHost","getCurrentHost","calcNonce","userPkHex","now","userSec","createSharedKey","commonSecHex","userPrivateKey","commomPublicKey","sharedKey","getShareKey","otherPkHex","otherPk","string","calcAccountId","address","createPeerId","userSecHex","pubHex","peerTokenHex","peerId","publicKeyHex","getPublicKeySlice","balance","get","signString","Buffer","dataHex","loadAccountInfo","cb","url","json","err","exist","crypto","safeNonce","pattern","timeStamp","getTime","calcTimeStamp","createHash","hashHex","startsWith","postSafe","config","append","body","JSON","opts","submitShopTransaction","parameters","transctionBytes","sig","transactionBytes","substring","request","action","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","shareResource","fee","deadline","price","tags","resName","showShareStatus","resId","accountId","rrr","startPlayer","resource","ZkerPlayer","QRCode","Url","_utf8_encode","decode","_utf8_decode","utftext","c2","c3","resUrl","makeCode","saveUserSec","key","sk","ciphertext","encrypt","setItem","sessionStorage","decrypt","clear","act","getTransactionName","code","types","Map","getMobileOperatingSystem","userAgent","vendor","opera","test","MSStream","signatureHex","messageHex","dataString","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","getLength","buffer","write","put","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","minLostPoint","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","QRPolynomial","modIndex","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","QRMath","qrCode","sameCount","count","darkCount","LOG_TABLE","EXP_TABLE","num","shift","ratio","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","bufIndex","bit","QRCodeLimitLength","_getAndroid","android","sAgent","aMat","parseFloat","svgDrawer","Drawing","htOption","_el","_htOption","draw","oQRCode","nCount","width","height","makeSVG","attrs","createElementNS","setAttribute","svg","viewBox","fill","colorLight","setAttributeNS","appendChild","colorDark","child","documentElement","tagName","toLowerCase","CanvasRenderingContext2D","nWidth","nHeight","aHTML","innerHTML","elTable","childNodes","nLeftMarginTable","offsetWidth","nTopMarginTable","offsetHeight","margin","_onMakeImage","_elImage","_elCanvas","toDataURL","display","_android","factor","devicePixelRatio","drawImage","image","sx","sy","sw","dy","dw","dh","nodeName","_bIsPainted","_oContext","getContext","alt","_bSupportDataURI","nRoundedWidth","round","nRoundedHeight","bIsDark","nLeft","nTop","strokeStyle","lineWidth","fillStyle","fillRect","strokeRect","makeImage","fSuccess","fFail","self","_fFail","_fSuccess","fOnError","onabort","onerror","onload","isPainted","clearRect","nNumber","_getTypeNumber","sText","nCorrectLevel","nType","replacedText","encodeURI","_getUTF8Length","nLimit","vOption","correctLevel","text","getElementById","useSVG","_oQRCode","_oDrawing","title","CorrectLevel","PopHint","E_working_dir_flycat_flycat_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","popoverOpen","react__WEBPACK_IMPORTED_MODULE_6___default","placement","content","BlockDialog","blockInfo","danger","transPage","setTimeout","loadBlockInfo","transactions","renderTransactionItem","_conponents_TransactionType_TransactionType__WEBPACK_IMPORTED_MODULE_19__","_AccountDialog_AccountDialog_js__WEBPACK_IMPORTED_MODULE_18__","from","to","_this4","loadBlockTransaction","trans","toggleDanger","reactstrap__WEBPACK_IMPORTED_MODULE_13__","generatorId","renderBlockTransactions","reactstrap__WEBPACK_IMPORTED_MODULE_14__","preTransPage","nextTransPage","rederBlockInfoDialog","module","exports","bencode","sync","doBShopTransaction","loadProductList","filterIdx","query","loadProduct","getProductStatus","getProductNextStep","loadProductDetails","product","transactionId","loadJoinTransactions","shareEncrypt","pkHex","shareDecrypt","loadAccountTransactions","loadAutoTransactions","loadIssueTransactions","loadBarCodeText","loadEncryptedInfo","getIssueReason","reason","rsIdOrPkHex","bshopCall","doMessage","getTorrentHash","getPieceLength","pieces","end","chunk","bf","_info","piece length","infoBuffer","loadTransactionInfo","purchaseResource","showPurchaseStatus","MessageDialog","sending","toRsId","toPk","toolbar","header","font","align","background","indent","clipboard","matchVisual","toggleSending","renderMsgDialog","messageBlock","renderDesposit","_DepositDialog_DepositDialog__WEBPACK_IMPORTED_MODULE_21__","_BtbSecret_BtbSecret__WEBPACK_IMPORTED_MODULE_15__","react_quill__WEBPACK_IMPORTED_MODULE_22___default","updateTracking","name","rows","success","doSending","__webpack_require__","_nav","items","icon","Loading","react_default","ProductList","Loadable","loader","Promise","all","then","loading","BlockList","ResourceList","NewsList","NewsWeb","HongbaoWeb","AccountList","NewsEditor","FileTransfer","ResourceShare","WebMiner","UnconfirmedList","Dashboard","ExchangeList","MessageList","MinerList","routes","path","exact","component","DefaultAside","classCallCheck","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","activeTab","messages","_this$props","children","objectWithoutProperties","Fragment","Nav","tabs","NavItem","NavLink","classNames","TabContent","TabPane","tabId","ListGroup","ListGroupItem","renderMessages","es","variant","label","defaultChecked","disabled","Progress","defaultProps","DefaultFooter","DefaultHeader","getMilliseconds","avatar","showServerList","newPeer","currentPeer","showQr","hasCache","qrtab","tranferOk","addServer","intro","bars","bar","classnames","qrtabClicked","Badge","peers","ps","toggleAppInstallDialog","checkMobileDevice","toggleIntroDialog","getCurrentPeer","getCachedPeers","peer","console","switchServer","savePeers","toggleServerList","DropdownItem","Button","navbar","TransactionType","AccountDialog","Table","Dropdown","DropdownToggle","DropdownMenu","right","Input","updateInvodeCode","renderAddPeerBtn","renderPeers","senderpk","dealine","recipientPk","recipientId","Modal","ModalHeader","ModalBody","FormGroup","BtbSecret","InputGroup","InputGroupAddon","InputGroupText","updateAccount","updatePk","updateFee","renderDeadline","ModalFooter","doTransfer","Label","toggleBarCode","renderBarCodes","renderRecentTransactions","clickMore","clearAccount","appDialog","Card","CardHeader","CardBody","Collapse","_this11","direction","nav","updateAccountInfo","renderMoreBtn","_this12","mobile","full","logo","minimized","sygnet","renderAccountDialog","renderBarCodeDialog","renderAppDownloadDialog","renderServerList","pill","renderLoginBtn","DefaultLayout","fixed","DefaultLayout_DefaultHeader","assign","navConfig","navigation","appRoutes","Container","fluid","Switch","route","Route","render","Redirect","DefaultLayout_DefaultAside","DefaultLayout_DefaultFooter","App","HashRouter","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","react_dom__WEBPACK_IMPORTED_MODULE_2__","react_dom__WEBPACK_IMPORTED_MODULE_2___default","_App__WEBPACK_IMPORTED_MODULE_4__","debug__WEBPACK_IMPORTED_MODULE_5__","debug__WEBPACK_IMPORTED_MODULE_5___default","vgo_AUTH_SERVER","debug","enable","ReactDOM","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","Event","showAccount","accountInfo","transactionTab","autoTransactions","toggleAccount","accountTransactions","_TransactionType_TransactionType__WEBPACK_IMPORTED_MODULE_24__","_BlockDialog_BlockDialog__WEBPACK_IMPORTED_MODULE_22__","renderAccountTransactionItem","renderAutoTransactionItem","onTransactionTabClicked","renderAccountTransactions","renderTransactionPagnations","renderSpecialAccount","_MessageDialog_MessageDialog__WEBPACK_IMPORTED_MODULE_23__","renderTransactionsTabs","rederAccountInfoDialog","preventDefault","showAccountInfo","process","sha256sync","buf","nextTick","login","remember","DEBUGING","toggleLogin","btnText","renderLoginDialog","renderSimple","md","htmlFor","updateSecret","checked","rememberPwd","rememberPassword","check","renderPassword","renderErrmsg","doLogin","cotent","getTransactionDetail"],"mappings":"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AC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,EAAG,IAAK,IAAK,GAAI,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IAAK,IAAK,EAAG,IAAK,KAAM,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,EAAG,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IAAK,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,CAAC,GAAI,IA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","file":"static/js/main.e945b0fd.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Modal, ModalBody, Alert, ModalHeader, Button, FormGroup, Input, InputGroup } from 'reactstrap'\r\nimport BtbSecret from '../BtbSecret/BtbSecret'\r\nimport { loadLocalAccount, showQRDialog, sign,verifyServerData } from '../../ggv/js/gegeUtil'\r\nimport { Collapse, CardBody, Card, CardHeader, Label, InputGroupAddon, InputGroupText } from 'reactstrap'\r\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle, Table, PaginationItem, PaginationLink, Pagination } from 'reactstrap'\r\nimport { doExchange, getExchangeStatus } from '../../eshop/eshop'\r\nimport AccountDialog from '../../conponents/AccountDialog/AccountDialog'\r\nclass DepositDialog extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            transfer: false, dialogMsg: null, desposit: false, accordion: [false, false, false],\r\n            selectActionTitle: '', selectReceiveTitle: '', exmsg: false,\r\n            page: 1, exway: -1\r\n        }\r\n        this.secret = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = loadLocalAccount();\r\n        if (account && account.secret) {\r\n            this.secret = account.secret;\r\n            this.account = account;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <Button color=\"info\" size=\"sm\" onClick={this.toggleTransfer.bind(this)}>/</Button>\r\n            {this.renderTransferDialog()}\r\n        </div>\r\n        )\r\n    }\r\n\r\n    toggleTransfer() {\r\n        if (!this.state.transfer) {\r\n            this.setState({ operation: -1, exmsg: null, dialogMsg: '' })\r\n        }\r\n        this.setState({\r\n            transfer: !this.state.transfer,\r\n        });\r\n    }\r\n\r\n    updateAmount(e) {\r\n        if (e && e.target) {\r\n            this.amount = e.target.value;\r\n        }\r\n    }\r\n\r\n    updateRecipient(e) {\r\n        if (e && e.target) {\r\n            this.recipient = e.target.value;\r\n        }\r\n    }\r\n    updateUserName(e) {\r\n        if (e && e.target) {\r\n            this.user = e.target.value;\r\n        }\r\n    }\r\n\r\n    clearQr() {\r\n        let div = document.querySelector('#qrcode');\r\n        while (div.hasChildNodes()) {\r\n            div.removeChild(div.lastChild);\r\n        }\r\n    }\r\n\r\n    showQR(qr) {\r\n        this.clearQr()\r\n        showQRDialog(qr)\r\n    }\r\n\r\n    renderTransferDialog() {\r\n        return (<Modal isOpen={this.state.transfer} toggle={this.toggleTransfer.bind(this)}\r\n            className={'modal-info ' + this.props.className}>\r\n            <ModalHeader toggle={this.toggleTransfer.bind(this)}></ModalHeader>\r\n            <ModalBody>\r\n                <FormGroup>\r\n                    <div className=\"controls\">\r\n                        <BtbSecret onSecret={(sec) => {\r\n                            if (sec) {\r\n                                this.secret = sec;\r\n                            }\r\n                        }} />\r\n                    </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    {this.renderOptions()}\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    {this.renderdialogMsg()}\r\n                </FormGroup>\r\n            </ModalBody>\r\n        </Modal>)\r\n    }\r\n\r\n    toggleAccordion(tab) {\r\n        const prevState = this.state.accordion;\r\n        const state = prevState.map((x, index) => tab === index ? !x : false);\r\n        //load\r\n        if (tab == 2 && !this.state.accordion[2]) {\r\n            this.loadMyrecords()\r\n        }\r\n        this.setState({\r\n            accordion: state,\r\n            dialogMsg: '',\r\n            exmsg: false\r\n        });\r\n        this.clearQr()\r\n        //\r\n    }\r\n    renderOptions() {\r\n        let t1 = ''\r\n        let t2 = ''\r\n        let s1 = ''\r\n        let s2 = ''\r\n        let s3 = ''\r\n        return (<div>\r\n            <Card>\r\n                <CardHeader id=\"headingOne\">\r\n                    <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={(e) => this.toggleAccordion(0)} aria-expanded={this.state.accordion[0]} aria-controls=\"collapseOne\">\r\n                        <h5 className=\"m-0 p-0\"></h5>\r\n                    </Button>\r\n                </CardHeader>\r\n                <Collapse isOpen={this.state.accordion[0]} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                    <CardBody>\r\n                        <Dropdown isOpen={this.state.selectPayMethod} toggle={\r\n                            (() => {\r\n                                this.setState({\r\n                                    selectPayMethod: !this.state.selectPayMethod,\r\n                                });\r\n                            }).bind(this)\r\n                        }>\r\n                            <DropdownToggle caret>\r\n                                {this.state.selectActionTitle}\r\n                            </DropdownToggle>\r\n                            <DropdownMenu>\r\n                                <DropdownItem onClick={(() => {\r\n                                    this.setState({ selectActionTitle: t1, exway: 0 })\r\n                                }).bind(this)}>{t1}</DropdownItem>\r\n                                <DropdownItem onClick={(() => {\r\n                                    this.setState({ selectActionTitle: t2, exway: 1 })\r\n                                }).bind(this)}>{t2}</DropdownItem>\r\n                            </DropdownMenu>\r\n                        </Dropdown>\r\n                        <FormGroup>\r\n                            <div className=\"controls\">\r\n                                <InputGroup className=\"input-prepend\">\r\n                                    <InputGroupAddon addonType=\"prepend\">\r\n                                        <InputGroupText>):</InputGroupText>\r\n                                    </InputGroupAddon>\r\n                                    <Input id=\"appendedPrependedInput\" size=\"5\" type=\"text\" onChange={this.updateAmount.bind(this)} placeholder='' />\r\n                                </InputGroup>\r\n                            </div>\r\n                        </FormGroup>\r\n                        <Button color=\"danger\" onClick={this.doDeposit.bind(this)}></Button>\r\n                    </CardBody>\r\n                </Collapse>\r\n            </Card>\r\n            <Card hidden={this.state.exmsg}>\r\n                <CardHeader id=\"headingOne\">\r\n                    <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={(e) => this.toggleAccordion(1)} aria-expanded={this.state.accordion[1]} aria-controls=\"collapseOne\">\r\n                        <h5 className=\"m-0 p-0\"></h5>\r\n                    </Button>\r\n                </CardHeader>\r\n                <Collapse isOpen={this.state.accordion[1]} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                    <CardBody>\r\n                        {\r\n                            this.renderWithDraw(s1, s2, s3)\r\n                        }\r\n                    </CardBody>\r\n                </Collapse>\r\n            </Card>\r\n            <Card hidden={this.state.exmsg}>\r\n                <CardHeader id=\"headingOne\">\r\n                    <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={(e) => this.toggleAccordion(2)} aria-expanded={this.state.accordion[2]} aria-controls=\"collapseOne\">\r\n                        <h5 className=\"m-0 p-0\"></h5>\r\n                    </Button>\r\n                </CardHeader>\r\n                <Collapse isOpen={this.state.accordion[2]} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                    <CardBody>\r\n                        <Table hover bordered striped responsive size=\"sm\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>()</th>\r\n                                    <th>()</th>\r\n                                    <th></th>\r\n                                    <th></th>\r\n                                    <th></th>\r\n                                    <th></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.renderExchangelist()}\r\n                            </tbody>\r\n                        </Table>\r\n                        <nav>\r\n                            <Pagination>\r\n                                <PaginationItem><PaginationLink previous tag=\"button\" onClick={(e) => { this.prePage() }}></PaginationLink></PaginationItem>\r\n                                <PaginationItem active>\r\n                                    <PaginationLink tag=\"button\">{this.state.page}</PaginationLink>\r\n                                </PaginationItem>\r\n                                <PaginationItem><PaginationLink next tag=\"button\" onClick={(e) => { this.nextPage() }}></PaginationLink></PaginationItem>\r\n                            </Pagination>\r\n                        </nav>\r\n                    </CardBody>\r\n                </Collapse>\r\n            </Card>\r\n            {this.renderExMsg()}\r\n            <div id='qrcode'></div>\r\n        </div>)\r\n    }\r\n\r\n    renderWithDraw(s1, s2, s3) {\r\n        if (true)\r\n            return (<a href='https://github.com/btbresource/btb-android'></a>)\r\n        return (\r\n            <div><Dropdown isOpen={this.state.selectReceiveMethod} toggle={\r\n                (() => {\r\n                    this.setState({\r\n                        selectReceiveMethod: !this.state.selectReceiveMethod,\r\n                    });\r\n                }).bind(this)\r\n            }>\r\n                <DropdownToggle caret>\r\n                    {this.state.selectReceiveTitle}\r\n                </DropdownToggle>\r\n                <DropdownMenu>\r\n                    <DropdownItem onClick={(() => {\r\n                        this.setState({ selectReceiveTitle: s1, exway: 0 })\r\n                    }).bind(this)}>{s1}</DropdownItem>\r\n                    <DropdownItem onClick={(() => {\r\n                        this.setState({ selectReceiveTitle: s2, exway: 1 })\r\n                    }).bind(this)}>{s2}</DropdownItem>\r\n                    <DropdownItem onClick={(() => {\r\n                        this.setState({ selectReceiveTitle: s3, exway: 2 })\r\n                    }).bind(this)}>{s3}</DropdownItem>\r\n                </DropdownMenu>\r\n            </Dropdown>\r\n                <FormGroup>\r\n                    <div className=\"controls\">\r\n                        <InputGroup className=\"input-prepend\">\r\n                            <InputGroupAddon addonType=\"prepend\">\r\n                                <InputGroupText>:</InputGroupText>\r\n                            </InputGroupAddon>\r\n                            <Input id=\"appendedPrependedInput\" size=\"5\" type=\"text\" onChange={this.updateUserName.bind(this)} placeholder='' />\r\n                        </InputGroup>\r\n                        <InputGroup className=\"input-prepend\">\r\n                            <InputGroupAddon addonType=\"prepend\">\r\n                                <InputGroupText>:</InputGroupText>\r\n                            </InputGroupAddon>\r\n                            <Input id=\"appendedPrependedInput\" size=\"5\" type=\"text\" onChange={this.updateRecipient.bind(this)} placeholder='' />\r\n                        </InputGroup>\r\n                        <InputGroup className=\"input-prepend\">\r\n                            <InputGroupAddon addonType=\"prepend\">\r\n                                <InputGroupText>:</InputGroupText>\r\n                            </InputGroupAddon>\r\n                            <Input id=\"appendedPrependedInput\" size=\"5\" type=\"text\" onChange={this.updateAmount.bind(this)} placeholder='' />\r\n                        </InputGroup>\r\n                    </div>\r\n                </FormGroup>\r\n                <Button color=\"danger\" onClick={this.doWithDraw.bind(this)}></Button>\r\n            </div>)\r\n    }\r\n\r\n    prePage() {\r\n        this.state.page--\r\n        this.loadMyrecords()\r\n    }\r\n\r\n    nextPage() {\r\n        this.state.page++\r\n        this.loadMyrecords()\r\n    }\r\n\r\n    loadMyrecords() {\r\n        let token = sign(this.account.secret, this.account.pk)\r\n        let req = { pk: this.account.pk, rsId: this.account.aid, page: this.state.page, token }\r\n        doExchange(req, '0', '2', '0', ((ok, data) => {\r\n            if (ok && data && data.ok) {\r\n                this.setState({ list: data.list })\r\n            }\r\n        }).bind(this))\r\n    }\r\n\r\n    renderExchangelist() {\r\n        let list = this.state.list;\r\n        if (!list)\r\n            return null;\r\n        let content = list.map((res) => {\r\n            let d = new Date();\r\n            d.setTime(res.time)\r\n            let btime = d.toLocaleString()\r\n            //\r\n            d.setTime(res.update)\r\n            let update = d.toLocaleString()\r\n            return (<tr>\r\n                <td>{res.amount}</td>\r\n                <td>{res.random}</td>\r\n                <td>{res.channel}</td>\r\n                <td>{btime}</td>\r\n                <td>{getExchangeStatus(res.status)}</td>\r\n                <td>{this.renderActionBtn(res)}</td>\r\n            </tr>)\r\n        });\r\n\r\n        return content;\r\n    }\r\n\r\n    showQR2(res) {\r\n        if (res && res.qr)\r\n            this.showQR(res.qr)\r\n    }\r\n\r\n    renderActionBtn(res) {\r\n        if (res.status == 0 && res.op == 0) {\r\n            return (<div>\r\n                <Button color=\"danger\" size=\"sm\" onClick={(e) => this.showQR2(res)}></Button>\r\n                <Button color=\"danger\" size=\"sm\" onClick={(e) => this.payNotify(res)}></Button>\r\n            </div>)\r\n        }\r\n        return null;\r\n    }\r\n\r\n    payNotify(ex) {\r\n        let token = sign(this.account.secret, this.account.pk)\r\n        let req = { pk: this.account.pk, rsId: this.account.aid, token, eid: ex.eid };\r\n        doExchange(req, '0', 9, '0', ((ok, data) => {\r\n            if (ok && data && data.ok) {\r\n                this.setState({ dialogMsg: '()' })\r\n            } else {\r\n                this.setState({ dialogMsg: '' })\r\n            }\r\n        }).bind(this))\r\n    }\r\n\r\n    doWithDraw() {\r\n        let token = sign(this.account.secret, this.account.pk)\r\n        let req = { pk: this.account.pk, rsId: this.account.aid, recipient: this.recipient, user: this.user, token };\r\n        doExchange(req, this.amount, 1, this.state.exway, (ok, data) => {\r\n            if (ok && data) {\r\n                if (data.ok)\r\n                    this.setState({ exmsg: true, examount: data.amount, operation: 1, dialogMsg: data.msg })\r\n                else\r\n                    this.setState({ dialogMsg: data.msg })\r\n                //this.showQR(data.qr)\r\n            } else {\r\n                this.setState({ dialogMsg: '.' })\r\n            }\r\n        }, this.recipient)\r\n    }\r\n\r\n    doDeposit() {\r\n        if (this.state.exway < 0) {\r\n            this.setState({ dialogMsg: '' })\r\n            return;\r\n        }\r\n        if (!this.account) {\r\n            this.setState({ dialogMsg: '' })\r\n            return;\r\n        }\r\n        if (!this.amount || this.amount.length < 1) {\r\n            this.setState({ dialogMsg: '' })\r\n            return;\r\n        }\r\n\r\n        let token = sign(this.account.secret, this.account.pk)\r\n        let req = { pk: this.account.pk, rsId: this.account.aid, token, client: 'web' };\r\n        doExchange(req, this.amount, 0, this.state.exway, ((ok, data) => {\r\n            if (ok && data && data.ok) {\r\n                if (verifyServerData(data.qr, data.signature)) {\r\n                    this.setState({ exmsg: true, examount: data.amount, operation: 0, dialogMsg: data.msg })\r\n                    if (data.qr)\r\n                        this.showQR(data.qr)\r\n                } else {\r\n                    this.setState({ dialogMsg: '' })\r\n                }\r\n            } else {\r\n                this.setState({ dialogMsg: '' })\r\n            }\r\n        }).bind(this))\r\n    }\r\n\r\n    renderExMsg() {\r\n        if (!this.state.exmsg)\r\n            return null;\r\n        if (this.state.operation == 0)\r\n            return (<Label> <span style={{ color: 'red' }}>{this.state.examount} </span>,5.</Label>)\r\n        if (this.state.operation == 1)\r\n            return (<Label> {this.state.examount} ,.</Label>)\r\n    }\r\n\r\n    renderdialogMsg() {\r\n        if (this.state.dialogMsg) {\r\n            return (<Label>{this.state.dialogMsg}</Label>)\r\n        }\r\n        return null;\r\n    }\r\n}\r\nexport default DepositDialog;","var AES = require(\"crypto-js/aes\");\r\n\r\n/*jsbn start*/\r\n// Copyright (c) 2005  Tom Wu\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n\r\n// Basic JavaScript BN library - subset useful for RSA encryption.\r\n\r\n// Bits per digit\r\nvar dbits;\r\n\r\n// JavaScript engine analysis\r\nvar canary = 0xdeadbeefcafe;\r\nvar j_lm = ((canary & 0xffffff) == 0xefcafe);\r\n\r\n// (public) Constructor\r\nfunction BigInteger(a, b, c) {\r\n  if (a != null)\r\n    if (\"number\" == typeof a) this.fromNumber(a, b, c);\r\n    else if (b == null && \"string\" != typeof a) this.fromString(a, 256);\r\n    else this.fromString(a, b);\r\n}\r\n\r\n// return new, unset BigInteger\r\nfunction nbi() { return new BigInteger(null); }\r\n\r\n// am: Compute w_j += (x*this_i), propagate carries,\r\n// c is initial carry, returns final carry.\r\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\r\n// We need to select the fastest one that works in this environment.\r\n\r\n// am1: use a single mult and divide to get the high bits,\r\n// max digit bits should be 26 because\r\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\r\nfunction am1(i, x, w, j, c, n) {\r\n  while (--n >= 0) {\r\n    var v = x * this[i++] + w[j] + c;\r\n    c = Math.floor(v / 0x4000000);\r\n    w[j++] = v & 0x3ffffff;\r\n  }\r\n  return c;\r\n}\r\n// am2 avoids a big mult-and-extract completely.\r\n// Max digit bits should be <= 30 because we do bitwise ops\r\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\r\nfunction am2(i, x, w, j, c, n) {\r\n  var xl = x & 0x7fff, xh = x >> 15;\r\n  while (--n >= 0) {\r\n    var l = this[i] & 0x7fff;\r\n    var h = this[i++] >> 15;\r\n    var m = xh * l + h * xl;\r\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\r\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\r\n    w[j++] = l & 0x3fffffff;\r\n  }\r\n  return c;\r\n}\r\n// Alternately, set max digit bits to 28 since some\r\n// browsers slow down when dealing with 32-bit numbers.\r\nfunction am3(i, x, w, j, c, n) {\r\n  var xl = x & 0x3fff, xh = x >> 14;\r\n  while (--n >= 0) {\r\n    var l = this[i] & 0x3fff;\r\n    var h = this[i++] >> 14;\r\n    var m = xh * l + h * xl;\r\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\r\n    c = (l >> 28) + (m >> 14) + xh * h;\r\n    w[j++] = l & 0xfffffff;\r\n  }\r\n  return c;\r\n}\r\nif (j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\r\n  BigInteger.prototype.am = am2;\r\n  dbits = 30;\r\n}\r\nelse if (j_lm && (navigator.appName != \"Netscape\")) {\r\n  BigInteger.prototype.am = am1;\r\n  dbits = 26;\r\n}\r\nelse { // Mozilla/Netscape seems to prefer am3\r\n  BigInteger.prototype.am = am3;\r\n  dbits = 28;\r\n}\r\n\r\nBigInteger.prototype.DB = dbits;\r\nBigInteger.prototype.DM = ((1 << dbits) - 1);\r\nBigInteger.prototype.DV = (1 << dbits);\r\n\r\nvar BI_FP = 52;\r\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\r\nBigInteger.prototype.F1 = BI_FP - dbits;\r\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\r\n\r\n// Digit conversions\r\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\nvar BI_RC = new Array();\r\nvar rr, vv;\r\nrr = \"0\".charCodeAt(0);\r\nfor (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\r\nrr = \"a\".charCodeAt(0);\r\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\nrr = \"A\".charCodeAt(0);\r\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\r\n\r\nfunction int2char(n) { return BI_RM.charAt(n); }\r\nfunction intAt(s, i) {\r\n  var c = BI_RC[s.charCodeAt(i)];\r\n  return (c == null) ? -1 : c;\r\n}\r\n\r\n// (protected) copy this to r\r\nfunction bnpCopyTo(r) {\r\n  for (var i = this.t - 1; i >= 0; --i) r[i] = this[i];\r\n  r.t = this.t;\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) set from integer value x, -DV <= x < DV\r\nfunction bnpFromInt(x) {\r\n  this.t = 1;\r\n  this.s = (x < 0) ? -1 : 0;\r\n  if (x > 0) this[0] = x;\r\n  else if (x < -1) this[0] = x + this.DV;\r\n  else this.t = 0;\r\n}\r\n\r\n// return bigint initialized to value\r\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\r\n\r\n// (protected) set from string and radix\r\nfunction bnpFromString(s, b) {\r\n  var k;\r\n  if (b == 16) k = 4;\r\n  else if (b == 8) k = 3;\r\n  else if (b == 256) k = 8; // byte array\r\n  else if (b == 2) k = 1;\r\n  else if (b == 32) k = 5;\r\n  else if (b == 4) k = 2;\r\n  else { this.fromRadix(s, b); return; }\r\n  this.t = 0;\r\n  this.s = 0;\r\n  var i = s.length, mi = false, sh = 0;\r\n  while (--i >= 0) {\r\n    var x = (k == 8) ? s[i] & 0xff : intAt(s, i);\r\n    if (x < 0) {\r\n      if (s.charAt(i) == \"-\") mi = true;\r\n      continue;\r\n    }\r\n    mi = false;\r\n    if (sh == 0)\r\n      this[this.t++] = x;\r\n    else if (sh + k > this.DB) {\r\n      this[this.t - 1] |= (x & ((1 << (this.DB - sh)) - 1)) << sh;\r\n      this[this.t++] = (x >> (this.DB - sh));\r\n    }\r\n    else\r\n      this[this.t - 1] |= x << sh;\r\n    sh += k;\r\n    if (sh >= this.DB) sh -= this.DB;\r\n  }\r\n  if (k == 8 && (s[0] & 0x80) != 0) {\r\n    this.s = -1;\r\n    if (sh > 0) this[this.t - 1] |= ((1 << (this.DB - sh)) - 1) << sh;\r\n  }\r\n  this.clamp();\r\n  if (mi) BigInteger.ZERO.subTo(this, this);\r\n}\r\n\r\n// (protected) clamp off excess high words\r\nfunction bnpClamp() {\r\n  var c = this.s & this.DM;\r\n  while (this.t > 0 && this[this.t - 1] == c)--this.t;\r\n}\r\n\r\n// (public) return string representation in given radix\r\nfunction bnToString(b) {\r\n  if (this.s < 0) return \"-\" + this.negate().toString(b);\r\n  var k;\r\n  if (b == 16) k = 4;\r\n  else if (b == 8) k = 3;\r\n  else if (b == 2) k = 1;\r\n  else if (b == 32) k = 5;\r\n  else if (b == 4) k = 2;\r\n  else return this.toRadix(b);\r\n  var km = (1 << k) - 1, d, m = false, r = \"\", i = this.t;\r\n  var p = this.DB - (i * this.DB) % k;\r\n  if (i-- > 0) {\r\n    if (p < this.DB && (d = this[i] >> p) > 0) { m = true; r = int2char(d); }\r\n    while (i >= 0) {\r\n      if (p < k) {\r\n        d = (this[i] & ((1 << p) - 1)) << (k - p);\r\n        d |= this[--i] >> (p += this.DB - k);\r\n      }\r\n      else {\r\n        d = (this[i] >> (p -= k)) & km;\r\n        if (p <= 0) { p += this.DB; --i; }\r\n      }\r\n      if (d > 0) m = true;\r\n      if (m) r += int2char(d);\r\n    }\r\n  }\r\n  return m ? r : \"0\";\r\n}\r\n\r\n// (public) -this\r\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this, r); return r; }\r\n\r\n// (public) |this|\r\nfunction bnAbs() { return (this.s < 0) ? this.negate() : this; }\r\n\r\n// (public) return + if this > a, - if this < a, 0 if equal\r\nfunction bnCompareTo(a) {\r\n  var r = this.s - a.s;\r\n  if (r != 0) return r;\r\n  var i = this.t;\r\n  r = i - a.t;\r\n  if (r != 0) return (this.s < 0) ? -r : r;\r\n  while (--i >= 0) if ((r = this[i] - a[i]) != 0) return r;\r\n  return 0;\r\n}\r\n\r\n// returns bit length of the integer x\r\nfunction nbits(x) {\r\n  var r = 1, t;\r\n  if ((t = x >>> 16) != 0) { x = t; r += 16; }\r\n  if ((t = x >> 8) != 0) { x = t; r += 8; }\r\n  if ((t = x >> 4) != 0) { x = t; r += 4; }\r\n  if ((t = x >> 2) != 0) { x = t; r += 2; }\r\n  if ((t = x >> 1) != 0) { x = t; r += 1; }\r\n  return r;\r\n}\r\n\r\n// (public) return the number of bits in \"this\"\r\nfunction bnBitLength() {\r\n  if (this.t <= 0) return 0;\r\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM));\r\n}\r\n\r\n// (protected) r = this << n*DB\r\nfunction bnpDLShiftTo(n, r) {\r\n  var i;\r\n  for (i = this.t - 1; i >= 0; --i) r[i + n] = this[i];\r\n  for (i = n - 1; i >= 0; --i) r[i] = 0;\r\n  r.t = this.t + n;\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) r = this >> n*DB\r\nfunction bnpDRShiftTo(n, r) {\r\n  for (var i = n; i < this.t; ++i) r[i - n] = this[i];\r\n  r.t = Math.max(this.t - n, 0);\r\n  r.s = this.s;\r\n}\r\n\r\n// (protected) r = this << n\r\nfunction bnpLShiftTo(n, r) {\r\n  var bs = n % this.DB;\r\n  var cbs = this.DB - bs;\r\n  var bm = (1 << cbs) - 1;\r\n  var ds = Math.floor(n / this.DB), c = (this.s << bs) & this.DM, i;\r\n  for (i = this.t - 1; i >= 0; --i) {\r\n    r[i + ds + 1] = (this[i] >> cbs) | c;\r\n    c = (this[i] & bm) << bs;\r\n  }\r\n  for (i = ds - 1; i >= 0; --i) r[i] = 0;\r\n  r[ds] = c;\r\n  r.t = this.t + ds + 1;\r\n  r.s = this.s;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this >> n\r\nfunction bnpRShiftTo(n, r) {\r\n  r.s = this.s;\r\n  var ds = Math.floor(n / this.DB);\r\n  if (ds >= this.t) { r.t = 0; return; }\r\n  var bs = n % this.DB;\r\n  var cbs = this.DB - bs;\r\n  var bm = (1 << bs) - 1;\r\n  r[0] = this[ds] >> bs;\r\n  for (var i = ds + 1; i < this.t; ++i) {\r\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\r\n    r[i - ds] = this[i] >> bs;\r\n  }\r\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\r\n  r.t = this.t - ds;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this - a\r\nfunction bnpSubTo(a, r) {\r\n  var i = 0, c = 0, m = Math.min(a.t, this.t);\r\n  while (i < m) {\r\n    c += this[i] - a[i];\r\n    r[i++] = c & this.DM;\r\n    c >>= this.DB;\r\n  }\r\n  if (a.t < this.t) {\r\n    c -= a.s;\r\n    while (i < this.t) {\r\n      c += this[i];\r\n      r[i++] = c & this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += this.s;\r\n  }\r\n  else {\r\n    c += this.s;\r\n    while (i < a.t) {\r\n      c -= a[i];\r\n      r[i++] = c & this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c -= a.s;\r\n  }\r\n  r.s = (c < 0) ? -1 : 0;\r\n  if (c < -1) r[i++] = this.DV + c;\r\n  else if (c > 0) r[i++] = c;\r\n  r.t = i;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = this * a, r != this,a (HAC 14.12)\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyTo(a, r) {\r\n  var x = this.abs(), y = a.abs();\r\n  var i = x.t;\r\n  r.t = i + y.t;\r\n  while (--i >= 0) r[i] = 0;\r\n  for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\r\n  r.s = 0;\r\n  r.clamp();\r\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\r\n}\r\n\r\n// (protected) r = this^2, r != this (HAC 14.16)\r\nfunction bnpSquareTo(r) {\r\n  var x = this.abs();\r\n  var i = r.t = 2 * x.t;\r\n  while (--i >= 0) r[i] = 0;\r\n  for (i = 0; i < x.t - 1; ++i) {\r\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\r\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\r\n      r[i + x.t] -= x.DV;\r\n      r[i + x.t + 1] = 1;\r\n    }\r\n  }\r\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\r\n  r.s = 0;\r\n  r.clamp();\r\n}\r\n\r\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\r\n// r != q, this != m.  q or r may be null.\r\nfunction bnpDivRemTo(m, q, r) {\r\n  var pm = m.abs();\r\n  if (pm.t <= 0) return;\r\n  var pt = this.abs();\r\n  if (pt.t < pm.t) {\r\n    if (q != null) q.fromInt(0);\r\n    if (r != null) this.copyTo(r);\r\n    return;\r\n  }\r\n  if (r == null) r = nbi();\r\n  var y = nbi(), ts = this.s, ms = m.s;\r\n  var nsh = this.DB - nbits(pm[pm.t - 1]);\t// normalize modulus\r\n  if (nsh > 0) { pm.lShiftTo(nsh, y); pt.lShiftTo(nsh, r); }\r\n  else { pm.copyTo(y); pt.copyTo(r); }\r\n  var ys = y.t;\r\n  var y0 = y[ys - 1];\r\n  if (y0 == 0) return;\r\n  var yt = y0 * (1 << this.F1) + ((ys > 1) ? y[ys - 2] >> this.F2 : 0);\r\n  var d1 = this.FV / yt, d2 = (1 << this.F1) / yt, e = 1 << this.F2;\r\n  var i = r.t, j = i - ys, t = (q == null) ? nbi() : q;\r\n  y.dlShiftTo(j, t);\r\n  if (r.compareTo(t) >= 0) {\r\n    r[r.t++] = 1;\r\n    r.subTo(t, r);\r\n  }\r\n  BigInteger.ONE.dlShiftTo(ys, t);\r\n  t.subTo(y, y);\t// \"negative\" y so we can replace sub with am later\r\n  while (y.t < ys) y[y.t++] = 0;\r\n  while (--j >= 0) {\r\n    // Estimate quotient digit\r\n    var qd = (r[--i] == y0) ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\r\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\t// Try it out\r\n      y.dlShiftTo(j, t);\r\n      r.subTo(t, r);\r\n      while (r[i] < --qd) r.subTo(t, r);\r\n    }\r\n  }\r\n  if (q != null) {\r\n    r.drShiftTo(ys, q);\r\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\r\n  }\r\n  r.t = ys;\r\n  r.clamp();\r\n  if (nsh > 0) r.rShiftTo(nsh, r);\t// Denormalize remainder\r\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\r\n}\r\n\r\n// (public) this mod a\r\nfunction bnMod(a) {\r\n  var r = nbi();\r\n  this.abs().divRemTo(a, null, r);\r\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\r\n  return r;\r\n}\r\n\r\n// Modular reduction using \"classic\" algorithm\r\nfunction Classic(m) { this.m = m; }\r\nfunction cConvert(x) {\r\n  if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\r\n  else return x;\r\n}\r\nfunction cRevert(x) { return x; }\r\nfunction cReduce(x) { x.divRemTo(this.m, null, x); }\r\nfunction cMulTo(x, y, r) { x.multiplyTo(y, r); this.reduce(r); }\r\nfunction cSqrTo(x, r) { x.squareTo(r); this.reduce(r); }\r\n\r\nClassic.prototype.convert = cConvert;\r\nClassic.prototype.revert = cRevert;\r\nClassic.prototype.reduce = cReduce;\r\nClassic.prototype.mulTo = cMulTo;\r\nClassic.prototype.sqrTo = cSqrTo;\r\n\r\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\r\n// justification:\r\n//         xy == 1 (mod m)\r\n//         xy =  1+km\r\n//   xy(2-xy) = (1+km)(1-km)\r\n// x[y(2-xy)] = 1-k^2m^2\r\n// x[y(2-xy)] == 1 (mod m^2)\r\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\r\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\r\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\r\nfunction bnpInvDigit() {\r\n  if (this.t < 1) return 0;\r\n  var x = this[0];\r\n  if ((x & 1) == 0) return 0;\r\n  var y = x & 3;\t\t// y == 1/x mod 2^2\r\n  y = (y * (2 - (x & 0xf) * y)) & 0xf;\t// y == 1/x mod 2^4\r\n  y = (y * (2 - (x & 0xff) * y)) & 0xff;\t// y == 1/x mod 2^8\r\n  y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff;\t// y == 1/x mod 2^16\r\n  // last step - calculate inverse mod DV directly;\r\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\r\n  y = (y * (2 - x * y % this.DV)) % this.DV;\t\t// y == 1/x mod 2^dbits\r\n  // we really want the negative inverse, and -DV < y < DV\r\n  return (y > 0) ? this.DV - y : -y;\r\n}\r\n\r\n// Montgomery reduction\r\nfunction Montgomery(m) {\r\n  this.m = m;\r\n  this.mp = m.invDigit();\r\n  this.mpl = this.mp & 0x7fff;\r\n  this.mph = this.mp >> 15;\r\n  this.um = (1 << (m.DB - 15)) - 1;\r\n  this.mt2 = 2 * m.t;\r\n}\r\n\r\n// xR mod m\r\nfunction montConvert(x) {\r\n  var r = nbi();\r\n  x.abs().dlShiftTo(this.m.t, r);\r\n  r.divRemTo(this.m, null, r);\r\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\r\n  return r;\r\n}\r\n\r\n// x/R mod m\r\nfunction montRevert(x) {\r\n  var r = nbi();\r\n  x.copyTo(r);\r\n  this.reduce(r);\r\n  return r;\r\n}\r\n\r\n// x = x/R mod m (HAC 14.32)\r\nfunction montReduce(x) {\r\n  while (x.t <= this.mt2)\t// pad x so am has enough room later\r\n    x[x.t++] = 0;\r\n  for (var i = 0; i < this.m.t; ++i) {\r\n    // faster way of calculating u0 = x[i]*mp mod DV\r\n    var j = x[i] & 0x7fff;\r\n    var u0 = (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM;\r\n    // use am to combine the multiply-shift-add into one call\r\n    j = i + this.m.t;\r\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\r\n    // propagate carry\r\n    while (x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\r\n  }\r\n  x.clamp();\r\n  x.drShiftTo(this.m.t, x);\r\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\r\n}\r\n\r\n// r = \"x^2/R mod m\"; x != r\r\nfunction montSqrTo(x, r) { x.squareTo(r); this.reduce(r); }\r\n\r\n// r = \"xy/R mod m\"; x,y != r\r\nfunction montMulTo(x, y, r) { x.multiplyTo(y, r); this.reduce(r); }\r\n\r\nMontgomery.prototype.convert = montConvert;\r\nMontgomery.prototype.revert = montRevert;\r\nMontgomery.prototype.reduce = montReduce;\r\nMontgomery.prototype.mulTo = montMulTo;\r\nMontgomery.prototype.sqrTo = montSqrTo;\r\n\r\n// (protected) true iff this is even\r\nfunction bnpIsEven() { return ((this.t > 0) ? (this[0] & 1) : this.s) == 0; }\r\n\r\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\r\nfunction bnpExp(e, z) {\r\n  if (e > 0xffffffff || e < 1) return BigInteger.ONE;\r\n  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e) - 1;\r\n  g.copyTo(r);\r\n  while (--i >= 0) {\r\n    z.sqrTo(r, r2);\r\n    if ((e & (1 << i)) > 0) z.mulTo(r2, g, r);\r\n    else { var t = r; r = r2; r2 = t; }\r\n  }\r\n  return z.revert(r);\r\n}\r\n\r\n// (public) this^e % m, 0 <= e < 2^32\r\nfunction bnModPowInt(e, m) {\r\n  var z;\r\n  if (e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\r\n  return this.exp(e, z);\r\n}\r\n\r\n// protected\r\nBigInteger.prototype.copyTo = bnpCopyTo;\r\nBigInteger.prototype.fromInt = bnpFromInt;\r\nBigInteger.prototype.fromString = bnpFromString;\r\nBigInteger.prototype.clamp = bnpClamp;\r\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\r\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\r\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\r\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\r\nBigInteger.prototype.subTo = bnpSubTo;\r\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\r\nBigInteger.prototype.squareTo = bnpSquareTo;\r\nBigInteger.prototype.divRemTo = bnpDivRemTo;\r\nBigInteger.prototype.invDigit = bnpInvDigit;\r\nBigInteger.prototype.isEven = bnpIsEven;\r\nBigInteger.prototype.exp = bnpExp;\r\n\r\n// public\r\nBigInteger.prototype.toString = bnToString;\r\nBigInteger.prototype.negate = bnNegate;\r\nBigInteger.prototype.abs = bnAbs;\r\nBigInteger.prototype.compareTo = bnCompareTo;\r\nBigInteger.prototype.bitLength = bnBitLength;\r\nBigInteger.prototype.mod = bnMod;\r\nBigInteger.prototype.modPowInt = bnModPowInt;\r\n\r\n// \"constants\"\r\nBigInteger.ZERO = nbv(0);\r\nBigInteger.ONE = nbv(1);\r\n\r\n// Copyright (c) 2005-2009  Tom Wu\r\n// All Rights Reserved.\r\n// See \"LICENSE\" for details.\r\n\r\n// Extended JavaScript BN functions, required for RSA private ops.\r\n\r\n// Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\r\n// Version 1.2: square() API, isProbablePrime fix\r\n\r\n// (public)\r\nfunction bnClone() { var r = nbi(); this.copyTo(r); return r; }\r\n\r\n// (public) return value as integer\r\nfunction bnIntValue() {\r\n  if (this.s < 0) {\r\n    if (this.t == 1) return this[0] - this.DV;\r\n    else if (this.t == 0) return -1;\r\n  }\r\n  else if (this.t == 1) return this[0];\r\n  else if (this.t == 0) return 0;\r\n  // assumes 16 < DB < 32\r\n  return ((this[1] & ((1 << (32 - this.DB)) - 1)) << this.DB) | this[0];\r\n}\r\n\r\n// (public) return value as byte\r\nfunction bnByteValue() { return (this.t == 0) ? this.s : (this[0] << 24) >> 24; }\r\n\r\n// (public) return value as short (assumes DB>=16)\r\nfunction bnShortValue() { return (this.t == 0) ? this.s : (this[0] << 16) >> 16; }\r\n\r\n// (protected) return x s.t. r^x < DV\r\nfunction bnpChunkSize(r) { return Math.floor(Math.LN2 * this.DB / Math.log(r)); }\r\n\r\n// (public) 0 if this == 0, 1 if this > 0\r\nfunction bnSigNum() {\r\n  if (this.s < 0) return -1;\r\n  else if (this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\r\n  else return 1;\r\n}\r\n\r\n// (protected) convert to radix string\r\nfunction bnpToRadix(b) {\r\n  if (b == null) b = 10;\r\n  if (this.signum() == 0 || b < 2 || b > 36) return \"0\";\r\n  var cs = this.chunkSize(b);\r\n  var a = Math.pow(b, cs);\r\n  var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\r\n  this.divRemTo(d, y, z);\r\n  while (y.signum() > 0) {\r\n    r = (a + z.intValue()).toString(b).substr(1) + r;\r\n    y.divRemTo(d, y, z);\r\n  }\r\n  return z.intValue().toString(b) + r;\r\n}\r\n\r\n// (protected) convert from radix string\r\nfunction bnpFromRadix(s, b) {\r\n  this.fromInt(0);\r\n  if (b == null) b = 10;\r\n  var cs = this.chunkSize(b);\r\n  var d = Math.pow(b, cs), mi = false, j = 0, w = 0;\r\n  for (var i = 0; i < s.length; ++i) {\r\n    var x = intAt(s, i);\r\n    if (x < 0) {\r\n      if (s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\r\n      continue;\r\n    }\r\n    w = b * w + x;\r\n    if (++j >= cs) {\r\n      this.dMultiply(d);\r\n      this.dAddOffset(w, 0);\r\n      j = 0;\r\n      w = 0;\r\n    }\r\n  }\r\n  if (j > 0) {\r\n    this.dMultiply(Math.pow(b, j));\r\n    this.dAddOffset(w, 0);\r\n  }\r\n  if (mi) BigInteger.ZERO.subTo(this, this);\r\n}\r\n\r\n// (protected) alternate constructor\r\nfunction bnpFromNumber(a, b, c) {\r\n  if (\"number\" == typeof b) {\r\n    // new BigInteger(int,int,RNG)\r\n    if (a < 2) this.fromInt(1);\r\n    else {\r\n      this.fromNumber(a, c);\r\n      if (!this.testBit(a - 1))\t// force MSB set\r\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a - 1), op_or, this);\r\n      if (this.isEven()) this.dAddOffset(1, 0); // force odd\r\n      while (!this.isProbablePrime(b)) {\r\n        this.dAddOffset(2, 0);\r\n        if (this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a - 1), this);\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    // new BigInteger(int,RNG)\r\n    var x = new Array(), t = a & 7;\r\n    x.length = (a >> 3) + 1;\r\n    b.nextBytes(x);\r\n    if (t > 0) x[0] &= ((1 << t) - 1); else x[0] = 0;\r\n    this.fromString(x, 256);\r\n  }\r\n}\r\n\r\n// (public) convert to bigendian byte array\r\nfunction bnToByteArray() {\r\n  var i = this.t, r = new Array();\r\n  r[0] = this.s;\r\n  var p = this.DB - (i * this.DB) % 8, d, k = 0;\r\n  if (i-- > 0) {\r\n    if (p < this.DB && (d = this[i] >> p) != (this.s & this.DM) >> p)\r\n      r[k++] = d | (this.s << (this.DB - p));\r\n    while (i >= 0) {\r\n      if (p < 8) {\r\n        d = (this[i] & ((1 << p) - 1)) << (8 - p);\r\n        d |= this[--i] >> (p += this.DB - 8);\r\n      }\r\n      else {\r\n        d = (this[i] >> (p -= 8)) & 0xff;\r\n        if (p <= 0) { p += this.DB; --i; }\r\n      }\r\n      if ((d & 0x80) != 0) d |= -256;\r\n      if (k == 0 && (this.s & 0x80) != (d & 0x80))++k;\r\n      if (k > 0 || d != this.s) r[k++] = d;\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nfunction bnEquals(a) { return (this.compareTo(a) == 0); }\r\nfunction bnMin(a) { return (this.compareTo(a) < 0) ? this : a; }\r\nfunction bnMax(a) { return (this.compareTo(a) > 0) ? this : a; }\r\n\r\n// (protected) r = this op a (bitwise)\r\nfunction bnpBitwiseTo(a, op, r) {\r\n  var i, f, m = Math.min(a.t, this.t);\r\n  for (i = 0; i < m; ++i) r[i] = op(this[i], a[i]);\r\n  if (a.t < this.t) {\r\n    f = a.s & this.DM;\r\n    for (i = m; i < this.t; ++i) r[i] = op(this[i], f);\r\n    r.t = this.t;\r\n  }\r\n  else {\r\n    f = this.s & this.DM;\r\n    for (i = m; i < a.t; ++i) r[i] = op(f, a[i]);\r\n    r.t = a.t;\r\n  }\r\n  r.s = op(this.s, a.s);\r\n  r.clamp();\r\n}\r\n\r\n// (public) this & a\r\nfunction op_and(x, y) { return x & y; }\r\nfunction bnAnd(a) { var r = nbi(); this.bitwiseTo(a, op_and, r); return r; }\r\n\r\n// (public) this | a\r\nfunction op_or(x, y) { return x | y; }\r\nfunction bnOr(a) { var r = nbi(); this.bitwiseTo(a, op_or, r); return r; }\r\n\r\n// (public) this ^ a\r\nfunction op_xor(x, y) { return x ^ y; }\r\nfunction bnXor(a) { var r = nbi(); this.bitwiseTo(a, op_xor, r); return r; }\r\n\r\n// (public) this & ~a\r\nfunction op_andnot(x, y) { return x & ~y; }\r\nfunction bnAndNot(a) { var r = nbi(); this.bitwiseTo(a, op_andnot, r); return r; }\r\n\r\n// (public) ~this\r\nfunction bnNot() {\r\n  var r = nbi();\r\n  for (var i = 0; i < this.t; ++i) r[i] = this.DM & ~this[i];\r\n  r.t = this.t;\r\n  r.s = ~this.s;\r\n  return r;\r\n}\r\n\r\n// (public) this << n\r\nfunction bnShiftLeft(n) {\r\n  var r = nbi();\r\n  if (n < 0) this.rShiftTo(-n, r); else this.lShiftTo(n, r);\r\n  return r;\r\n}\r\n\r\n// (public) this >> n\r\nfunction bnShiftRight(n) {\r\n  var r = nbi();\r\n  if (n < 0) this.lShiftTo(-n, r); else this.rShiftTo(n, r);\r\n  return r;\r\n}\r\n\r\n// return index of lowest 1-bit in x, x < 2^31\r\nfunction lbit(x) {\r\n  if (x == 0) return -1;\r\n  var r = 0;\r\n  if ((x & 0xffff) == 0) { x >>= 16; r += 16; }\r\n  if ((x & 0xff) == 0) { x >>= 8; r += 8; }\r\n  if ((x & 0xf) == 0) { x >>= 4; r += 4; }\r\n  if ((x & 3) == 0) { x >>= 2; r += 2; }\r\n  if ((x & 1) == 0)++r;\r\n  return r;\r\n}\r\n\r\n// (public) returns index of lowest 1-bit (or -1 if none)\r\nfunction bnGetLowestSetBit() {\r\n  for (var i = 0; i < this.t; ++i)\r\n    if (this[i] != 0) return i * this.DB + lbit(this[i]);\r\n  if (this.s < 0) return this.t * this.DB;\r\n  return -1;\r\n}\r\n\r\n// return number of 1 bits in x\r\nfunction cbit(x) {\r\n  var r = 0;\r\n  while (x != 0) { x &= x - 1; ++r; }\r\n  return r;\r\n}\r\n\r\n// (public) return number of set bits\r\nfunction bnBitCount() {\r\n  var r = 0, x = this.s & this.DM;\r\n  for (var i = 0; i < this.t; ++i) r += cbit(this[i] ^ x);\r\n  return r;\r\n}\r\n\r\n// (public) true iff nth bit is set\r\nfunction bnTestBit(n) {\r\n  var j = Math.floor(n / this.DB);\r\n  if (j >= this.t) return (this.s != 0);\r\n  return ((this[j] & (1 << (n % this.DB))) != 0);\r\n}\r\n\r\n// (protected) this op (1<<n)\r\nfunction bnpChangeBit(n, op) {\r\n  var r = BigInteger.ONE.shiftLeft(n);\r\n  this.bitwiseTo(r, op, r);\r\n  return r;\r\n}\r\n\r\n// (public) this | (1<<n)\r\nfunction bnSetBit(n) { return this.changeBit(n, op_or); }\r\n\r\n// (public) this & ~(1<<n)\r\nfunction bnClearBit(n) { return this.changeBit(n, op_andnot); }\r\n\r\n// (public) this ^ (1<<n)\r\nfunction bnFlipBit(n) { return this.changeBit(n, op_xor); }\r\n\r\n// (protected) r = this + a\r\nfunction bnpAddTo(a, r) {\r\n  var i = 0, c = 0, m = Math.min(a.t, this.t);\r\n  while (i < m) {\r\n    c += this[i] + a[i];\r\n    r[i++] = c & this.DM;\r\n    c >>= this.DB;\r\n  }\r\n  if (a.t < this.t) {\r\n    c += a.s;\r\n    while (i < this.t) {\r\n      c += this[i];\r\n      r[i++] = c & this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += this.s;\r\n  }\r\n  else {\r\n    c += this.s;\r\n    while (i < a.t) {\r\n      c += a[i];\r\n      r[i++] = c & this.DM;\r\n      c >>= this.DB;\r\n    }\r\n    c += a.s;\r\n  }\r\n  r.s = (c < 0) ? -1 : 0;\r\n  if (c > 0) r[i++] = c;\r\n  else if (c < -1) r[i++] = this.DV + c;\r\n  r.t = i;\r\n  r.clamp();\r\n}\r\n\r\n// (public) this + a\r\nfunction bnAdd(a) { var r = nbi(); this.addTo(a, r); return r; }\r\n\r\n// (public) this - a\r\nfunction bnSubtract(a) { var r = nbi(); this.subTo(a, r); return r; }\r\n\r\n// (public) this * a\r\nfunction bnMultiply(a) { var r = nbi(); this.multiplyTo(a, r); return r; }\r\n\r\n// (public) this^2\r\nfunction bnSquare() { var r = nbi(); this.squareTo(r); return r; }\r\n\r\n// (public) this / a\r\nfunction bnDivide(a) { var r = nbi(); this.divRemTo(a, r, null); return r; }\r\n\r\n// (public) this % a\r\nfunction bnRemainder(a) { var r = nbi(); this.divRemTo(a, null, r); return r; }\r\n\r\n// (public) [this/a,this%a]\r\nfunction bnDivideAndRemainder(a) {\r\n  var q = nbi(), r = nbi();\r\n  this.divRemTo(a, q, r);\r\n  return new Array(q, r);\r\n}\r\n\r\n// (protected) this *= n, this >= 0, 1 < n < DV\r\nfunction bnpDMultiply(n) {\r\n  this[this.t] = this.am(0, n - 1, this, 0, 0, this.t);\r\n  ++this.t;\r\n  this.clamp();\r\n}\r\n\r\n// (protected) this += n << w words, this >= 0\r\nfunction bnpDAddOffset(n, w) {\r\n  if (n == 0) return;\r\n  while (this.t <= w) this[this.t++] = 0;\r\n  this[w] += n;\r\n  while (this[w] >= this.DV) {\r\n    this[w] -= this.DV;\r\n    if (++w >= this.t) this[this.t++] = 0;\r\n    ++this[w];\r\n  }\r\n}\r\n\r\n// A \"null\" reducer\r\nfunction NullExp() { }\r\nfunction nNop(x) { return x; }\r\nfunction nMulTo(x, y, r) { x.multiplyTo(y, r); }\r\nfunction nSqrTo(x, r) { x.squareTo(r); }\r\n\r\nNullExp.prototype.convert = nNop;\r\nNullExp.prototype.revert = nNop;\r\nNullExp.prototype.mulTo = nMulTo;\r\nNullExp.prototype.sqrTo = nSqrTo;\r\n\r\n// (public) this^e\r\nfunction bnPow(e) { return this.exp(e, new NullExp()); }\r\n\r\n// (protected) r = lower n words of \"this * a\", a.t <= n\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyLowerTo(a, n, r) {\r\n  var i = Math.min(this.t + a.t, n);\r\n  r.s = 0; // assumes a,this >= 0\r\n  r.t = i;\r\n  while (i > 0) r[--i] = 0;\r\n  var j;\r\n  for (j = r.t - this.t; i < j; ++i) r[i + this.t] = this.am(0, a[i], r, i, 0, this.t);\r\n  for (j = Math.min(a.t, n); i < j; ++i) this.am(0, a[i], r, i, 0, n - i);\r\n  r.clamp();\r\n}\r\n\r\n// (protected) r = \"this * a\" without lower n words, n > 0\r\n// \"this\" should be the larger one if appropriate.\r\nfunction bnpMultiplyUpperTo(a, n, r) {\r\n  --n;\r\n  var i = r.t = this.t + a.t - n;\r\n  r.s = 0; // assumes a,this >= 0\r\n  while (--i >= 0) r[i] = 0;\r\n  for (i = Math.max(n - this.t, 0); i < a.t; ++i)\r\n    r[this.t + i - n] = this.am(n - i, a[i], r, 0, 0, this.t + i - n);\r\n  r.clamp();\r\n  r.drShiftTo(1, r);\r\n}\r\n\r\n// Barrett modular reduction\r\nfunction Barrett(m) {\r\n  // setup Barrett\r\n  this.r2 = nbi();\r\n  this.q3 = nbi();\r\n  BigInteger.ONE.dlShiftTo(2 * m.t, this.r2);\r\n  this.mu = this.r2.divide(m);\r\n  this.m = m;\r\n}\r\n\r\nfunction barrettConvert(x) {\r\n  if (x.s < 0 || x.t > 2 * this.m.t) return x.mod(this.m);\r\n  else if (x.compareTo(this.m) < 0) return x;\r\n  else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\r\n}\r\n\r\nfunction barrettRevert(x) { return x; }\r\n\r\n// x = x mod m (HAC 14.42)\r\nfunction barrettReduce(x) {\r\n  x.drShiftTo(this.m.t - 1, this.r2);\r\n  if (x.t > this.m.t + 1) { x.t = this.m.t + 1; x.clamp(); }\r\n  this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3);\r\n  this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2);\r\n  while (x.compareTo(this.r2) < 0) x.dAddOffset(1, this.m.t + 1);\r\n  x.subTo(this.r2, x);\r\n  while (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\r\n}\r\n\r\n// r = x^2 mod m; x != r\r\nfunction barrettSqrTo(x, r) { x.squareTo(r); this.reduce(r); }\r\n\r\n// r = x*y mod m; x,y != r\r\nfunction barrettMulTo(x, y, r) { x.multiplyTo(y, r); this.reduce(r); }\r\n\r\nBarrett.prototype.convert = barrettConvert;\r\nBarrett.prototype.revert = barrettRevert;\r\nBarrett.prototype.reduce = barrettReduce;\r\nBarrett.prototype.mulTo = barrettMulTo;\r\nBarrett.prototype.sqrTo = barrettSqrTo;\r\n\r\n// (public) this^e % m (HAC 14.85)\r\nfunction bnModPow(e, m) {\r\n  var i = e.bitLength(), k, r = nbv(1), z;\r\n  if (i <= 0) return r;\r\n  else if (i < 18) k = 1;\r\n  else if (i < 48) k = 3;\r\n  else if (i < 144) k = 4;\r\n  else if (i < 768) k = 5;\r\n  else k = 6;\r\n  if (i < 8)\r\n    z = new Classic(m);\r\n  else if (m.isEven())\r\n    z = new Barrett(m);\r\n  else\r\n    z = new Montgomery(m);\r\n\r\n  // precomputation\r\n  var g = new Array(), n = 3, k1 = k - 1, km = (1 << k) - 1;\r\n  g[1] = z.convert(this);\r\n  if (k > 1) {\r\n    var g2 = nbi();\r\n    z.sqrTo(g[1], g2);\r\n    while (n <= km) {\r\n      g[n] = nbi();\r\n      z.mulTo(g2, g[n - 2], g[n]);\r\n      n += 2;\r\n    }\r\n  }\r\n\r\n  var j = e.t - 1, w, is1 = true, r2 = nbi(), t;\r\n  i = nbits(e[j]) - 1;\r\n  while (j >= 0) {\r\n    if (i >= k1) w = (e[j] >> (i - k1)) & km;\r\n    else {\r\n      w = (e[j] & ((1 << (i + 1)) - 1)) << (k1 - i);\r\n      if (j > 0) w |= e[j - 1] >> (this.DB + i - k1);\r\n    }\r\n\r\n    n = k;\r\n    while ((w & 1) == 0) { w >>= 1; --n; }\r\n    if ((i -= n) < 0) { i += this.DB; --j; }\r\n    if (is1) {\t// ret == 1, don't bother squaring or multiplying it\r\n      g[w].copyTo(r);\r\n      is1 = false;\r\n    }\r\n    else {\r\n      while (n > 1) { z.sqrTo(r, r2); z.sqrTo(r2, r); n -= 2; }\r\n      if (n > 0) z.sqrTo(r, r2); else { t = r; r = r2; r2 = t; }\r\n      z.mulTo(r2, g[w], r);\r\n    }\r\n\r\n    while (j >= 0 && (e[j] & (1 << i)) == 0) {\r\n      z.sqrTo(r, r2); t = r; r = r2; r2 = t;\r\n      if (--i < 0) { i = this.DB - 1; --j; }\r\n    }\r\n  }\r\n  return z.revert(r);\r\n}\r\n\r\n// (public) gcd(this,a) (HAC 14.54)\r\nfunction bnGCD(a) {\r\n  var x = (this.s < 0) ? this.negate() : this.clone();\r\n  var y = (a.s < 0) ? a.negate() : a.clone();\r\n  if (x.compareTo(y) < 0) { var t = x; x = y; y = t; }\r\n  var i = x.getLowestSetBit(), g = y.getLowestSetBit();\r\n  if (g < 0) return x;\r\n  if (i < g) g = i;\r\n  if (g > 0) {\r\n    x.rShiftTo(g, x);\r\n    y.rShiftTo(g, y);\r\n  }\r\n  while (x.signum() > 0) {\r\n    if ((i = x.getLowestSetBit()) > 0) x.rShiftTo(i, x);\r\n    if ((i = y.getLowestSetBit()) > 0) y.rShiftTo(i, y);\r\n    if (x.compareTo(y) >= 0) {\r\n      x.subTo(y, x);\r\n      x.rShiftTo(1, x);\r\n    }\r\n    else {\r\n      y.subTo(x, y);\r\n      y.rShiftTo(1, y);\r\n    }\r\n  }\r\n  if (g > 0) y.lShiftTo(g, y);\r\n  return y;\r\n}\r\n\r\n// (protected) this % n, n < 2^26\r\nfunction bnpModInt(n) {\r\n  if (n <= 0) return 0;\r\n  var d = this.DV % n, r = (this.s < 0) ? n - 1 : 0;\r\n  if (this.t > 0)\r\n    if (d == 0) r = this[0] % n;\r\n    else for (var i = this.t - 1; i >= 0; --i) r = (d * r + this[i]) % n;\r\n  return r;\r\n}\r\n\r\n// (public) 1/this % m (HAC 14.61)\r\nfunction bnModInverse(m) {\r\n  var ac = m.isEven();\r\n  if ((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\r\n  var u = m.clone(), v = this.clone();\r\n  var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\r\n  while (u.signum() != 0) {\r\n    while (u.isEven()) {\r\n      u.rShiftTo(1, u);\r\n      if (ac) {\r\n        if (!a.isEven() || !b.isEven()) { a.addTo(this, a); b.subTo(m, b); }\r\n        a.rShiftTo(1, a);\r\n      }\r\n      else if (!b.isEven()) b.subTo(m, b);\r\n      b.rShiftTo(1, b);\r\n    }\r\n    while (v.isEven()) {\r\n      v.rShiftTo(1, v);\r\n      if (ac) {\r\n        if (!c.isEven() || !d.isEven()) { c.addTo(this, c); d.subTo(m, d); }\r\n        c.rShiftTo(1, c);\r\n      }\r\n      else if (!d.isEven()) d.subTo(m, d);\r\n      d.rShiftTo(1, d);\r\n    }\r\n    if (u.compareTo(v) >= 0) {\r\n      u.subTo(v, u);\r\n      if (ac) a.subTo(c, a);\r\n      b.subTo(d, b);\r\n    }\r\n    else {\r\n      v.subTo(u, v);\r\n      if (ac) c.subTo(a, c);\r\n      d.subTo(b, d);\r\n    }\r\n  }\r\n  if (v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\r\n  if (d.compareTo(m) >= 0) return d.subtract(m);\r\n  if (d.signum() < 0) d.addTo(m, d); else return d;\r\n  if (d.signum() < 0) return d.add(m); else return d;\r\n}\r\n\r\nvar lowprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997];\r\nvar lplim = (1 << 26) / lowprimes[lowprimes.length - 1];\r\n\r\n// (public) test primality with certainty >= 1-.5^t\r\nfunction bnIsProbablePrime(t) {\r\n  var i, x = this.abs();\r\n  if (x.t == 1 && x[0] <= lowprimes[lowprimes.length - 1]) {\r\n    for (i = 0; i < lowprimes.length; ++i)\r\n      if (x[0] == lowprimes[i]) return true;\r\n    return false;\r\n  }\r\n  if (x.isEven()) return false;\r\n  i = 1;\r\n  while (i < lowprimes.length) {\r\n    var m = lowprimes[i], j = i + 1;\r\n    while (j < lowprimes.length && m < lplim) m *= lowprimes[j++];\r\n    m = x.modInt(m);\r\n    while (i < j) if (m % lowprimes[i++] == 0) return false;\r\n  }\r\n  return x.millerRabin(t);\r\n}\r\n\r\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\r\nfunction bnpMillerRabin(t) {\r\n  var n1 = this.subtract(BigInteger.ONE);\r\n  var k = n1.getLowestSetBit();\r\n  if (k <= 0) return false;\r\n  var r = n1.shiftRight(k);\r\n  t = (t + 1) >> 1;\r\n  if (t > lowprimes.length) t = lowprimes.length;\r\n  var a = nbi();\r\n  for (var i = 0; i < t; ++i) {\r\n    //Pick bases at random, instead of starting at 2\r\n    a.fromInt(lowprimes[Math.floor(Math.random() * lowprimes.length)]);\r\n    var y = a.modPow(r, this);\r\n    if (y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\r\n      var j = 1;\r\n      while (j++ < k && y.compareTo(n1) != 0) {\r\n        y = y.modPowInt(2, this);\r\n        if (y.compareTo(BigInteger.ONE) == 0) return false;\r\n      }\r\n      if (y.compareTo(n1) != 0) return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n// protected\r\nBigInteger.prototype.chunkSize = bnpChunkSize;\r\nBigInteger.prototype.toRadix = bnpToRadix;\r\nBigInteger.prototype.fromRadix = bnpFromRadix;\r\nBigInteger.prototype.fromNumber = bnpFromNumber;\r\nBigInteger.prototype.bitwiseTo = bnpBitwiseTo;\r\nBigInteger.prototype.changeBit = bnpChangeBit;\r\nBigInteger.prototype.addTo = bnpAddTo;\r\nBigInteger.prototype.dMultiply = bnpDMultiply;\r\nBigInteger.prototype.dAddOffset = bnpDAddOffset;\r\nBigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\r\nBigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\r\nBigInteger.prototype.modInt = bnpModInt;\r\nBigInteger.prototype.millerRabin = bnpMillerRabin;\r\n\r\n// public\r\nBigInteger.prototype.clone = bnClone;\r\nBigInteger.prototype.intValue = bnIntValue;\r\nBigInteger.prototype.byteValue = bnByteValue;\r\nBigInteger.prototype.shortValue = bnShortValue;\r\nBigInteger.prototype.signum = bnSigNum;\r\nBigInteger.prototype.toByteArray = bnToByteArray;\r\nBigInteger.prototype.equals = bnEquals;\r\nBigInteger.prototype.min = bnMin;\r\nBigInteger.prototype.max = bnMax;\r\nBigInteger.prototype.and = bnAnd;\r\nBigInteger.prototype.or = bnOr;\r\nBigInteger.prototype.xor = bnXor;\r\nBigInteger.prototype.andNot = bnAndNot;\r\nBigInteger.prototype.not = bnNot;\r\nBigInteger.prototype.shiftLeft = bnShiftLeft;\r\nBigInteger.prototype.shiftRight = bnShiftRight;\r\nBigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\r\nBigInteger.prototype.bitCount = bnBitCount;\r\nBigInteger.prototype.testBit = bnTestBit;\r\nBigInteger.prototype.setBit = bnSetBit;\r\nBigInteger.prototype.clearBit = bnClearBit;\r\nBigInteger.prototype.flipBit = bnFlipBit;\r\nBigInteger.prototype.add = bnAdd;\r\nBigInteger.prototype.subtract = bnSubtract;\r\nBigInteger.prototype.multiply = bnMultiply;\r\nBigInteger.prototype.divide = bnDivide;\r\nBigInteger.prototype.remainder = bnRemainder;\r\nBigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\r\nBigInteger.prototype.modPow = bnModPow;\r\nBigInteger.prototype.modInverse = bnModInverse;\r\nBigInteger.prototype.pow = bnPow;\r\nBigInteger.prototype.gcd = bnGCD;\r\nBigInteger.prototype.isProbablePrime = bnIsProbablePrime;\r\n\r\n// JSBN-specific extension\r\nBigInteger.prototype.square = bnSquare;\r\n\r\n// BigInteger interfaces not implemented in jsbn:\r\n\r\n// BigInteger(int signum, byte[] magnitude)\r\n// double doubleValue()\r\n// float floatValue()\r\n// int hashCode()\r\n// long longValue()\r\n// static BigInteger valueOf(long val)\r\n\r\n\r\n/*jsbn end*/\r\n\r\n/*address start */\r\nfunction GGVAddress() {\r\n  var codeword = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var syndrome = [0, 0, 0, 0, 0];\r\n\r\n  var gexp = [1, 2, 4, 8, 16, 5, 10, 20, 13, 26, 17, 7, 14, 28, 29, 31, 27, 19, 3, 6, 12, 24, 21, 15, 30, 25, 23, 11, 22, 9, 18, 1];\r\n  var glog = [0, 0, 1, 18, 2, 5, 19, 11, 3, 29, 6, 27, 20, 8, 12, 23, 4, 10, 30, 17, 7, 22, 28, 26, 21, 25, 9, 16, 13, 14, 24, 15];\r\n\r\n  var cwmap = [3, 2, 1, 0, 7, 6, 5, 4, 13, 14, 15, 16, 12, 8, 9, 10, 11];\r\n\r\n  var alphabet = '23456789ABCDEFGHJKLMNPQRSTUVWXYZ';\r\n  //var alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ345679';\r\n\r\n  this.guess = [];\r\n\r\n  function ginv(a) {\r\n    return gexp[31 - glog[a]];\r\n  }\r\n\r\n  function gmult(a, b) {\r\n    if (a == 0 || b == 0) return 0;\r\n\r\n    var idx = (glog[a] + glog[b]) % 31;\r\n\r\n    return gexp[idx];\r\n  } //__________________________\r\n\r\n  function calc_discrepancy(lambda, r) {\r\n    var discr = 0;\r\n\r\n    for (var i = 0; i < r; i++) {\r\n      discr ^= gmult(lambda[i], syndrome[r - i]);\r\n    }\r\n\r\n    return discr;\r\n  } //__________________________\r\n\r\n  function find_errors(lambda) {\r\n    var errloc = [];\r\n\r\n    for (var i = 1; i <= 31; i++) {\r\n      var sum = 0;\r\n\r\n      for (var j = 0; j < 5; j++) {\r\n        sum ^= gmult(gexp[(j * i) % 31], lambda[j]);\r\n      }\r\n\r\n      if (sum == 0) {\r\n        var pos = 31 - i;\r\n        if (pos > 12 && pos < 27) return [];\r\n\r\n        errloc[errloc.length] = pos;\r\n      }\r\n    }\r\n\r\n    return errloc;\r\n  } //__________________________\r\n\r\n  function guess_errors() {\r\n    var el = 0,\r\n      b = [0, 0, 0, 0, 0],\r\n      t = [];\r\n\r\n    var deg_lambda = 0,\r\n      lambda = [1, 0, 0, 0, 0]; // error+erasure locator poly\r\n\r\n    // Berlekamp-Massey algorithm to determine error+erasure locator polynomial\r\n\r\n    for (var r = 0; r < 4; r++) {\r\n      var discr = calc_discrepancy(lambda, r + 1); // Compute discrepancy at the r-th step in poly-form\r\n\r\n      if (discr != 0) {\r\n        deg_lambda = 0;\r\n\r\n        for (var i = 0; i < 5; i++) {\r\n          t[i] = lambda[i] ^ gmult(discr, b[i]);\r\n\r\n          if (t[i]) deg_lambda = i;\r\n        }\r\n\r\n        if (2 * el <= r) {\r\n          el = r + 1 - el;\r\n\r\n          for (i = 0; i < 5; i++) {\r\n            b[i] = gmult(lambda[i], ginv(discr));\r\n          }\r\n        }\r\n\r\n        lambda = t.slice(); // copy\r\n      }\r\n\r\n      b.unshift(0); // shift => mul by x\r\n    }\r\n\r\n    // Find roots of the locator polynomial.\r\n\r\n    var errloc = find_errors(lambda);\r\n\r\n    var errors = errloc.length;\r\n\r\n    if (errors < 1 || errors > 2) return false;\r\n\r\n    if (deg_lambda != errors) return false; // deg(lambda) unequal to number of roots => uncorrectable error\r\n\r\n    // Compute err+eras evaluator poly omega(x) = s(x)*lambda(x) (modulo x**(4)). Also find deg(omega).\r\n\r\n    var omega = [0, 0, 0, 0, 0];\r\n\r\n    for (var i = 0; i < 4; i++) {\r\n      var t = 0;\r\n\r\n      for (var j = 0; j < i; j++) {\r\n        t ^= gmult(syndrome[i + 1 - j], lambda[j]);\r\n      }\r\n\r\n      omega[i] = t;\r\n    }\r\n\r\n    // Compute error values in poly-form.\r\n\r\n    for (r = 0; r < errors; r++) {\r\n      var t = 0;\r\n      var pos = errloc[r];\r\n      var root = 31 - pos;\r\n\r\n      for (i = 0; i < 4; i++) // evaluate Omega at alpha^(-i)\r\n      {\r\n        t ^= gmult(omega[i], gexp[(root * i) % 31]);\r\n      }\r\n\r\n      if (t) // evaluate Lambda' (derivative) at alpha^(-i); all odd powers disappear\r\n      {\r\n        var denom = gmult(lambda[1], 1) ^ gmult(lambda[3], gexp[(root * 2) % 31]);\r\n\r\n        if (denom == 0) return false;\r\n\r\n        if (pos > 12) pos -= 14;\r\n\r\n        codeword[pos] ^= gmult(t, ginv(denom));\r\n      }\r\n    }\r\n\r\n    return true;\r\n  } //__________________________\r\n\r\n  function encode() {\r\n    var p = [0, 0, 0, 0];\r\n\r\n    for (var i = 12; i >= 0; i--) {\r\n      var fb = codeword[i] ^ p[3];\r\n\r\n      p[3] = p[2] ^ gmult(30, fb);\r\n      p[2] = p[1] ^ gmult(6, fb);\r\n      p[1] = p[0] ^ gmult(9, fb);\r\n      p[0] = gmult(17, fb);\r\n    }\r\n\r\n    codeword[13] = p[0];\r\n    codeword[14] = p[1];\r\n    codeword[15] = p[2];\r\n    codeword[16] = p[3];\r\n  } //__________________________\r\n\r\n  function reset() {\r\n    for (var i = 0; i < 17; i++) codeword[i] = 1;\r\n  } //__________________________\r\n\r\n  function set_codeword(cw, len, skip) {\r\n    if (typeof len === 'undefined') len = 17;\r\n    if (typeof skip === 'undefined') skip = -1;\r\n\r\n    for (var i = 0, j = 0; i < len; i++) {\r\n      if (i != skip) codeword[cwmap[j++]] = cw[i];\r\n    }\r\n  } //__________________________\r\n\r\n  this.add_guess = function () {\r\n    var s = this.toString(),\r\n      len = this.guess.length;\r\n\r\n    if (len > 2) return;\r\n\r\n    for (var i = 0; i < len; i++) {\r\n      if (this.guess[i] == s) return;\r\n    }\r\n\r\n    this.guess[len] = s;\r\n  } //__________________________\r\n\r\n  this.ok = function () {\r\n    var sum = 0;\r\n\r\n    for (var i = 1; i < 5; i++) {\r\n      for (var j = 0, t = 0; j < 31; j++) {\r\n        if (j > 12 && j < 27) continue;\r\n\r\n        var pos = j;\r\n        if (j > 26) pos -= 14;\r\n\r\n        t ^= gmult(codeword[pos], gexp[(i * j) % 31]);\r\n      }\r\n\r\n      sum |= t;\r\n      syndrome[i] = t;\r\n    }\r\n\r\n    return (sum == 0);\r\n  } //__________________________\r\n\r\n  function from_acc(acc) {\r\n    var inp = [],\r\n      out = [],\r\n      pos = 0,\r\n      len = acc.length;\r\n\r\n    if (len == 20 && acc.charAt(0) != '1') return false;\r\n\r\n    for (var i = 0; i < len; i++) {\r\n      inp[i] = acc.charCodeAt(i) - '0'.charCodeAt(0);\r\n    }\r\n\r\n    do // base 10 to base 32 conversion\r\n    {\r\n      var divide = 0,\r\n        newlen = 0;\r\n\r\n      for (i = 0; i < len; i++) {\r\n        divide = divide * 10 + inp[i];\r\n\r\n        if (divide >= 32) {\r\n          inp[newlen++] = divide >> 5;\r\n          divide &= 31;\r\n        } else if (newlen > 0) {\r\n          inp[newlen++] = 0;\r\n        }\r\n      }\r\n\r\n      len = newlen;\r\n      out[pos++] = divide;\r\n    }\r\n    while (newlen);\r\n\r\n    for (i = 0; i < 13; i++) // copy to codeword in reverse, pad with 0's\r\n    {\r\n      codeword[i] = (--pos >= 0 ? out[i] : 0);\r\n    }\r\n\r\n    encode();\r\n\r\n    return true;\r\n  } //__________________________\r\n\r\n  this.toString = function () {\r\n    var out = 'BT-';\r\n\r\n    for (var i = 0; i < 17; i++) {\r\n      out += alphabet[codeword[cwmap[i]]];\r\n\r\n      if ((i & 3) == 3 && i < 13) out += '-';\r\n    }\r\n\r\n    return out;\r\n  } //__________________________\r\n\r\n  this.account_id = function () {\r\n    var out = '',\r\n      inp = [],\r\n      len = 13;\r\n\r\n    for (var i = 0; i < 13; i++) {\r\n      inp[i] = codeword[12 - i];\r\n    }\r\n\r\n    do // base 32 to base 10 conversion\r\n    {\r\n      var divide = 0,\r\n        newlen = 0;\r\n\r\n      for (i = 0; i < len; i++) {\r\n        divide = divide * 32 + inp[i];\r\n\r\n        if (divide >= 10) {\r\n          inp[newlen++] = Math.floor(divide / 10);\r\n          divide %= 10;\r\n        } else if (newlen > 0) {\r\n          inp[newlen++] = 0;\r\n        }\r\n      }\r\n\r\n      len = newlen;\r\n      out += String.fromCharCode(divide + '0'.charCodeAt(0));\r\n    }\r\n    while (newlen);\r\n\r\n    return out.split(\"\").reverse().join(\"\");\r\n  } //__________________________\r\n\r\n  this.set = function (adr, allow_accounts) {\r\n    if (typeof allow_accounts === 'undefined') allow_accounts = true;\r\n\r\n    var len = 0;\r\n    this.guess = [];\r\n    reset();\r\n\r\n    adr = String(adr);\r\n\r\n    adr = adr.replace(/(^\\s+)|(\\s+$)/g, '').toUpperCase();\r\n\r\n    if (adr.indexOf('BT-') == 0) adr = adr.substr(4);\r\n\r\n    if (adr.match(/^\\d{1,20}$/g)) // account id\r\n    {\r\n      if (allow_accounts) return from_acc(adr);\r\n    } else // address\r\n    {\r\n      var clean = [];\r\n\r\n      for (var i = 0; i < adr.length; i++) {\r\n        var pos = alphabet.indexOf(adr[i]);\r\n\r\n        if (pos >= 0) {\r\n          clean[len++] = pos;\r\n          if (len > 18) return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (len == 16) // guess deletion\r\n    {\r\n      for (var i = 16; i >= 0; i--) {\r\n        for (var j = 0; j < 32; j++) {\r\n          clean[i] = j;\r\n\r\n          set_codeword(clean);\r\n\r\n          if (this.ok()) this.add_guess();\r\n        }\r\n\r\n        if (i > 0) {\r\n          var t = clean[i - 1];\r\n          clean[i - 1] = clean[i];\r\n          clean[i] = t;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (len == 18) // guess insertion\r\n    {\r\n      for (var i = 0; i < 18; i++) {\r\n        set_codeword(clean, 18, i);\r\n\r\n        if (this.ok()) this.add_guess();\r\n      }\r\n    }\r\n\r\n    if (len == 17) {\r\n      set_codeword(clean);\r\n\r\n      if (this.ok()) return true;\r\n\r\n      if (guess_errors() && this.ok()) this.add_guess();\r\n    }\r\n\r\n    reset();\r\n\r\n    return false;\r\n  }\r\n\r\n  this.format_guess = function (s, org) {\r\n    var d = '',\r\n      list = [];\r\n\r\n    s = s.toUpperCase();\r\n    org = org.toUpperCase();\r\n\r\n    for (var i = 0; i < s.length;) {\r\n      var m = 0;\r\n\r\n      for (var j = 1; j < s.length; j++) {\r\n        var pos = org.indexOf(s.substr(i, j));\r\n\r\n        if (pos != -1) {\r\n          if (Math.abs(pos - i) < 3) m = j;\r\n        } else break;\r\n      }\r\n\r\n      if (m) {\r\n        list[list.length] = {\r\n          's': i,\r\n          'e': i + m\r\n        };\r\n        i += m;\r\n      } else i++;\r\n    }\r\n\r\n    if (list.length == 0) return s;\r\n\r\n    for (var i = 0, j = 0; i < s.length; i++) {\r\n      if (i >= list[j].e) {\r\n        var start;\r\n\r\n        while (j < list.length - 1) {\r\n          start = list[j++].s;\r\n\r\n          if (i < list[j].e || list[j].s >= start) break;\r\n        }\r\n      }\r\n\r\n      if (i >= list[j].s && i < list[j].e) {\r\n        d += s.charAt(i);\r\n      } else {\r\n        d += '<b style=\"color:red\">' + s.charAt(i) + '</b>';\r\n      }\r\n    }\r\n\r\n    return d;\r\n  }\r\n}\r\n\r\n\r\n/*convert start*/\r\n\r\nvar converters = function () {\r\n  var charToNibble = {};\r\n  var nibbleToChar = [];\r\n  var i;\r\n  for (i = 0; i <= 9; ++i) {\r\n    var character = i.toString();\r\n    charToNibble[character] = i;\r\n    nibbleToChar.push(character);\r\n  }\r\n\r\n  for (i = 10; i <= 15; ++i) {\r\n    var lowerChar = String.fromCharCode('a'.charCodeAt(0) + i - 10);\r\n    var upperChar = String.fromCharCode('A'.charCodeAt(0) + i - 10);\r\n\r\n    charToNibble[lowerChar] = i;\r\n    charToNibble[upperChar] = i;\r\n    nibbleToChar.push(lowerChar);\r\n  }\r\n\r\n  return {\r\n    byteArrayToHexString: function (bytes) {\r\n      var str = '';\r\n      for (var i = 0; i < bytes.length; ++i) {\r\n        if (bytes[i] < 0) {\r\n          bytes[i] += 256;\r\n        }\r\n        str += nibbleToChar[bytes[i] >> 4] + nibbleToChar[bytes[i] & 0x0F];\r\n      }\r\n\r\n      return str;\r\n    },\r\n    stringToByteArray: function (str) {\r\n      str = unescape(encodeURIComponent(str)); //temporary\r\n\r\n      var bytes = new Array(str.length);\r\n      for (var i = 0; i < str.length; ++i)\r\n        bytes[i] = str.charCodeAt(i);\r\n\r\n      return bytes;\r\n    },\r\n    hexStringToByteArray: function (str) {\r\n      var bytes = [];\r\n      var i = 0;\r\n      if (0 !== str.length % 2) {\r\n        bytes.push(charToNibble[str.charAt(0)]);\r\n        ++i;\r\n      }\r\n\r\n      for (; i < str.length - 1; i += 2)\r\n        bytes.push((charToNibble[str.charAt(i)] << 4) + charToNibble[str.charAt(i + 1)]);\r\n\r\n      return bytes;\r\n    },\r\n    stringToHexString: function (str) {\r\n      return this.byteArrayToHexString(this.stringToByteArray(str));\r\n    },\r\n    hexStringToString: function (hex) {\r\n      return this.byteArrayToString(this.hexStringToByteArray(hex));\r\n    },\r\n    checkBytesToIntInput: function (bytes, numBytes, opt_startIndex) {\r\n      var startIndex = opt_startIndex || 0;\r\n      if (startIndex < 0) {\r\n        throw new Error('Start index should not be negative');\r\n      }\r\n\r\n      if (bytes.length < startIndex + numBytes) {\r\n        throw new Error('Need at least ' + (numBytes) + ' bytes to convert to an integer');\r\n      }\r\n      return startIndex;\r\n    },\r\n    byteArrayToSignedShort: function (bytes, opt_startIndex) {\r\n      var index = this.checkBytesToIntInput(bytes, 2, opt_startIndex);\r\n      var value = bytes[index];\r\n      value += bytes[index + 1] << 8;\r\n      return value;\r\n    },\r\n    byteArrayToSignedInt32: function (bytes, opt_startIndex) {\r\n      var index = this.checkBytesToIntInput(bytes, 4, opt_startIndex);\r\n      var value = bytes[index];\r\n      value += bytes[index + 1] << 8;\r\n      value += bytes[index + 2] << 16;\r\n      value += bytes[index + 3] << 24;\r\n      return value;\r\n    },\r\n    byteArrayToBigInteger: function (bytes, opt_startIndex) {\r\n      var index = this.checkBytesToIntInput(bytes, 8, opt_startIndex);\r\n\r\n      var value = new BigInteger(\"0\", 10);\r\n\r\n      var temp1, temp2;\r\n\r\n      for (var i = 7; i >= 0; i--) {\r\n        temp1 = value.multiply(new BigInteger(\"256\", 10));\r\n        temp2 = temp1.add(new BigInteger(bytes[opt_startIndex + i].toString(10), 10));\r\n        value = temp2;\r\n      }\r\n\r\n      return value;\r\n    },\r\n    // create a wordArray that is Big-Endian\r\n    byteArrayToWordArray: function (byteArray) {\r\n      var i = 0,\r\n        offset = 0,\r\n        word = 0,\r\n        len = byteArray.length;\r\n      var words = new Uint32Array(((len / 4) | 0) + (len % 4 == 0 ? 0 : 1));\r\n\r\n      while (i < (len - (len % 4))) {\r\n        words[offset++] = (byteArray[i++] << 24) | (byteArray[i++] << 16) | (byteArray[i++] << 8) | (byteArray[i++]);\r\n      }\r\n      if (len % 4 != 0) {\r\n        word = byteArray[i++] << 24;\r\n        if (len % 4 > 1) {\r\n          word = word | byteArray[i++] << 16;\r\n        }\r\n        if (len % 4 > 2) {\r\n          word = word | byteArray[i++] << 8;\r\n        }\r\n        words[offset] = word;\r\n      }\r\n      var wordArray = new Object();\r\n      wordArray.sigBytes = len;\r\n      wordArray.words = words;\r\n\r\n      return wordArray;\r\n    },\r\n    // assumes wordArray is Big-Endian\r\n    wordArrayToByteArray: function (wordArray) {\r\n      return converters.wordArrayToByteArrayImpl(wordArray, true);\r\n    },\r\n    wordArrayToByteArrayImpl: function (wordArray, isFirstByteHasSign) {\r\n      var len = wordArray.words.length;\r\n      if (len == 0) {\r\n        return new Array(0);\r\n      }\r\n      var byteArray = new Array(wordArray.sigBytes);\r\n      var offset = 0,\r\n        word, i;\r\n      for (i = 0; i < len - 1; i++) {\r\n        word = wordArray.words[i];\r\n        byteArray[offset++] = isFirstByteHasSign ? word >> 24 : (word >> 24) & 0xff;\r\n        byteArray[offset++] = (word >> 16) & 0xff;\r\n        byteArray[offset++] = (word >> 8) & 0xff;\r\n        byteArray[offset++] = word & 0xff;\r\n      }\r\n      word = wordArray.words[len - 1];\r\n      byteArray[offset++] = isFirstByteHasSign ? word >> 24 : (word >> 24) & 0xff;\r\n      if (wordArray.sigBytes % 4 == 0) {\r\n        byteArray[offset++] = (word >> 16) & 0xff;\r\n        byteArray[offset++] = (word >> 8) & 0xff;\r\n        byteArray[offset++] = word & 0xff;\r\n      }\r\n      if (wordArray.sigBytes % 4 > 1) {\r\n        byteArray[offset++] = (word >> 16) & 0xff;\r\n      }\r\n      if (wordArray.sigBytes % 4 > 2) {\r\n        byteArray[offset++] = (word >> 8) & 0xff;\r\n      }\r\n      return byteArray;\r\n    },\r\n    byteArrayToString: function (bytes, opt_startIndex, length) {\r\n      if (length == 0) {\r\n        return \"\";\r\n      }\r\n\r\n      if (opt_startIndex && length) {\r\n        var index = this.checkBytesToIntInput(bytes, parseInt(length, 10), parseInt(opt_startIndex, 10));\r\n\r\n        bytes = bytes.slice(opt_startIndex, opt_startIndex + length);\r\n      }\r\n\r\n      return decodeURIComponent(escape(String.fromCharCode.apply(null, bytes)));\r\n    },\r\n    byteArrayToShortArray: function (byteArray) {\r\n      var shortArray = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n      var i;\r\n      for (i = 0; i < 16; i++) {\r\n        shortArray[i] = byteArray[i * 2] | byteArray[i * 2 + 1] << 8;\r\n      }\r\n      return shortArray;\r\n    },\r\n    shortArrayToByteArray: function (shortArray) {\r\n      var byteArray = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n      var i;\r\n      for (i = 0; i < 16; i++) {\r\n        byteArray[2 * i] = shortArray[i] & 0xff;\r\n        byteArray[2 * i + 1] = shortArray[i] >> 8;\r\n      }\r\n\r\n      return byteArray;\r\n    },\r\n    shortArrayToHexString: function (ary) {\r\n      var res = \"\";\r\n      for (var i = 0; i < ary.length; i++) {\r\n        res += nibbleToChar[(ary[i] >> 4) & 0x0f] + nibbleToChar[ary[i] & 0x0f] + nibbleToChar[(ary[i] >> 12) & 0x0f] + nibbleToChar[(ary[i] >> 8) & 0x0f];\r\n      }\r\n      return res;\r\n    },\r\n  }\r\n}();\r\n/* convert end*/\r\n\r\n/* sha256 start*/\r\n/*\r\nCryptoJS v3.1.2\r\ncode.google.com/p/crypto-js\r\n(c) 2009-2013 by Jeff Mott. All rights reserved.\r\ncode.google.com/p/crypto-js/wiki/License\r\n*/\r\nvar CryptoJS = CryptoJS || function (h, s) {\r\n  var f = {}, t = f.lib = {}, g = function () { }, j = t.Base = {\r\n    extend: function (a) {\r\n      g.prototype = this;\r\n      var c = new g;\r\n      a && c.mixIn(a);\r\n      c.hasOwnProperty(\"init\") || (c.init = function () {\r\n        c.$super.init.apply(this, arguments)\r\n      });\r\n      c.init.prototype = c;\r\n      c.$super = this;\r\n      return c\r\n    },\r\n    create: function () {\r\n      var a = this.extend();\r\n      a.init.apply(a, arguments);\r\n      return a\r\n    },\r\n    init: function () { },\r\n    mixIn: function (a) {\r\n      for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c]);\r\n      a.hasOwnProperty(\"toString\") && (this.toString = a.toString)\r\n    },\r\n    clone: function () {\r\n      return this.init.prototype.extend(this)\r\n    }\r\n  },\r\n    q = t.WordArray = j.extend({\r\n      init: function (a, c) {\r\n        a = this.words = a || [];\r\n        this.sigBytes = c != s ? c : 4 * a.length\r\n      },\r\n      toString: function (a) {\r\n        return (a || u).stringify(this)\r\n      },\r\n      concat: function (a) {\r\n        var c = this.words,\r\n          d = a.words,\r\n          b = this.sigBytes;\r\n        a = a.sigBytes;\r\n        this.clamp();\r\n        if (b % 4)\r\n          for (var e = 0; e < a; e++) c[b + e >>> 2] |= (d[e >>> 2] >>> 24 - 8 * (e % 4) & 255) << 24 - 8 * ((b + e) % 4);\r\n        else if (65535 < d.length)\r\n          for (e = 0; e < a; e += 4) c[b + e >>> 2] = d[e >>> 2];\r\n        else c.push.apply(c, d);\r\n        this.sigBytes += a;\r\n        return this\r\n      },\r\n      clamp: function () {\r\n        var a = this.words,\r\n          c = this.sigBytes;\r\n        a[c >>> 2] &= 4294967295 <<\r\n          32 - 8 * (c % 4);\r\n        a.length = h.ceil(c / 4)\r\n      },\r\n      clone: function () {\r\n        var a = j.clone.call(this);\r\n        a.words = this.words.slice(0);\r\n        return a\r\n      },\r\n      random: function (a) {\r\n        for (var c = [], d = 0; d < a; d += 4) c.push(4294967296 * h.random() | 0);\r\n        return new q.init(c, a)\r\n      }\r\n    }),\r\n    v = f.enc = {}, u = v.Hex = {\r\n      stringify: function (a) {\r\n        var c = a.words;\r\n        a = a.sigBytes;\r\n        for (var d = [], b = 0; b < a; b++) {\r\n          var e = c[b >>> 2] >>> 24 - 8 * (b % 4) & 255;\r\n          d.push((e >>> 4).toString(16));\r\n          d.push((e & 15).toString(16))\r\n        }\r\n        return d.join(\"\")\r\n      },\r\n      parse: function (a) {\r\n        for (var c = a.length, d = [], b = 0; b < c; b += 2) d[b >>> 3] |= parseInt(a.substr(b,\r\n          2), 16) << 24 - 4 * (b % 8);\r\n        return new q.init(d, c / 2)\r\n      }\r\n    }, k = v.Latin1 = {\r\n      stringify: function (a) {\r\n        var c = a.words;\r\n        a = a.sigBytes;\r\n        for (var d = [], b = 0; b < a; b++) d.push(String.fromCharCode(c[b >>> 2] >>> 24 - 8 * (b % 4) & 255));\r\n        return d.join(\"\")\r\n      },\r\n      parse: function (a) {\r\n        for (var c = a.length, d = [], b = 0; b < c; b++) d[b >>> 2] |= (a.charCodeAt(b) & 255) << 24 - 8 * (b % 4);\r\n        return new q.init(d, c)\r\n      }\r\n    }, l = v.Utf8 = {\r\n      stringify: function (a) {\r\n        try {\r\n          return decodeURIComponent(escape(k.stringify(a)))\r\n        } catch (c) {\r\n          throw Error(\"Malformed UTF-8 data\");\r\n        }\r\n      },\r\n      parse: function (a) {\r\n        return k.parse(unescape(encodeURIComponent(a)))\r\n      }\r\n    },\r\n    x = t.BufferedBlockAlgorithm = j.extend({\r\n      reset: function () {\r\n        this._data = new q.init;\r\n        this._nDataBytes = 0\r\n      },\r\n      _append: function (a) {\r\n        \"string\" == typeof a && (a = l.parse(a));\r\n        this._data.concat(a);\r\n        this._nDataBytes += a.sigBytes\r\n      },\r\n      _process: function (a) {\r\n        var c = this._data,\r\n          d = c.words,\r\n          b = c.sigBytes,\r\n          e = this.blockSize,\r\n          f = b / (4 * e),\r\n          f = a ? h.ceil(f) : h.max((f | 0) - this._minBufferSize, 0);\r\n        a = f * e;\r\n        b = h.min(4 * a, b);\r\n        if (a) {\r\n          for (var m = 0; m < a; m += e) this._doProcessBlock(d, m);\r\n          m = d.splice(0, a);\r\n          c.sigBytes -= b\r\n        }\r\n        return new q.init(m, b)\r\n      },\r\n      clone: function () {\r\n        var a = j.clone.call(this);\r\n        a._data = this._data.clone();\r\n        return a\r\n      },\r\n      _minBufferSize: 0\r\n    });\r\n  t.Hasher = x.extend({\r\n    cfg: j.extend(),\r\n    init: function (a) {\r\n      this.cfg = this.cfg.extend(a);\r\n      this.reset()\r\n    },\r\n    reset: function () {\r\n      x.reset.call(this);\r\n      this._doReset()\r\n    },\r\n    update: function (a) {\r\n      this._append(a);\r\n      this._process();\r\n      return this\r\n    },\r\n    finalize: function (a) {\r\n      a && this._append(a);\r\n      return this._doFinalize()\r\n    },\r\n    blockSize: 16,\r\n    _createHelper: function (a) {\r\n      return function (c, d) {\r\n        return (new a.init(d)).finalize(c)\r\n      }\r\n    },\r\n    _createHmacHelper: function (a) {\r\n      return function (c, d) {\r\n        return (new w.HMAC.init(a,\r\n          d)).finalize(c)\r\n      }\r\n    }\r\n  });\r\n  var w = f.algo = {};\r\n  return f\r\n}(Math);\r\n(function (h) {\r\n  for (var s = CryptoJS, f = s.lib, t = f.WordArray, g = f.Hasher, f = s.algo, j = [], q = [], v = function (a) {\r\n    return 4294967296 * (a - (a | 0)) | 0\r\n  }, u = 2, k = 0; 64 > k;) {\r\n    var l;\r\n    a: {\r\n      l = u;\r\n      for (var x = h.sqrt(l), w = 2; w <= x; w++)\r\n        if (!(l % w)) {\r\n          l = !1;\r\n          break a\r\n        }\r\n      l = !0\r\n    }\r\n    // eslint-disable-next-line no-unused-expressions\r\n    l && (8 > k && (j[k] = v(h.pow(u, 0.5))), q[k] = v(h.pow(u, 1 / 3)), k++);\r\n    u++\r\n  }\r\n  var a = [],\r\n    f = f.SHA256 = g.extend({\r\n      _doReset: function () {\r\n        this._hash = new t.init(j.slice(0))\r\n      },\r\n      _doProcessBlock: function (c, d) {\r\n        for (var b = this._hash.words, e = b[0], f = b[1], m = b[2], h = b[3], p = b[4], j = b[5], k = b[6], l = b[7], n = 0; 64 > n; n++) {\r\n          if (16 > n) a[n] =\r\n            c[d + n] | 0;\r\n          else {\r\n            var r = a[n - 15],\r\n              g = a[n - 2];\r\n            a[n] = ((r << 25 | r >>> 7) ^ (r << 14 | r >>> 18) ^ r >>> 3) + a[n - 7] + ((g << 15 | g >>> 17) ^ (g << 13 | g >>> 19) ^ g >>> 10) + a[n - 16]\r\n          }\r\n          r = l + ((p << 26 | p >>> 6) ^ (p << 21 | p >>> 11) ^ (p << 7 | p >>> 25)) + (p & j ^ ~p & k) + q[n] + a[n];\r\n          g = ((e << 30 | e >>> 2) ^ (e << 19 | e >>> 13) ^ (e << 10 | e >>> 22)) + (e & f ^ e & m ^ f & m);\r\n          l = k;\r\n          k = j;\r\n          j = p;\r\n          p = h + r | 0;\r\n          h = m;\r\n          m = f;\r\n          f = e;\r\n          e = r + g | 0\r\n        }\r\n        b[0] = b[0] + e | 0;\r\n        b[1] = b[1] + f | 0;\r\n        b[2] = b[2] + m | 0;\r\n        b[3] = b[3] + h | 0;\r\n        b[4] = b[4] + p | 0;\r\n        b[5] = b[5] + j | 0;\r\n        b[6] = b[6] + k | 0;\r\n        b[7] = b[7] + l | 0\r\n      },\r\n      _doFinalize: function () {\r\n        var a = this._data,\r\n          d = a.words,\r\n          b = 8 * this._nDataBytes,\r\n          e = 8 * a.sigBytes;\r\n        d[e >>> 5] |= 128 << 24 - e % 32;\r\n        d[(e + 64 >>> 9 << 4) + 14] = h.floor(b / 4294967296);\r\n        d[(e + 64 >>> 9 << 4) + 15] = b;\r\n        a.sigBytes = 4 * d.length;\r\n        this._process();\r\n        return this._hash\r\n      },\r\n      clone: function () {\r\n        var a = g.clone.call(this);\r\n        a._hash = this._hash.clone();\r\n        return a\r\n      }\r\n    });\r\n  s.SHA256 = g._createHelper(f);\r\n  s.HmacSHA256 = g._createHmacHelper(f)\r\n})(Math);\r\n/* sha 256 end */\r\n\r\n/* 25519 start*/\r\n\r\n/* 25519 start*/\r\n\r\n\r\nvar curve25519_zero = function () {\r\n  return [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n}\r\n\r\nvar curve25519_one = function () {\r\n  return [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n}\r\n\r\nvar curve25519_two = function () {\r\n  return [2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n}\r\n\r\nvar curve25519_nine = function () {\r\n  return [9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n}\r\n\r\nvar curve25519_486671 = function () {\r\n  return [27919, 7, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n}\r\n\r\nvar curve25519_39420360 = function () {\r\n  return [33224, 601, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n}\r\n\r\nvar curve25519_r2y = function () {\r\n  return [0x1670, 0x4000, 0xf219, 0xd369, 0x2248, 0x4845, 0x679a, 0x884d, 0x5d19, 0x16bf, 0xda74, 0xe57d, 0x5e53, 0x3705, 0x3526, 0x17c0];\r\n}\r\n\r\nvar curve25519_2y = function () {\r\n  return [0x583b, 0x0262, 0x74bb, 0xac2c, 0x3c9b, 0x2507, 0x6503, 0xdb85, 0x5d66, 0x116e, 0x45a7, 0x3fc2, 0xf296, 0x8ebe, 0xccbc, 0x3ea3];\r\n}\r\n\r\nvar curve25519_clamp = function (curve) {\r\n  curve[0] &= 0xFFF8;\r\n  curve[15] &= 0x7FFF;\r\n  curve[15] |= 0x4000;\r\n  return curve;\r\n}\r\n\r\nvar curve25519_getbit = function (curve, c) {\r\n  return ~~(curve[~~(c / 16)] / Math.pow(2, c % 16)) % 2;\r\n}\r\n\r\nvar curve25519_prime = [0xffff - 18, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0xffff, 0x7fff];\r\n\r\n/* group order (a prime near 2^252+2^124) */\r\nvar curve25519_order = [\r\n  237, 211, 245, 92, 26, 99, 18, 88, 214, 156, 247, 162, 222, 249, 222, 20,\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16];\r\n\r\nvar curve25519_order_times_8 = [\r\n  104, 159, 174, 231, 210, 24, 147, 192, 178, 230, 188, 23, 245, 206, 247, 166,\r\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128];\r\n\r\n\r\nvar curve25519_convertToByteArray = function (a) {\r\n  var b = new Int8Array(32);\r\n  var i;\r\n  for (i = 0; i < 16; i++) {\r\n    b[2 * i] = a[i] & 0xff;\r\n    b[2 * i + 1] = a[i] >> 8;\r\n  }\r\n\r\n  return b;\r\n}\r\n\r\nvar curve25519_convertToShortArray = function (a) {\r\n  var b = new Array(16);\r\n  var i, val1, val2;\r\n  for (i = 0; i < 16; i++) {\r\n    val1 = a[i * 2];\r\n    if (val1 < 0) {\r\n      val1 += 256;\r\n    }\r\n    val2 = a[i * 2 + 1];\r\n    if (val2 < 0) {\r\n      val2 += 256;\r\n    }\r\n    b[i] = val1 + val2 * 256;\r\n  }\r\n  return b;\r\n\r\n}\r\n\r\nvar curve25519_fillShortArray = function (src, dest) {\r\n  var i;\r\n  for (i = 0; i < 16; i++) {\r\n    dest[i] = src[i];\r\n  }\r\n}\r\n\r\nvar curve25519_fillByteArray = function (src, dest) {\r\n  var i;\r\n  for (i = 0; i < 32; i++) {\r\n    dest[i] = src[i];\r\n  }\r\n}\r\n\r\nvar curve25519_cpy32 = function (a) {\r\n  var b = new Int8Array(32);\r\n  var i = 0;\r\n  for (i = 0; i < 32; i++) {\r\n    b[i] = a[i];\r\n  }\r\n  return b;\r\n}\r\n\r\nvar curve25519_mula_small = function (p, q, m, x, n, z) {\r\n  var v = 0;\r\n  for (var j = 0; j < n; ++j) {\r\n    v += (q[j + m] & 0xFF) + z * (x[j] & 0xFF);\r\n    p[j + m] = (v & 0xFF);\r\n    v >>= 8;\r\n  }\r\n  return v;\r\n}\r\n\r\nvar curve25519_mula32 = function (p, x, y, t, z) {\r\n  var n = 31;\r\n  var w = 0;\r\n  for (var i = 0; i < t; i++) {\r\n    var zy = z * (y[i] & 0xFF);\r\n    w += curve25519_mula_small(p, p, i, x, n, zy) + (p[i + n] & 0xFF) + zy * (x[n] & 0xFF);\r\n    p[i + n] = (w & 0xFF);\r\n    w >>= 8;\r\n  }\r\n  p[i + n] = ((w + (p[i + n] & 0xFF)) & 0xFF);\r\n  return w >> 8;\r\n}\r\n\r\nvar curve25519_divmod = function (q, r, n, d, t) {\r\n  var rn = 0, z = 0;\r\n  var dt = ((d[t - 1] & 0xFF) << 8);\r\n  if (t > 1) {\r\n    dt |= (d[t - 2] & 0xFF);\r\n  }\r\n  while (n-- >= t) {\r\n    z = (rn << 16) | ((r[n] & 0xFF) << 8);\r\n    if (n > 0) {\r\n      z |= (r[n - 1] & 0xFF);\r\n    }\r\n    z = parseInt(z / dt);\r\n    rn += curve25519_mula_small(r, r, n - t + 1, d, t, -z);\r\n    q[n - t + 1] = ((z + rn) & 0xFF); // rn is 0 or -1 (underflow)\r\n    curve25519_mula_small(r, r, n - t + 1, d, t, -rn);\r\n    rn = (r[n] & 0xFF);\r\n    r[n] = 0;\r\n  }\r\n  r[t - 1] = (rn & 0xFF);\r\n}\r\n\r\nvar curve25519_numsize = function (x, n) {\r\n  while (n-- != 0 && x[n] == 0)\r\n    ;\r\n  return n + 1;\r\n}\r\n\r\nvar curve25519_egcd32 = function (x, y, a, b) {\r\n  var an = 0, bn = 32, qn = 0, i = 0;\r\n  for (i = 0; i < 32; i++) {\r\n    x[i] = y[i] = 0;\r\n  }\r\n  x[0] = 1;\r\n  an = curve25519_numsize(a, 32);\r\n  if (an == 0) {\r\n    return y;\t// division by zero\r\n  }\r\n  var temp = new Int8Array(32);\r\n  while (true) {\r\n    qn = bn - an + 1;\r\n    curve25519_divmod(temp, b, bn, a, an);\r\n    bn = curve25519_numsize(b, bn);\r\n    if (bn == 0) {\r\n      return x;\r\n    }\r\n    curve25519_mula32(y, x, temp, qn, -1);\r\n\r\n    qn = an - bn + 1;\r\n    curve25519_divmod(temp, a, an, b, bn);\r\n    an = curve25519_numsize(a, an);\r\n    if (an == 0) {\r\n      return y;\r\n    }\r\n    curve25519_mula32(x, y, temp, qn, -1);\r\n  }\r\n}\r\n\r\nvar curve25519_compare = function (a, b) {\r\n  var c;\r\n  for (c = 15; c >= 0; c--) {\r\n    var x = a[c];\r\n    var y = b[c];\r\n    if (x > y) {\r\n      return 1;\r\n    }\r\n    if (x < y) {\r\n      return -1;\r\n    }\r\n  }\r\n  return 0;\r\n}\r\n\r\nvar curve25519_cpy16 = function (a) {\r\n  var r = new Array(16);\r\n  var i;\r\n  for (i = 0; i < 16; i++) {\r\n    r[i] = a[i];\r\n  }\r\n  return r;\r\n}\r\n\r\n/***\r\n * BloodyRookie: odd numbers are negativ\r\n */\r\nvar curve25519_isNegative = function (x) {\r\n  return (x[0] & 1);\r\n}\r\n\r\nvar curve25519_isOverflow = function (x) {\r\n  if (x[15] >= 0x8000) return 1;\r\n  if (x[0] >= 0x10000) {\r\n    var i;\r\n    for (i = 1; i < 15; i++) {\r\n      if (x[i] < 0xFFFF) {\r\n        return 0;\r\n      }\r\n    }\r\n    return 1;\r\n  }\r\n  else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nvar curve25519_sqr8h = function (r, a7, a6, a5, a4, a3, a2, a1, a0) {\r\n  var v = 0;\r\n  r[0] = (v = a0 * a0) & 0xffff;\r\n  r[1] = (v = ~~(v / 0x10000) + 2 * a0 * a1) & 0xffff;\r\n  r[2] = (v = ~~(v / 0x10000) + 2 * a0 * a2 + a1 * a1) & 0xffff;\r\n  r[3] = (v = ~~(v / 0x10000) + 2 * a0 * a3 + 2 * a1 * a2) & 0xffff;\r\n  r[4] = (v = ~~(v / 0x10000) + 2 * a0 * a4 + 2 * a1 * a3 + a2 * a2) & 0xffff;\r\n  r[5] = (v = ~~(v / 0x10000) + 2 * a0 * a5 + 2 * a1 * a4 + 2 * a2 * a3) & 0xffff;\r\n  r[6] = (v = ~~(v / 0x10000) + 2 * a0 * a6 + 2 * a1 * a5 + 2 * a2 * a4 + a3 * a3) & 0xffff;\r\n  r[7] = (v = ~~(v / 0x10000) + 2 * a0 * a7 + 2 * a1 * a6 + 2 * a2 * a5 + 2 * a3 * a4) & 0xffff;\r\n  r[8] = (v = ~~(v / 0x10000) + 2 * a1 * a7 + 2 * a2 * a6 + 2 * a3 * a5 + a4 * a4) & 0xffff;\r\n  r[9] = (v = ~~(v / 0x10000) + 2 * a2 * a7 + 2 * a3 * a6 + 2 * a4 * a5) & 0xffff;\r\n  r[10] = (v = ~~(v / 0x10000) + 2 * a3 * a7 + 2 * a4 * a6 + a5 * a5) & 0xffff;\r\n  r[11] = (v = ~~(v / 0x10000) + 2 * a4 * a7 + 2 * a5 * a6) & 0xffff;\r\n  r[12] = (v = ~~(v / 0x10000) + 2 * a5 * a7 + a6 * a6) & 0xffff;\r\n  r[13] = (v = ~~(v / 0x10000) + 2 * a6 * a7) & 0xffff;\r\n  r[14] = (v = ~~(v / 0x10000) + a7 * a7) & 0xffff;\r\n  r[15] = ~~(v / 0x10000);\r\n}\r\n\r\nvar curve25519_sqrmodp = function (r, a) {\r\n  var x = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var y = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var z = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  curve25519_sqr8h(x, a[15], a[14], a[13], a[12], a[11], a[10], a[9], a[8]);\r\n  curve25519_sqr8h(z, a[7], a[6], a[5], a[4], a[3], a[2], a[1], a[0]);\r\n  curve25519_sqr8h(y, a[15] + a[7], a[14] + a[6], a[13] + a[5], a[12] + a[4], a[11] + a[3], a[10] + a[2], a[9] + a[1], a[8] + a[0]);\r\n  var v = 0;\r\n  r[0] = (v = 0x800000 + z[0] + (y[8] - x[8] - z[8] + x[0] - 0x80) * 38) & 0xffff;\r\n  r[1] = (v = 0x7fff80 + ~~(v / 0x10000) + z[1] + (y[9] - x[9] - z[9] + x[1]) * 38) & 0xffff;\r\n  r[2] = (v = 0x7fff80 + ~~(v / 0x10000) + z[2] + (y[10] - x[10] - z[10] + x[2]) * 38) & 0xffff;\r\n  r[3] = (v = 0x7fff80 + ~~(v / 0x10000) + z[3] + (y[11] - x[11] - z[11] + x[3]) * 38) & 0xffff;\r\n  r[4] = (v = 0x7fff80 + ~~(v / 0x10000) + z[4] + (y[12] - x[12] - z[12] + x[4]) * 38) & 0xffff;\r\n  r[5] = (v = 0x7fff80 + ~~(v / 0x10000) + z[5] + (y[13] - x[13] - z[13] + x[5]) * 38) & 0xffff;\r\n  r[6] = (v = 0x7fff80 + ~~(v / 0x10000) + z[6] + (y[14] - x[14] - z[14] + x[6]) * 38) & 0xffff;\r\n  r[7] = (v = 0x7fff80 + ~~(v / 0x10000) + z[7] + (y[15] - x[15] - z[15] + x[7]) * 38) & 0xffff;\r\n  r[8] = (v = 0x7fff80 + ~~(v / 0x10000) + z[8] + y[0] - x[0] - z[0] + x[8] * 38) & 0xffff;\r\n  r[9] = (v = 0x7fff80 + ~~(v / 0x10000) + z[9] + y[1] - x[1] - z[1] + x[9] * 38) & 0xffff;\r\n  r[10] = (v = 0x7fff80 + ~~(v / 0x10000) + z[10] + y[2] - x[2] - z[2] + x[10] * 38) & 0xffff;\r\n  r[11] = (v = 0x7fff80 + ~~(v / 0x10000) + z[11] + y[3] - x[3] - z[3] + x[11] * 38) & 0xffff;\r\n  r[12] = (v = 0x7fff80 + ~~(v / 0x10000) + z[12] + y[4] - x[4] - z[4] + x[12] * 38) & 0xffff;\r\n  r[13] = (v = 0x7fff80 + ~~(v / 0x10000) + z[13] + y[5] - x[5] - z[5] + x[13] * 38) & 0xffff;\r\n  r[14] = (v = 0x7fff80 + ~~(v / 0x10000) + z[14] + y[6] - x[6] - z[6] + x[14] * 38) & 0xffff;\r\n  r[15] = 0x7fff80 + ~~(v / 0x10000) + z[15] + y[7] - x[7] - z[7] + x[15] * 38;\r\n  curve25519_reduce(r);\r\n}\r\n\r\nvar curve25519_mul8h = function (r, a7, a6, a5, a4, a3, a2, a1, a0, b7, b6, b5, b4, b3, b2, b1, b0) {\r\n  var v = 0;\r\n  r[0] = (v = a0 * b0) & 0xffff;\r\n  r[1] = (v = ~~(v / 0x10000) + a0 * b1 + a1 * b0) & 0xffff;\r\n  r[2] = (v = ~~(v / 0x10000) + a0 * b2 + a1 * b1 + a2 * b0) & 0xffff;\r\n  r[3] = (v = ~~(v / 0x10000) + a0 * b3 + a1 * b2 + a2 * b1 + a3 * b0) & 0xffff;\r\n  r[4] = (v = ~~(v / 0x10000) + a0 * b4 + a1 * b3 + a2 * b2 + a3 * b1 + a4 * b0) & 0xffff;\r\n  r[5] = (v = ~~(v / 0x10000) + a0 * b5 + a1 * b4 + a2 * b3 + a3 * b2 + a4 * b1 + a5 * b0) & 0xffff;\r\n  r[6] = (v = ~~(v / 0x10000) + a0 * b6 + a1 * b5 + a2 * b4 + a3 * b3 + a4 * b2 + a5 * b1 + a6 * b0) & 0xffff;\r\n  r[7] = (v = ~~(v / 0x10000) + a0 * b7 + a1 * b6 + a2 * b5 + a3 * b4 + a4 * b3 + a5 * b2 + a6 * b1 + a7 * b0) & 0xffff;\r\n  r[8] = (v = ~~(v / 0x10000) + a1 * b7 + a2 * b6 + a3 * b5 + a4 * b4 + a5 * b3 + a6 * b2 + a7 * b1) & 0xffff;\r\n  r[9] = (v = ~~(v / 0x10000) + a2 * b7 + a3 * b6 + a4 * b5 + a5 * b4 + a6 * b3 + a7 * b2) & 0xffff;\r\n  r[10] = (v = ~~(v / 0x10000) + a3 * b7 + a4 * b6 + a5 * b5 + a6 * b4 + a7 * b3) & 0xffff;\r\n  r[11] = (v = ~~(v / 0x10000) + a4 * b7 + a5 * b6 + a6 * b5 + a7 * b4) & 0xffff;\r\n  r[12] = (v = ~~(v / 0x10000) + a5 * b7 + a6 * b6 + a7 * b5) & 0xffff;\r\n  r[13] = (v = ~~(v / 0x10000) + a6 * b7 + a7 * b6) & 0xffff;\r\n  r[14] = (v = ~~(v / 0x10000) + a7 * b7) & 0xffff;\r\n  r[15] = ~~(v / 0x10000);\r\n}\r\n\r\nvar curve25519_mulmodp = function (r, a, b) {\r\n  var x = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var y = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var z = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  curve25519_mul8h(x, a[15], a[14], a[13], a[12], a[11], a[10], a[9], a[8], b[15], b[14], b[13], b[12], b[11], b[10], b[9], b[8]);\r\n  curve25519_mul8h(z, a[7], a[6], a[5], a[4], a[3], a[2], a[1], a[0], b[7], b[6], b[5], b[4], b[3], b[2], b[1], b[0]);\r\n  curve25519_mul8h(y, a[15] + a[7], a[14] + a[6], a[13] + a[5], a[12] + a[4], a[11] + a[3], a[10] + a[2], a[9] + a[1], a[8] + a[0],\r\n    b[15] + b[7], b[14] + b[6], b[13] + b[5], b[12] + b[4], b[11] + b[3], b[10] + b[2], b[9] + b[1], b[8] + b[0]);\r\n  var v = 0;\r\n  r[0] = (v = 0x800000 + z[0] + (y[8] - x[8] - z[8] + x[0] - 0x80) * 38) & 0xffff;\r\n  r[1] = (v = 0x7fff80 + ~~(v / 0x10000) + z[1] + (y[9] - x[9] - z[9] + x[1]) * 38) & 0xffff;\r\n  r[2] = (v = 0x7fff80 + ~~(v / 0x10000) + z[2] + (y[10] - x[10] - z[10] + x[2]) * 38) & 0xffff;\r\n  r[3] = (v = 0x7fff80 + ~~(v / 0x10000) + z[3] + (y[11] - x[11] - z[11] + x[3]) * 38) & 0xffff;\r\n  r[4] = (v = 0x7fff80 + ~~(v / 0x10000) + z[4] + (y[12] - x[12] - z[12] + x[4]) * 38) & 0xffff;\r\n  r[5] = (v = 0x7fff80 + ~~(v / 0x10000) + z[5] + (y[13] - x[13] - z[13] + x[5]) * 38) & 0xffff;\r\n  r[6] = (v = 0x7fff80 + ~~(v / 0x10000) + z[6] + (y[14] - x[14] - z[14] + x[6]) * 38) & 0xffff;\r\n  r[7] = (v = 0x7fff80 + ~~(v / 0x10000) + z[7] + (y[15] - x[15] - z[15] + x[7]) * 38) & 0xffff;\r\n  r[8] = (v = 0x7fff80 + ~~(v / 0x10000) + z[8] + y[0] - x[0] - z[0] + x[8] * 38) & 0xffff;\r\n  r[9] = (v = 0x7fff80 + ~~(v / 0x10000) + z[9] + y[1] - x[1] - z[1] + x[9] * 38) & 0xffff;\r\n  r[10] = (v = 0x7fff80 + ~~(v / 0x10000) + z[10] + y[2] - x[2] - z[2] + x[10] * 38) & 0xffff;\r\n  r[11] = (v = 0x7fff80 + ~~(v / 0x10000) + z[11] + y[3] - x[3] - z[3] + x[11] * 38) & 0xffff;\r\n  r[12] = (v = 0x7fff80 + ~~(v / 0x10000) + z[12] + y[4] - x[4] - z[4] + x[12] * 38) & 0xffff;\r\n  r[13] = (v = 0x7fff80 + ~~(v / 0x10000) + z[13] + y[5] - x[5] - z[5] + x[13] * 38) & 0xffff;\r\n  r[14] = (v = 0x7fff80 + ~~(v / 0x10000) + z[14] + y[6] - x[6] - z[6] + x[14] * 38) & 0xffff;\r\n  r[15] = 0x7fff80 + ~~(v / 0x10000) + z[15] + y[7] - x[7] - z[7] + x[15] * 38;\r\n  curve25519_reduce(r);\r\n}\r\n\r\nvar curve25519_mulasmall = function (r, a, m) {\r\n  var v = 0;\r\n  r[0] = (v = a[0] * m) & 0xffff;\r\n  r[1] = (v = ~~(v / 0x10000) + a[1] * m) & 0xffff;\r\n  r[2] = (v = ~~(v / 0x10000) + a[2] * m) & 0xffff;\r\n  r[3] = (v = ~~(v / 0x10000) + a[3] * m) & 0xffff;\r\n  r[4] = (v = ~~(v / 0x10000) + a[4] * m) & 0xffff;\r\n  r[5] = (v = ~~(v / 0x10000) + a[5] * m) & 0xffff;\r\n  r[6] = (v = ~~(v / 0x10000) + a[6] * m) & 0xffff;\r\n  r[7] = (v = ~~(v / 0x10000) + a[7] * m) & 0xffff;\r\n  r[8] = (v = ~~(v / 0x10000) + a[8] * m) & 0xffff;\r\n  r[9] = (v = ~~(v / 0x10000) + a[9] * m) & 0xffff;\r\n  r[10] = (v = ~~(v / 0x10000) + a[10] * m) & 0xffff;\r\n  r[11] = (v = ~~(v / 0x10000) + a[11] * m) & 0xffff;\r\n  r[12] = (v = ~~(v / 0x10000) + a[12] * m) & 0xffff;\r\n  r[13] = (v = ~~(v / 0x10000) + a[13] * m) & 0xffff;\r\n  r[14] = (v = ~~(v / 0x10000) + a[14] * m) & 0xffff;\r\n  r[15] = ~~(v / 0x10000) + a[15] * m;\r\n  curve25519_reduce(r);\r\n}\r\n\r\nvar curve25519_addmodp = function (r, a, b) {\r\n  var v = 0;\r\n  r[0] = (v = (~~(a[15] / 0x8000) + ~~(b[15] / 0x8000)) * 19 + a[0] + b[0]) & 0xffff;\r\n  r[1] = (v = ~~(v / 0x10000) + a[1] + b[1]) & 0xffff;\r\n  r[2] = (v = ~~(v / 0x10000) + a[2] + b[2]) & 0xffff;\r\n  r[3] = (v = ~~(v / 0x10000) + a[3] + b[3]) & 0xffff;\r\n  r[4] = (v = ~~(v / 0x10000) + a[4] + b[4]) & 0xffff;\r\n  r[5] = (v = ~~(v / 0x10000) + a[5] + b[5]) & 0xffff;\r\n  r[6] = (v = ~~(v / 0x10000) + a[6] + b[6]) & 0xffff;\r\n  r[7] = (v = ~~(v / 0x10000) + a[7] + b[7]) & 0xffff;\r\n  r[8] = (v = ~~(v / 0x10000) + a[8] + b[8]) & 0xffff;\r\n  r[9] = (v = ~~(v / 0x10000) + a[9] + b[9]) & 0xffff;\r\n  r[10] = (v = ~~(v / 0x10000) + a[10] + b[10]) & 0xffff;\r\n  r[11] = (v = ~~(v / 0x10000) + a[11] + b[11]) & 0xffff;\r\n  r[12] = (v = ~~(v / 0x10000) + a[12] + b[12]) & 0xffff;\r\n  r[13] = (v = ~~(v / 0x10000) + a[13] + b[13]) & 0xffff;\r\n  r[14] = (v = ~~(v / 0x10000) + a[14] + b[14]) & 0xffff;\r\n  r[15] = ~~(v / 0x10000) + a[15] % 0x8000 + b[15] % 0x8000;\r\n}\r\n\r\nvar curve25519_submodp = function (r, a, b) {\r\n  var v = 0;\r\n  r[0] = (v = 0x80000 + (~~(a[15] / 0x8000) - ~~(b[15] / 0x8000) - 1) * 19 + a[0] - b[0]) & 0xffff;\r\n  r[1] = (v = ~~(v / 0x10000) + 0x7fff8 + a[1] - b[1]) & 0xffff;\r\n  r[2] = (v = ~~(v / 0x10000) + 0x7fff8 + a[2] - b[2]) & 0xffff;\r\n  r[3] = (v = ~~(v / 0x10000) + 0x7fff8 + a[3] - b[3]) & 0xffff;\r\n  r[4] = (v = ~~(v / 0x10000) + 0x7fff8 + a[4] - b[4]) & 0xffff;\r\n  r[5] = (v = ~~(v / 0x10000) + 0x7fff8 + a[5] - b[5]) & 0xffff;\r\n  r[6] = (v = ~~(v / 0x10000) + 0x7fff8 + a[6] - b[6]) & 0xffff;\r\n  r[7] = (v = ~~(v / 0x10000) + 0x7fff8 + a[7] - b[7]) & 0xffff;\r\n  r[8] = (v = ~~(v / 0x10000) + 0x7fff8 + a[8] - b[8]) & 0xffff;\r\n  r[9] = (v = ~~(v / 0x10000) + 0x7fff8 + a[9] - b[9]) & 0xffff;\r\n  r[10] = (v = ~~(v / 0x10000) + 0x7fff8 + a[10] - b[10]) & 0xffff;\r\n  r[11] = (v = ~~(v / 0x10000) + 0x7fff8 + a[11] - b[11]) & 0xffff;\r\n  r[12] = (v = ~~(v / 0x10000) + 0x7fff8 + a[12] - b[12]) & 0xffff;\r\n  r[13] = (v = ~~(v / 0x10000) + 0x7fff8 + a[13] - b[13]) & 0xffff;\r\n  r[14] = (v = ~~(v / 0x10000) + 0x7fff8 + a[14] - b[14]) & 0xffff;\r\n  r[15] = ~~(v / 0x10000) + 0x7ff8 + a[15] % 0x8000 - b[15] % 0x8000;\r\n}\r\n/****\r\n * BloodyRookie: a^-1 is found via Fermats little theorem:\r\n * a^p congruent a mod p and therefore a^(p-2) congruent a^-1 mod p\r\n */\r\nvar curve25519_invmodp = function (r, a, sqrtassist) {\r\n  var r1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r4 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r5 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var i = 0;\r\n  curve25519_sqrmodp(r2, a);\t\t\t\t\t//  2 == 2 * 1\r\n  curve25519_sqrmodp(r3, r2);\t\t\t\t\t//  4 == 2 * 2\r\n  curve25519_sqrmodp(r1, r3);\t\t\t\t\t//  8 == 2 * 4\r\n  curve25519_mulmodp(r3, r1, a);\t\t\t\t//  9 == 8 + 1\r\n  curve25519_mulmodp(r1, r3, r2);\t\t\t\t// 11 == 9 + 2\r\n  curve25519_sqrmodp(r2, r1);\t\t\t\t\t// 22 == 2 * 11\r\n  curve25519_mulmodp(r4, r2, r3);\t\t\t\t// 31 == 22 + 9\r\n  //\t== 2^5   - 2^0\r\n  curve25519_sqrmodp(r2, r4);\t\t\t\t\t// 2^6   - 2^1\r\n  curve25519_sqrmodp(r3, r2);\t\t\t\t\t// 2^7   - 2^2\r\n  curve25519_sqrmodp(r2, r3);\t\t\t\t\t// 2^8   - 2^3\r\n  curve25519_sqrmodp(r3, r2);\t\t\t\t\t// 2^9   - 2^4\r\n  curve25519_sqrmodp(r2, r3);\t\t\t\t\t// 2^10  - 2^5\r\n  curve25519_mulmodp(r3, r2, r4);\t\t\t\t// 2^10  - 2^0\r\n  curve25519_sqrmodp(r2, r3);\t\t\t\t\t// 2^11  - 2^1\r\n  curve25519_sqrmodp(r4, r2);\t\t\t\t\t// 2^12  - 2^2\r\n  for (i = 1; i < 5; i++) {\r\n    curve25519_sqrmodp(r2, r4);\r\n    curve25519_sqrmodp(r4, r2);\r\n  } \t\t\t\t\t\t\t\t\t\t\t// 2^20  - 2^10\r\n  curve25519_mulmodp(r2, r4, r3);\t\t\t\t// 2^20  - 2^0\r\n  curve25519_sqrmodp(r4, r2);\t\t\t\t\t// 2^21  - 2^1\r\n  curve25519_sqrmodp(r5, r4);\t\t\t\t\t// 2^22  - 2^2\r\n  for (i = 1; i < 10; i++) {\r\n    curve25519_sqrmodp(r4, r5);\r\n    curve25519_sqrmodp(r5, r4);\r\n  } \t\t\t\t\t\t\t\t\t\t\t// 2^40  - 2^20\r\n  curve25519_mulmodp(r4, r5, r2);\t\t\t\t// 2^40  - 2^0\r\n  for (i = 0; i < 5; i++) {\r\n    curve25519_sqrmodp(r2, r4);\r\n    curve25519_sqrmodp(r4, r2);\r\n  } \t\t\t\t\t\t\t\t\t\t\t// 2^50  - 2^10\r\n  curve25519_mulmodp(r2, r4, r3);\t\t\t\t// 2^50  - 2^0\r\n  curve25519_sqrmodp(r3, r2);\t\t\t\t\t// 2^51  - 2^1\r\n  curve25519_sqrmodp(r4, r3);\t\t\t\t\t// 2^52  - 2^2\r\n  for (i = 1; i < 25; i++) {\r\n    curve25519_sqrmodp(r3, r4);\r\n    curve25519_sqrmodp(r4, r3);\r\n  } \t\t\t\t\t\t\t\t\t\t\t// 2^100 - 2^50\r\n  curve25519_mulmodp(r3, r4, r2);\t\t\t\t// 2^100 - 2^0\r\n  curve25519_sqrmodp(r4, r3);\t\t\t\t\t// 2^101 - 2^1\r\n  curve25519_sqrmodp(r5, r4);\t\t\t\t\t// 2^102 - 2^2\r\n  for (i = 1; i < 50; i++) {\r\n    curve25519_sqrmodp(r4, r5);\r\n    curve25519_sqrmodp(r5, r4);\r\n  } \t\t\t\t\t\t\t\t\t\t\t// 2^200 - 2^100\r\n  curve25519_mulmodp(r4, r5, r3);\t\t\t\t// 2^200 - 2^0\r\n  for (i = 0; i < 25; i++) {\r\n    curve25519_sqrmodp(r5, r4);\r\n    curve25519_sqrmodp(r4, r5);\r\n  } \t\t\t\t\t\t\t\t\t\t\t// 2^250 - 2^50\r\n  curve25519_mulmodp(r3, r4, r2);\t\t\t\t// 2^250 - 2^0\r\n  curve25519_sqrmodp(r2, r3);\t\t\t\t\t// 2^251 - 2^1\r\n  curve25519_sqrmodp(r3, r2);\t\t\t\t\t// 2^252 - 2^2\r\n  if (sqrtassist == 1) {\r\n    curve25519_mulmodp(r, a, r3);\t\t\t\t// 2^252 - 3\r\n  } else {\r\n    curve25519_sqrmodp(r2, r3);\t\t\t\t\t// 2^253 - 2^3\r\n    curve25519_sqrmodp(r3, r2);\t\t\t\t\t// 2^254 - 2^4\r\n    curve25519_sqrmodp(r2, r3);\t\t\t\t\t// 2^255 - 2^5\r\n    curve25519_mulmodp(r, r2, r1);\t\t\t\t// 2^255 - 21\r\n  }\r\n}\r\n\r\n/******\r\n * BloodyRookie: Finding a square root mod p of x if we already know it exists and p congruent 3 mod 8.\r\n * Using x^((p-1)/2) congruent 1 mod p and 2^((p-1)/2) congruent -1 mod p\r\n * because of Eulers criterium we see that when we set v=(2x)^((p-5)/8) then\r\n * i:=2xv^2 is a square root of -1 and thus r=+xv(i-1) and r=-xv(i-1) are the square roots of x.\r\n */\r\nvar curve25519_sqrtmodp = function (r, x) {\r\n  var r1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r4 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  curve25519_addmodp(r1, x, x);\t\t\t\t\t\t\t\t// r1 = 2x\r\n  curve25519_invmodp(r2, r1, 1);\t\t\t\t\t\t\t// r2 = (2x)^((p-5)/8) =: v\r\n  curve25519_sqrmodp(r3, r2);\t\t\t\t\t\t\t\t// r3 = v^2\r\n  curve25519_mulmodp(r4, r1, r3);\t\t\t\t\t\t\t// r4 = 2xv^2 =: i\r\n  curve25519_submodp(r, r4, curve25519_one());\t\t\t\t//  r = i-1\r\n  curve25519_mulmodp(r1, r2, r);\t\t\t\t\t\t\t// r1 = v(i-1)\r\n  curve25519_mulmodp(r, x, r1);\t\t\t\t\t\t\t\t//  r = xv(i-1)\r\n}\r\n\r\nvar curve25519_reduce = function (a) {\r\n  curve25519_reduce2(a);\r\n\r\n  /**\r\n   * BloodyRookie: special case for p <= a < 2^255\r\n   */\r\n  if ((a[15] != 0x7FFF || a[14] != 0xFFFF || a[13] != 0xFFFF || a[12] != 0xFFFF || a[11] != 0xFFFF || a[10] != 0xFFFF || a[9] != 0xFFFF || a[8] != 0xFFFF ||\r\n    a[7] != 0xFFFF || a[6] != 0xFFFF || a[5] != 0xFFFF || a[4] != 0xFFFF || a[3] != 0xFFFF || a[2] != 0xFFFF || a[1] != 0xFFFF || a[0] < 0xFFED)) {\r\n    return;\r\n  }\r\n\r\n  var i;\r\n  for (i = 1; i < 16; i++) {\r\n    a[i] = 0;\r\n  }\r\n  a[0] = a[0] - 0xFFED;\r\n}\r\nvar curve25519_reduce2 = function (a) {\r\n  var v = a[15];\r\n  if (v < 0x8000) return;\r\n  a[15] = v % 0x8000;\r\n  v = ~~(v / 0x8000) * 19;\r\n  a[0] = (v += a[0]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[1] = (v += a[1]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[2] = (v += a[2]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[3] = (v += a[3]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[4] = (v += a[4]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[5] = (v += a[5]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[6] = (v += a[6]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[7] = (v += a[7]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[8] = (v += a[8]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[9] = (v += a[9]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[10] = (v += a[10]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[11] = (v += a[11]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[12] = (v += a[12]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[13] = (v += a[13]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[14] = (v += a[14]) & 0xffff;\r\n  if ((v = ~~(v / 0x10000)) < 1) return;\r\n  a[15] += v;\r\n}\r\n\r\n/**\r\n * Montgomery curve with A=486662 and B=1\r\n */\r\nvar curve25519_x_to_y2 = function (r, x) {\r\n  var r1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  curve25519_sqrmodp(r1, x);\t\t\t\t\t\t\t\t\t// r1 = x^2\r\n  curve25519_mulasmall(r2, x, 486662);\t\t\t\t\t\t\t// r2 = Ax\r\n  curve25519_addmodp(r, r1, r2);\t\t\t\t\t\t\t\t//  r = x^2 + Ax\r\n  curve25519_addmodp(r1, r, curve25519_one());\t\t\t\t\t// r1 = x^2 + Ax + 1\r\n  curve25519_mulmodp(r, r1, x);\t\t\t\t\t\t\t\t\t//  r = x^3 + Ax^2 + x\r\n}\r\n\r\nvar curve25519_prep = function (r, s, a, b) {\r\n  curve25519_addmodp(r, a, b);\r\n  curve25519_submodp(s, a, b);\r\n}\r\n\r\n/****\r\n * BloodyRookie: Doubling a point on a Montgomery curve:\r\n * Point is given in projective coordinates p=x/z\r\n * 2*P = r/s,\r\n * r = (x+z)^2 * (x-z)^2\r\n * s = ((((x+z)^2 - (x-z)^2) * 121665) + (x+z)^2) * ((x+z)^2 - (x-z)^2)\r\n *   = 4*x*z * (x^2 + 486662*x*z + z^2)\r\n *   = 4*x*z * ((x-z)^2 + ((486662+2)/4)(4*x*z))\r\n */\r\nvar curve25519_dbl = function (r, s, t1, t2) {\r\n  var r1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r4 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  curve25519_sqrmodp(r1, t1);\t\t\t\t\t\t\t\t\t// r1 = t1^2\r\n  curve25519_sqrmodp(r2, t2);\t\t\t\t\t\t\t\t\t// r2 = t2^2\r\n  curve25519_submodp(r3, r1, r2);\t\t\t\t\t\t\t\t// r3 = t1^2 - t2^2\r\n  curve25519_mulmodp(r, r2, r1);\t\t\t\t\t\t\t\t//  r = t1^2 * t2^2\r\n  curve25519_mulasmall(r2, r3, 121665);\t\t\t\t\t\t\t// r2 = (t1^2 - t2^2) * 121665\r\n  curve25519_addmodp(r4, r2, r1)\t\t\t\t\t\t\t\t// r4 = (t1^2 - t2^2) * 121665 + t1^2\r\n  curve25519_mulmodp(s, r4, r3);\t\t\t\t\t\t\t\t//  s = ((t1^2 - t2^2) * 121665 + t1^2) * (t1^2 - t2^2)\r\n}\r\n\r\n/****\r\n * BloodyRookie: Adding 2 points on a Montgomery curve:\r\n * R = Q + P = r/s when given\r\n * Q = x/z, P = x_p/z_p, P-Q = x_1/1\r\n * r = ((x-z)*(x_p+z_p) + (x+z)*(x_p-z_p))^2\r\n * s = x_1*((x-z)*(x_p+z_p) - (x+z)*(x_p-z_p))^2\r\n */\r\nfunction curve25519_sum(r, s, t1, t2, t3, t4, x_1) {\r\n  var r1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r3 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var r4 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  curve25519_mulmodp(r1, t2, t3);\t\t\t\t\t\t\t\t// r1 = t2 * t3\r\n  curve25519_mulmodp(r2, t1, t4);\t\t\t\t\t\t\t\t// r2 = t1 * t4\r\n  curve25519_addmodp(r3, r1, r2);\t\t\t\t\t\t\t\t// r3 = t2 * t3 + t1 * t4\r\n  curve25519_submodp(r4, r1, r2);\t\t\t\t\t\t\t\t// r4 = t2 * t3 - t1 * t4\r\n  curve25519_sqrmodp(r, r3);\t\t\t\t\t\t\t\t\t//  r = (t2 * t3 + t1 * t4)^2\r\n  curve25519_sqrmodp(r1, r4);\t\t\t\t\t\t\t\t\t// r1 = (t2 * t3 - t1 * t4)^2\r\n  curve25519_mulmodp(s, r1, x_1);\t\t\t\t\t\t\t\t//  s = (t2 * t3 - t1 * t4)^2 * x_1\r\n}\r\n\r\nfunction curve25519_(f, c, s) {\r\n  var j, a, x_1, q, fb, counter = 0;\r\n  var t = new Array(16), t1 = new Array(16), t2 = new Array(16), t3 = new Array(16), t4 = new Array(16);\r\n  var sb = new Int8Array(32);\r\n  var temp1 = new Int8Array(32);\r\n  var temp2 = new Int8Array(64);\r\n  var temp3 = new Int8Array(64);\r\n\r\n  x_1 = c;\r\n  q = [curve25519_one(), curve25519_zero()];\r\n  a = [x_1, curve25519_one()];\r\n\r\n  var n = 255;\r\n\r\n  /**********************************************************************\r\n   * BloodyRookie:                                                      *\r\n   * Given f = f0*2^0 + f1*2^1 + ... + f255*2^255 and Basepoint a=9/1   *\r\n   * calculate f*a by applying the Montgomery ladder (const time algo): *\r\n   * r0 := 0 (point at infinity)                                        *\r\n   * r1 := a                                                            *\r\n   * for i from 255 to 0 do                                             *\r\n   *   if fi = 0 then                                                   *\r\n   *      r1 := r0 + r1                                                 *\r\n   *      r0 := 2r0                                                     *\r\n   *   else                                                             *\r\n   *      r0 := r0 + r1                                                 *\r\n   *      r1 := 2r1                                                     *\r\n   *                                                                    *\r\n   * Result: r0 = x-coordinate of f*a                                   *\r\n   **********************************************************************/\r\n  var r0 = new Array(new Array(16), new Array(16));\r\n  var r1 = new Array(new Array(16), new Array(16));\r\n  var t1 = new Array(16), t2 = new Array(16);\r\n  var t3 = new Array(16), t4 = new Array(16);\r\n  var fi;\r\n  while (n >= 0) {\r\n    fi = curve25519_getbit(f, n);\r\n    if (fi == 0) {\r\n      curve25519_prep(t1, t2, a[0], a[1]);\r\n      curve25519_prep(t3, t4, q[0], q[1]);\r\n      curve25519_sum(r1[0], r1[1], t1, t2, t3, t4, x_1);\r\n      curve25519_dbl(r0[0], r0[1], t3, t4);\r\n    }\r\n    else {\r\n      curve25519_prep(t1, t2, q[0], q[1]);\r\n      curve25519_prep(t3, t4, a[0], a[1]);\r\n      curve25519_sum(r0[0], r0[1], t1, t2, t3, t4, x_1);\r\n      curve25519_dbl(r1[0], r1[1], t3, t4);\r\n    }\r\n    q = r0; a = r1;\r\n    n--;\r\n  }\r\n  curve25519_invmodp(t, q[1], 0);\r\n  curve25519_mulmodp(t1, q[0], t);\r\n  q[0] = curve25519_cpy16(t1);\r\n\r\n  // q[0]=x-coordinate of k*G=:Px\r\n  // q[1]=z-coordinate of k*G=:Pz\r\n  // a = q + G = P + G\r\n  if (s != null) {\r\n\t  /*************************************************************************\r\n\t   * BloodyRookie: Recovery of the y-coordinate of point P:                *\r\n\t   *                                                                       *\r\n\t   * If P=(x,y), P1=(x1, y1), P2=(x2,y2) and P2 = P1 + P then              *\r\n\t   *                                                                       *\r\n\t   * y1 = ((x1 * x + 1)(x1 + x + 2A) - 2A - (x1 - x)^2 * x2)/2y            *\r\n\t   *                                                                       *\r\n\t   * Setting P2=Q, P1=P and P=G in the above formula we get                *\r\n\t   *                                                                       *\r\n\t   * Py =  ((Px * Gx + 1) * (Px + Gx + 2A) - 2A - (Px - Gx)^2 * Qx)/(2*Gy) *\r\n\t   *    = -((Qx + Px + Gx + A) * (Px - Gx)^2 - Py^2 - Gy^2)/(2*Gy)         *\r\n\t   *************************************************************************/\r\n    t = curve25519_cpy16(q[0]);\r\n    curve25519_x_to_y2(t1, t);\t\t\t\t\t\t\t\t// t1 = Py^2\r\n    curve25519_invmodp(t3, a[1], 0);\r\n    curve25519_mulmodp(t2, a[0], t3);\t\t\t\t\t\t\t// t2 = (P+G)x = Qx\r\n    curve25519_addmodp(t4, t2, t);\t\t\t\t\t\t\t// t4 =  Qx + Px\r\n    curve25519_addmodp(t2, t4, curve25519_486671());\t\t\t// t2 = Qx + Px + Gx + A\r\n    curve25519_submodp(t4, t, curve25519_nine());\t\t\t\t// t4 = Px - Gx\r\n    curve25519_sqrmodp(t3, t4);\t\t\t\t\t\t\t\t// t3 = (Px - Gx)^2\r\n    curve25519_mulmodp(t4, t2, t3);\t\t\t\t\t\t\t// t4 = (Qx + Px + Gx + A) * (Px - Gx)^2\r\n    curve25519_submodp(t, t4, t1);\t\t\t\t\t\t\t//  t = (Qx + Px + Gx + A) * (Px - Gx)^2 - Py^2\r\n    curve25519_submodp(t4, t, curve25519_39420360());\t\t\t// t4 = (Qx + Px + Gx + A) * (Px - Gx)^2 - Py^2 - Gy^2\r\n    curve25519_mulmodp(t1, t4, curve25519_r2y())\t\t\t\t// t1 = ((Qx + Px + Gx + A) * (Px - Gx)^2 - Py^2 - Gy^2)/(2Gy) = -Py\r\n    fb = curve25519_convertToByteArray(f);\r\n    j = curve25519_isNegative(t1);\r\n    if (j != 0) {\r\n\t\t  /***\r\n\t\t   * Py is positiv, so just copy\r\n\t\t   */\r\n      sb = curve25519_cpy32(fb);\r\n    }\r\n    else {\r\n\t\t  /***\r\n\t\t   * Py is negative:\r\n\t\t   * We will take s = -f^-1 mod q instead of s=f^-1 mod q\r\n\t\t   */\r\n      curve25519_mula_small(sb, curve25519_order_times_8, 0, fb, 32, -1);\r\n    }\r\n\r\n    temp1 = curve25519_cpy32(curve25519_order);\r\n    temp1 = curve25519_egcd32(temp2, temp3, sb, temp1);\r\n    sb = curve25519_cpy32(temp1);\r\n    if ((sb[31] & 0x80) != 0) {\r\n      curve25519_mula_small(sb, sb, 0, curve25519_order, 32, 1);\r\n    }\r\n    var stmp = curve25519_convertToShortArray(sb);\r\n    curve25519_fillShortArray(stmp, s);\r\n  }\r\n\r\n  return q[0];\r\n}\r\n\r\nvar curve25519_keygen = function (s, curve) {\r\n  curve25519_clamp(curve);\r\n  return curve25519_(curve, curve25519_nine(), s);\r\n}\r\n\r\n/* Signature generation primitive, calculates (x-h)s mod q\r\n *   v  [out] signature value\r\n *   h  [in]  signature hash (of message, signature pub key, and context data)\r\n *   x  [in]  signature private key\r\n *   s  [in]  private key for signing\r\n * returns true on success, false on failure (use different x or h)\r\n */\r\nvar curve25519_sign = function (v, h, x, s) {\r\n  var tmp1 = new Int8Array(65);\r\n  var tmp2 = new Int8Array(33);\r\n  for (var i = 0; i < 32; i++) {\r\n    v[i] = 0;\r\n  }\r\n  curve25519_mula_small(v, x, 0, h, 32, -1);\r\n  curve25519_mula_small(v, v, 0, curve25519_order, 32, parseInt((15 - v[31]) / 16));\r\n  curve25519_mula32(tmp1, v, s, 32, 1);\r\n  curve25519_divmod(tmp2, tmp1, 64, curve25519_order, 32);\r\n  var w = 0;\r\n  for (var k = 0; k < 32; k++) {\r\n    v[k] = tmp1[k];\r\n    w |= v[k];\r\n  }\r\n  return w != 0;\r\n}\r\n\r\nvar curve25519_verify = function (Y, v, h, P) {\r\n  var d = new Int8Array(32);\r\n  var yx = new Array(new Array(16), new Array(16), new Array(16));\r\n  var yz = new Array(new Array(16), new Array(16), new Array(16));\r\n  var s = new Array(new Array(16), new Array(16));\r\n  var q = new Array(new Array(16), new Array(16));\r\n  var t1 = new Array(new Array(16), new Array(16), new Array(16));\r\n  var t2 = new Array(new Array(16), new Array(16), new Array(16));\r\n  var vi = 0, hi = 0, di = 0, nvh = 0, i = 0, j = 0, k = 0, counter = 1;\r\n\r\n\t/******************************************************************\r\n     * Set s[0] to P+G and s[1] to P-G.                               *\r\n     * If sqrt(Py^2) is negativ we switch s[0] and s[1]               *\r\n\t *                                                                *\r\n     * s[0] = (Py^2 + Gy^2 - 2 Py Gy)/(Px - Gx)^2 - Px - Gx - 486662  *\r\n     * s[1] = (Py^2 + Gy^2 + 2 Py Gy)/(Px - Gx)^2 - Px - Gx - 486662  *\r\n     ******************************************************************/\r\n\r\n  var p = [curve25519_nine(), curve25519_convertToShortArray(P)];\r\n  curve25519_x_to_y2(q[0], p[1]);\t\t\t\t\t\t\t\t// q[0] = Py^2\r\n  curve25519_sqrtmodp(t1[0], q[0]);\t\t\t\t\t\t\t// t1[0] = +-Py\r\n  j = curve25519_isNegative(t1[0]);\r\n  curve25519_addmodp(t2[0], q[0], curve25519_39420360());\t\t// t2[0] = Py^2 + Gy^2\r\n  curve25519_mulmodp(t2[1], curve25519_2y(), t1[0]);\t\t\t// t2[1] = +-Py * 2Gy\r\n  curve25519_submodp(t1[j], t2[0], t2[1]);\t\t\t\t\t// t1[j] = Py^2 + Gy^2 - +-Py * 2Gy\r\n  curve25519_addmodp(t1[1 - j], t2[0], t2[1]);\t\t\t\t\t// t1[1-j] = Py^2 + Gy^2 + +-Py * 2Gy\r\n  q[0] = curve25519_cpy16(p[1]);\t\t\t\t\t\t\t\t// q[0] = Px\r\n  curve25519_submodp(t2[0], q[0], curve25519_nine());\t\t\t// t2[0] = Px-Gx\r\n  curve25519_sqrmodp(t2[1], t2[0]);\t\t\t\t\t\t\t// t2[1] = (Px-Gx)^2\r\n  curve25519_invmodp(t2[0], t2[1], 0);\t\t\t\t\t\t// t2[0] = 1/(Px-Gx)^2\r\n  curve25519_mulmodp(q[0], t1[0], t2[0]);\t\t\t\t\t\t// q[0] = (Py^2 + Gy^2 - Py * 2Gy)/(Px-Gx)^2\r\n  curve25519_submodp(q[1], q[0], p[1]);\t\t\t\t\t\t// q[1] = (Py^2 + Gy^2 - Py * 2Gy)/(Px-Gx)^2 - Px\r\n  curve25519_submodp(s[0], q[1], curve25519_486671());\t\t// s[0] = (Py^2 + Gy^2 - Py * 2Gy)/(Px-Gx)^2 - Px - Gx - A = P+Q\r\n  curve25519_mulmodp(q[0], t1[1], t2[0]);\t\t\t\t\t\t// q[0] = (Py^2 + Gy^2 + Py * 2Gy)/(Px-Gx)^2\r\n  curve25519_submodp(q[1], q[0], p[1]);\t\t\t\t\t\t// q[1] = (Py^2 + Gy^2 + Py * 2Gy)/(Px-Gx)^2 - Px\r\n  curve25519_submodp(s[1], q[1], curve25519_486671());\t\t// s[1] = (Py^2 + Gy^2 + Py * 2Gy)/(Px-Gx)^2 - Px - Gx - A = P-Q\r\n\r\n\t/**\r\n\t * Fast algorithm for computing vP+hG\r\n\t */\r\n  for (i = 0; i < 32; i++) {\r\n    vi = (vi >> 8) ^ (v[i] & 0xFF) ^ ((v[i] & 0xFF) << 1);\r\n    hi = (hi >> 8) ^ (h[i] & 0xFF) ^ ((h[i] & 0xFF) << 1);\r\n    nvh = ~(vi ^ hi);\r\n    di = (nvh & (di & 0x80) >> 7) ^ vi;\r\n    di ^= nvh & (di & 0x01) << 1;\r\n    di ^= nvh & (di & 0x02) << 1;\r\n    di ^= nvh & (di & 0x04) << 1;\r\n    di ^= nvh & (di & 0x08) << 1;\r\n    di ^= nvh & (di & 0x10) << 1;\r\n    di ^= nvh & (di & 0x20) << 1;\r\n    di ^= nvh & (di & 0x40) << 1;\r\n    d[i] = (di & 0xFF);\r\n  }\r\n\r\n  di = ((nvh & (di & 0x80) << 1) ^ vi) >> 8;\r\n\r\n\t/**\r\n\t * yx[0]/yz[0] = point at infinity\r\n\t */\r\n  yx[0] = curve25519_cpy16(curve25519_one());\r\n  yx[1] = curve25519_cpy16(p[di]);\r\n  yx[2] = curve25519_cpy16(s[0]);\r\n  yz[0] = curve25519_cpy16(curve25519_zero());\r\n  yz[1] = curve25519_cpy16(curve25519_one());\r\n  yz[2] = curve25519_cpy16(curve25519_one());\r\n\r\n  vi = 0;\r\n  hi = 0;\r\n\r\n  for (i = 32; i-- != 0; i = i) {\r\n    vi = (vi << 8) | (v[i] & 0xFF);\r\n    hi = (hi << 8) | (h[i] & 0xFF);\r\n    di = (di << 8) | (d[i] & 0xFF);\r\n\r\n    for (j = 8; j-- != 0; j = j) {\r\n      k = ((vi ^ vi >> 1) >> j & 1) + ((hi ^ hi >> 1) >> j & 1);\r\n      curve25519_prep(t1[0], t2[0], yx[0], yz[0]);\r\n      curve25519_prep(t1[1], t2[1], yx[1], yz[1]);\r\n      curve25519_prep(t1[2], t2[2], yx[2], yz[2]);\r\n\r\n      curve25519_dbl(yx[0], yz[0], t1[k], t2[k]);\r\n      k = (di >> j & 2) ^ ((di >> j & 1) << 1);\r\n      curve25519_sum(yx[1], yz[1], t1[1], t2[1], t1[k], t2[k], p[di >> j & 1]);\r\n      curve25519_sum(yx[2], yz[2], t1[2], t2[2], t1[0], t2[0], s[((vi ^ hi) >> j & 2) >> 1]);\r\n    }\r\n  }\r\n\r\n  k = (vi & 1) + (hi & 1);\r\n  curve25519_invmodp(t1[0], yz[k], 0);\r\n  curve25519_mulmodp(t1[1], yx[k], t1[0]);\r\n  var YY = curve25519_convertToByteArray(t1[1]);\r\n  curve25519_fillByteArray(YY, Y);\r\n}\r\n\r\nvar curve25519 = function () {\r\n\r\n  //region Constants\r\n\r\n  var KEY_SIZE = 32;\r\n\r\n  /* array length */\r\n  var UNPACKED_SIZE = 16;\r\n\r\n  /* group order (a prime near 2^252+2^124) */\r\n  var ORDER = [\r\n    237, 211, 245, 92,\r\n    26, 99, 18, 88,\r\n    214, 156, 247, 162,\r\n    222, 249, 222, 20,\r\n    0, 0, 0, 0,\r\n    0, 0, 0, 0,\r\n    0, 0, 0, 0,\r\n    0, 0, 0, 16\r\n  ];\r\n\r\n  /* smallest multiple of the order that's >= 2^255 */\r\n  var ORDER_TIMES_8 = [\r\n    104, 159, 174, 231,\r\n    210, 24, 147, 192,\r\n    178, 230, 188, 23,\r\n    245, 206, 247, 166,\r\n    0, 0, 0, 0,\r\n    0, 0, 0, 0,\r\n    0, 0, 0, 0,\r\n    0, 0, 0, 128\r\n  ];\r\n\r\n  /* constants 2Gy and 1/(2Gy) */\r\n  var BASE_2Y = [\r\n    22587, 610, 29883, 44076,\r\n    15515, 9479, 25859, 56197,\r\n    23910, 4462, 17831, 16322,\r\n    62102, 36542, 52412, 16035\r\n  ];\r\n\r\n  var BASE_R2Y = [\r\n    5744, 16384, 61977, 54121,\r\n    8776, 18501, 26522, 34893,\r\n    23833, 5823, 55924, 58749,\r\n    24147, 14085, 13606, 6080\r\n  ];\r\n\r\n  var C1 = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var C9 = [9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var C486671 = [0x6D0F, 0x0007, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  var C39420360 = [0x81C8, 0x0259, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n\r\n  var P25 = 33554431; /* (1 << 25) - 1 */\r\n  var P26 = 67108863; /* (1 << 26) - 1 */\r\n\r\n  //#endregion\r\n\r\n  //region Key Agreement\r\n\r\n  /* Private key clamping\r\n   *   k [out] your private key for key agreement\r\n   *   k  [in]  32 random bytes\r\n   */\r\n  function clamp(k) {\r\n    k[31] &= 0x7F;\r\n    k[31] |= 0x40;\r\n    k[0] &= 0xF8;\r\n  }\r\n\r\n  //endregion\r\n\r\n  //region radix 2^8 math\r\n\r\n  function cpy32(d, s) {\r\n    for (var i = 0; i < 32; i++)\r\n      d[i] = s[i];\r\n  }\r\n\r\n  /* p[m..n+m-1] = q[m..n+m-1] + z * x */\r\n  /* n is the size of x */\r\n  /* n+m is the size of p and q */\r\n  function mula_small(p, q, m, x, n, z) {\r\n    m = m | 0;\r\n    n = n | 0;\r\n    z = z | 0;\r\n\r\n    var v = 0;\r\n    for (var i = 0; i < n; ++i) {\r\n      v += (q[i + m] & 0xFF) + z * (x[i] & 0xFF);\r\n      p[i + m] = (v & 0xFF);\r\n      v >>= 8;\r\n    }\r\n\r\n    return v;\r\n  }\r\n\r\n  /* p += x * y * z  where z is a small integer\r\n   * x is size 32, y is size t, p is size 32+t\r\n   * y is allowed to overlap with p+32 if you don't care about the upper half  */\r\n  function mula32(p, x, y, t, z) {\r\n    t = t | 0;\r\n    z = z | 0;\r\n\r\n    var n = 31;\r\n    var w = 0;\r\n    var i = 0;\r\n    for (; i < t; i++) {\r\n      var zy = z * (y[i] & 0xFF);\r\n      w += mula_small(p, p, i, x, n, zy) + (p[i + n] & 0xFF) + zy * (x[n] & 0xFF);\r\n      p[i + n] = w & 0xFF;\r\n      w >>= 8;\r\n    }\r\n    p[i + n] = (w + (p[i + n] & 0xFF)) & 0xFF;\r\n    return w >> 8;\r\n  }\r\n\r\n  /* divide r (size n) by d (size t), returning quotient q and remainder r\r\n   * quotient is size n-t+1, remainder is size t\r\n   * requires t > 0 && d[t-1] !== 0\r\n   * requires that r[-1] and d[-1] are valid memory locations\r\n   * q may overlap with r+t */\r\n  function divmod(q, r, n, d, t) {\r\n    n = n | 0;\r\n    t = t | 0;\r\n\r\n    var rn = 0;\r\n    var dt = (d[t - 1] & 0xFF) << 8;\r\n    if (t > 1)\r\n      dt |= (d[t - 2] & 0xFF);\r\n\r\n    while (n-- >= t) {\r\n      var z = (rn << 16) | ((r[n] & 0xFF) << 8);\r\n      if (n > 0)\r\n        z |= (r[n - 1] & 0xFF);\r\n\r\n      var i = n - t + 1;\r\n      z /= dt;\r\n      rn += mula_small(r, r, i, d, t, -z);\r\n      q[i] = (z + rn) & 0xFF;\r\n      /* rn is 0 or -1 (underflow) */\r\n      mula_small(r, r, i, d, t, -rn);\r\n      rn = r[n] & 0xFF;\r\n      r[n] = 0;\r\n    }\r\n\r\n    r[t - 1] = rn & 0xFF;\r\n  }\r\n\r\n  function numsize(x, n) {\r\n    while (n-- !== 0 && x[n] === 0) { }\r\n    return n + 1;\r\n  }\r\n\r\n  /* Returns x if a contains the gcd, y if b.\r\n   * Also, the returned buffer contains the inverse of a mod b,\r\n   * as 32-byte signed.\r\n   * x and y must have 64 bytes space for temporary use.\r\n   * requires that a[-1] and b[-1] are valid memory locations  */\r\n  function egcd32(x, y, a, b) {\r\n    var an, bn = 32, qn, i;\r\n    for (i = 0; i < 32; i++)\r\n      x[i] = y[i] = 0;\r\n    x[0] = 1;\r\n    an = numsize(a, 32);\r\n    if (an === 0)\r\n      return y; /* division by zero */\r\n    var temp = new Array(32);\r\n    while (true) {\r\n      qn = bn - an + 1;\r\n      divmod(temp, b, bn, a, an);\r\n      bn = numsize(b, bn);\r\n      if (bn === 0)\r\n        return x;\r\n      mula32(y, x, temp, qn, -1);\r\n\r\n      qn = an - bn + 1;\r\n      divmod(temp, a, an, b, bn);\r\n      an = numsize(a, an);\r\n      if (an === 0)\r\n        return y;\r\n      mula32(x, y, temp, qn, -1);\r\n    }\r\n  }\r\n\r\n  //endregion\r\n\r\n  //region radix 2^25.5 GF(2^255-19) math\r\n\r\n  //region pack / unpack\r\n\r\n  /* Convert to internal format from little-endian byte format */\r\n  function unpack(x, m) {\r\n    for (var i = 0; i < KEY_SIZE; i += 2)\r\n      x[i / 2] = m[i] & 0xFF | ((m[i + 1] & 0xFF) << 8);\r\n  }\r\n\r\n  /* Check if reduced-form input >= 2^255-19 */\r\n  function is_overflow(x) {\r\n    return (\r\n      ((x[0] > P26 - 19)) &&\r\n      ((x[1] & x[3] & x[5] & x[7] & x[9]) === P25) &&\r\n      ((x[2] & x[4] & x[6] & x[8]) === P26)\r\n    ) || (x[9] > P25);\r\n  }\r\n\r\n  /* Convert from internal format to little-endian byte format.  The\r\n   * number must be in a reduced form which is output by the following ops:\r\n   *     unpack, mul, sqr\r\n   *     set --  if input in range 0 .. P25\r\n   * If you're unsure if the number is reduced, first multiply it by 1.  */\r\n  function pack(x, m) {\r\n    for (var i = 0; i < UNPACKED_SIZE; ++i) {\r\n      m[2 * i] = x[i] & 0x00FF;\r\n      m[2 * i + 1] = (x[i] & 0xFF00) >> 8;\r\n    }\r\n  }\r\n\r\n  //endregion\r\n\r\n  function createUnpackedArray() {\r\n    return new Uint16Array(UNPACKED_SIZE);\r\n  }\r\n\r\n  /* Copy a number */\r\n  function cpy(d, s) {\r\n    for (var i = 0; i < UNPACKED_SIZE; ++i)\r\n      d[i] = s[i];\r\n  }\r\n\r\n  /* Set a number to value, which must be in range -185861411 .. 185861411 */\r\n  function set(d, s) {\r\n    d[0] = s;\r\n    for (var i = 1; i < UNPACKED_SIZE; ++i)\r\n      d[i] = 0;\r\n  }\r\n\r\n  /* Add/subtract two numbers.  The inputs must be in reduced form, and the\r\n   * output isn't, so to do another addition or subtraction on the output,\r\n   * first multiply it by one to reduce it. */\r\n  var add = c255laddmodp;\r\n  var sub = c255lsubmodp;\r\n\r\n  /* Multiply a number by a small integer in range -185861411 .. 185861411.\r\n   * The output is in reduced form, the input x need not be.  x and xy may point\r\n   * to the same buffer. */\r\n  var mul_small = c255lmulasmall;\r\n\r\n  /* Multiply two numbers.  The output is in reduced form, the inputs need not be. */\r\n  var mul = c255lmulmodp;\r\n\r\n  /* Square a number.  Optimization of  mul25519(x2, x, x)  */\r\n  var sqr = c255lsqrmodp;\r\n\r\n  /* Calculates a reciprocal.  The output is in reduced form, the inputs need not\r\n   * be.  Simply calculates  y = x^(p-2)  so it's not too fast. */\r\n  /* When sqrtassist is true, it instead calculates y = x^((p-5)/8) */\r\n  function recip(y, x, sqrtassist) {\r\n    var t0 = createUnpackedArray();\r\n    var t1 = createUnpackedArray();\r\n    var t2 = createUnpackedArray();\r\n    var t3 = createUnpackedArray();\r\n    var t4 = createUnpackedArray();\r\n\r\n    /* the chain for x^(2^255-21) is straight from djb's implementation */\r\n    var i;\r\n    sqr(t1, x); /*  2 === 2 * 1\t*/\r\n    sqr(t2, t1); /*  4 === 2 * 2\t*/\r\n    sqr(t0, t2); /*  8 === 2 * 4\t*/\r\n    mul(t2, t0, x); /*  9 === 8 + 1\t*/\r\n    mul(t0, t2, t1); /* 11 === 9 + 2\t*/\r\n    sqr(t1, t0); /* 22 === 2 * 11\t*/\r\n    mul(t3, t1, t2); /* 31 === 22 + 9 === 2^5   - 2^0\t*/\r\n    sqr(t1, t3); /* 2^6   - 2^1\t*/\r\n    sqr(t2, t1); /* 2^7   - 2^2\t*/\r\n    sqr(t1, t2); /* 2^8   - 2^3\t*/\r\n    sqr(t2, t1); /* 2^9   - 2^4\t*/\r\n    sqr(t1, t2); /* 2^10  - 2^5\t*/\r\n    mul(t2, t1, t3); /* 2^10  - 2^0\t*/\r\n    sqr(t1, t2); /* 2^11  - 2^1\t*/\r\n    sqr(t3, t1); /* 2^12  - 2^2\t*/\r\n    for (i = 1; i < 5; i++) {\r\n      sqr(t1, t3);\r\n      sqr(t3, t1);\r\n    } /* t3 */ /* 2^20  - 2^10\t*/\r\n    mul(t1, t3, t2); /* 2^20  - 2^0\t*/\r\n    sqr(t3, t1); /* 2^21  - 2^1\t*/\r\n    sqr(t4, t3); /* 2^22  - 2^2\t*/\r\n    for (i = 1; i < 10; i++) {\r\n      sqr(t3, t4);\r\n      sqr(t4, t3);\r\n    } /* t4 */ /* 2^40  - 2^20\t*/\r\n    mul(t3, t4, t1); /* 2^40  - 2^0\t*/\r\n    for (i = 0; i < 5; i++) {\r\n      sqr(t1, t3);\r\n      sqr(t3, t1);\r\n    } /* t3 */ /* 2^50  - 2^10\t*/\r\n    mul(t1, t3, t2); /* 2^50  - 2^0\t*/\r\n    sqr(t2, t1); /* 2^51  - 2^1\t*/\r\n    sqr(t3, t2); /* 2^52  - 2^2\t*/\r\n    for (i = 1; i < 25; i++) {\r\n      sqr(t2, t3);\r\n      sqr(t3, t2);\r\n    } /* t3 */ /* 2^100 - 2^50 */\r\n    mul(t2, t3, t1); /* 2^100 - 2^0\t*/\r\n    sqr(t3, t2); /* 2^101 - 2^1\t*/\r\n    sqr(t4, t3); /* 2^102 - 2^2\t*/\r\n    for (i = 1; i < 50; i++) {\r\n      sqr(t3, t4);\r\n      sqr(t4, t3);\r\n    } /* t4 */ /* 2^200 - 2^100 */\r\n    mul(t3, t4, t2); /* 2^200 - 2^0\t*/\r\n    for (i = 0; i < 25; i++) {\r\n      sqr(t4, t3);\r\n      sqr(t3, t4);\r\n    } /* t3 */ /* 2^250 - 2^50\t*/\r\n    mul(t2, t3, t1); /* 2^250 - 2^0\t*/\r\n    sqr(t1, t2); /* 2^251 - 2^1\t*/\r\n    sqr(t2, t1); /* 2^252 - 2^2\t*/\r\n    if (sqrtassist !== 0) {\r\n      mul(y, x, t2); /* 2^252 - 3 */\r\n    } else {\r\n      sqr(t1, t2); /* 2^253 - 2^3\t*/\r\n      sqr(t2, t1); /* 2^254 - 2^4\t*/\r\n      sqr(t1, t2); /* 2^255 - 2^5\t*/\r\n      mul(y, t1, t0); /* 2^255 - 21\t*/\r\n    }\r\n  }\r\n\r\n  /* checks if x is \"negative\", requires reduced input */\r\n  function is_negative(x) {\r\n    var isOverflowOrNegative = is_overflow(x) || x[9] < 0;\r\n    var leastSignificantBit = x[0] & 1;\r\n    return ((isOverflowOrNegative ? 1 : 0) ^ leastSignificantBit) & 0xFFFFFFFF;\r\n  }\r\n\r\n  /* a square root */\r\n  function sqrt(x, u) {\r\n    var v = createUnpackedArray();\r\n    var t1 = createUnpackedArray();\r\n    var t2 = createUnpackedArray();\r\n\r\n    add(t1, u, u); /* t1 = 2u\t\t*/\r\n    recip(v, t1, 1); /* v = (2u)^((p-5)/8)\t*/\r\n    sqr(x, v); /* x = v^2\t\t*/\r\n    mul(t2, t1, x); /* t2 = 2uv^2\t\t*/\r\n    sub(t2, t2, C1); /* t2 = 2uv^2-1\t\t*/\r\n    mul(t1, v, t2); /* t1 = v(2uv^2-1)\t*/\r\n    mul(x, u, t1); /* x = uv(2uv^2-1)\t*/\r\n  }\r\n\r\n  //endregion\r\n\r\n  //region JavaScript Fast Math\r\n\r\n  function c255lsqr8h(a7, a6, a5, a4, a3, a2, a1, a0) {\r\n    var r = [];\r\n    var v;\r\n    r[0] = (v = a0 * a0) & 0xFFFF;\r\n    r[1] = (v = ((v / 0x10000) | 0) + 2 * a0 * a1) & 0xFFFF;\r\n    r[2] = (v = ((v / 0x10000) | 0) + 2 * a0 * a2 + a1 * a1) & 0xFFFF;\r\n    r[3] = (v = ((v / 0x10000) | 0) + 2 * a0 * a3 + 2 * a1 * a2) & 0xFFFF;\r\n    r[4] = (v = ((v / 0x10000) | 0) + 2 * a0 * a4 + 2 * a1 * a3 + a2 * a2) & 0xFFFF;\r\n    r[5] = (v = ((v / 0x10000) | 0) + 2 * a0 * a5 + 2 * a1 * a4 + 2 * a2 * a3) & 0xFFFF;\r\n    r[6] = (v = ((v / 0x10000) | 0) + 2 * a0 * a6 + 2 * a1 * a5 + 2 * a2 * a4 + a3 * a3) & 0xFFFF;\r\n    r[7] = (v = ((v / 0x10000) | 0) + 2 * a0 * a7 + 2 * a1 * a6 + 2 * a2 * a5 + 2 * a3 * a4) & 0xFFFF;\r\n    r[8] = (v = ((v / 0x10000) | 0) + 2 * a1 * a7 + 2 * a2 * a6 + 2 * a3 * a5 + a4 * a4) & 0xFFFF;\r\n    r[9] = (v = ((v / 0x10000) | 0) + 2 * a2 * a7 + 2 * a3 * a6 + 2 * a4 * a5) & 0xFFFF;\r\n    r[10] = (v = ((v / 0x10000) | 0) + 2 * a3 * a7 + 2 * a4 * a6 + a5 * a5) & 0xFFFF;\r\n    r[11] = (v = ((v / 0x10000) | 0) + 2 * a4 * a7 + 2 * a5 * a6) & 0xFFFF;\r\n    r[12] = (v = ((v / 0x10000) | 0) + 2 * a5 * a7 + a6 * a6) & 0xFFFF;\r\n    r[13] = (v = ((v / 0x10000) | 0) + 2 * a6 * a7) & 0xFFFF;\r\n    r[14] = (v = ((v / 0x10000) | 0) + a7 * a7) & 0xFFFF;\r\n    r[15] = ((v / 0x10000) | 0);\r\n    return r;\r\n  }\r\n\r\n  function c255lsqrmodp(r, a) {\r\n    var x = c255lsqr8h(a[15], a[14], a[13], a[12], a[11], a[10], a[9], a[8]);\r\n    var z = c255lsqr8h(a[7], a[6], a[5], a[4], a[3], a[2], a[1], a[0]);\r\n    var y = c255lsqr8h(a[15] + a[7], a[14] + a[6], a[13] + a[5], a[12] + a[4], a[11] + a[3], a[10] + a[2], a[9] + a[1], a[8] + a[0]);\r\n\r\n    var v;\r\n    r[0] = (v = 0x800000 + z[0] + (y[8] - x[8] - z[8] + x[0] - 0x80) * 38) & 0xFFFF;\r\n    r[1] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[1] + (y[9] - x[9] - z[9] + x[1]) * 38) & 0xFFFF;\r\n    r[2] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[2] + (y[10] - x[10] - z[10] + x[2]) * 38) & 0xFFFF;\r\n    r[3] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[3] + (y[11] - x[11] - z[11] + x[3]) * 38) & 0xFFFF;\r\n    r[4] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[4] + (y[12] - x[12] - z[12] + x[4]) * 38) & 0xFFFF;\r\n    r[5] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[5] + (y[13] - x[13] - z[13] + x[5]) * 38) & 0xFFFF;\r\n    r[6] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[6] + (y[14] - x[14] - z[14] + x[6]) * 38) & 0xFFFF;\r\n    r[7] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[7] + (y[15] - x[15] - z[15] + x[7]) * 38) & 0xFFFF;\r\n    r[8] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[8] + y[0] - x[0] - z[0] + x[8] * 38) & 0xFFFF;\r\n    r[9] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[9] + y[1] - x[1] - z[1] + x[9] * 38) & 0xFFFF;\r\n    r[10] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[10] + y[2] - x[2] - z[2] + x[10] * 38) & 0xFFFF;\r\n    r[11] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[11] + y[3] - x[3] - z[3] + x[11] * 38) & 0xFFFF;\r\n    r[12] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[12] + y[4] - x[4] - z[4] + x[12] * 38) & 0xFFFF;\r\n    r[13] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[13] + y[5] - x[5] - z[5] + x[13] * 38) & 0xFFFF;\r\n    r[14] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[14] + y[6] - x[6] - z[6] + x[14] * 38) & 0xFFFF;\r\n    var r15 = 0x7fff80 + ((v / 0x10000) | 0) + z[15] + y[7] - x[7] - z[7] + x[15] * 38;\r\n    c255lreduce(r, r15);\r\n  }\r\n\r\n  function c255lmul8h(a7, a6, a5, a4, a3, a2, a1, a0, b7, b6, b5, b4, b3, b2, b1, b0) {\r\n    var r = [];\r\n    var v;\r\n    r[0] = (v = a0 * b0) & 0xFFFF;\r\n    r[1] = (v = ((v / 0x10000) | 0) + a0 * b1 + a1 * b0) & 0xFFFF;\r\n    r[2] = (v = ((v / 0x10000) | 0) + a0 * b2 + a1 * b1 + a2 * b0) & 0xFFFF;\r\n    r[3] = (v = ((v / 0x10000) | 0) + a0 * b3 + a1 * b2 + a2 * b1 + a3 * b0) & 0xFFFF;\r\n    r[4] = (v = ((v / 0x10000) | 0) + a0 * b4 + a1 * b3 + a2 * b2 + a3 * b1 + a4 * b0) & 0xFFFF;\r\n    r[5] = (v = ((v / 0x10000) | 0) + a0 * b5 + a1 * b4 + a2 * b3 + a3 * b2 + a4 * b1 + a5 * b0) & 0xFFFF;\r\n    r[6] = (v = ((v / 0x10000) | 0) + a0 * b6 + a1 * b5 + a2 * b4 + a3 * b3 + a4 * b2 + a5 * b1 + a6 * b0) & 0xFFFF;\r\n    r[7] = (v = ((v / 0x10000) | 0) + a0 * b7 + a1 * b6 + a2 * b5 + a3 * b4 + a4 * b3 + a5 * b2 + a6 * b1 + a7 * b0) & 0xFFFF;\r\n    r[8] = (v = ((v / 0x10000) | 0) + a1 * b7 + a2 * b6 + a3 * b5 + a4 * b4 + a5 * b3 + a6 * b2 + a7 * b1) & 0xFFFF;\r\n    r[9] = (v = ((v / 0x10000) | 0) + a2 * b7 + a3 * b6 + a4 * b5 + a5 * b4 + a6 * b3 + a7 * b2) & 0xFFFF;\r\n    r[10] = (v = ((v / 0x10000) | 0) + a3 * b7 + a4 * b6 + a5 * b5 + a6 * b4 + a7 * b3) & 0xFFFF;\r\n    r[11] = (v = ((v / 0x10000) | 0) + a4 * b7 + a5 * b6 + a6 * b5 + a7 * b4) & 0xFFFF;\r\n    r[12] = (v = ((v / 0x10000) | 0) + a5 * b7 + a6 * b6 + a7 * b5) & 0xFFFF;\r\n    r[13] = (v = ((v / 0x10000) | 0) + a6 * b7 + a7 * b6) & 0xFFFF;\r\n    r[14] = (v = ((v / 0x10000) | 0) + a7 * b7) & 0xFFFF;\r\n    r[15] = ((v / 0x10000) | 0);\r\n    return r;\r\n  }\r\n\r\n  function c255lmulmodp(r, a, b) {\r\n    // Karatsuba multiplication scheme: x*y = (b^2+b)*x1*y1 - b*(x1-x0)*(y1-y0) + (b+1)*x0*y0\r\n    var x = c255lmul8h(a[15], a[14], a[13], a[12], a[11], a[10], a[9], a[8], b[15], b[14], b[13], b[12], b[11], b[10], b[9], b[8]);\r\n    var z = c255lmul8h(a[7], a[6], a[5], a[4], a[3], a[2], a[1], a[0], b[7], b[6], b[5], b[4], b[3], b[2], b[1], b[0]);\r\n    var y = c255lmul8h(a[15] + a[7], a[14] + a[6], a[13] + a[5], a[12] + a[4], a[11] + a[3], a[10] + a[2], a[9] + a[1], a[8] + a[0],\r\n      b[15] + b[7], b[14] + b[6], b[13] + b[5], b[12] + b[4], b[11] + b[3], b[10] + b[2], b[9] + b[1], b[8] + b[0]);\r\n\r\n    var v;\r\n    r[0] = (v = 0x800000 + z[0] + (y[8] - x[8] - z[8] + x[0] - 0x80) * 38) & 0xFFFF;\r\n    r[1] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[1] + (y[9] - x[9] - z[9] + x[1]) * 38) & 0xFFFF;\r\n    r[2] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[2] + (y[10] - x[10] - z[10] + x[2]) * 38) & 0xFFFF;\r\n    r[3] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[3] + (y[11] - x[11] - z[11] + x[3]) * 38) & 0xFFFF;\r\n    r[4] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[4] + (y[12] - x[12] - z[12] + x[4]) * 38) & 0xFFFF;\r\n    r[5] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[5] + (y[13] - x[13] - z[13] + x[5]) * 38) & 0xFFFF;\r\n    r[6] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[6] + (y[14] - x[14] - z[14] + x[6]) * 38) & 0xFFFF;\r\n    r[7] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[7] + (y[15] - x[15] - z[15] + x[7]) * 38) & 0xFFFF;\r\n    r[8] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[8] + y[0] - x[0] - z[0] + x[8] * 38) & 0xFFFF;\r\n    r[9] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[9] + y[1] - x[1] - z[1] + x[9] * 38) & 0xFFFF;\r\n    r[10] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[10] + y[2] - x[2] - z[2] + x[10] * 38) & 0xFFFF;\r\n    r[11] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[11] + y[3] - x[3] - z[3] + x[11] * 38) & 0xFFFF;\r\n    r[12] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[12] + y[4] - x[4] - z[4] + x[12] * 38) & 0xFFFF;\r\n    r[13] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[13] + y[5] - x[5] - z[5] + x[13] * 38) & 0xFFFF;\r\n    r[14] = (v = 0x7fff80 + ((v / 0x10000) | 0) + z[14] + y[6] - x[6] - z[6] + x[14] * 38) & 0xFFFF;\r\n    var r15 = 0x7fff80 + ((v / 0x10000) | 0) + z[15] + y[7] - x[7] - z[7] + x[15] * 38;\r\n    c255lreduce(r, r15);\r\n  }\r\n\r\n  function c255lreduce(a, a15) {\r\n    var v = a15;\r\n    a[15] = v & 0x7FFF;\r\n    v = ((v / 0x8000) | 0) * 19;\r\n    for (var i = 0; i <= 14; ++i) {\r\n      a[i] = (v += a[i]) & 0xFFFF;\r\n      v = ((v / 0x10000) | 0);\r\n    }\r\n\r\n    a[15] += v;\r\n  }\r\n\r\n  function c255laddmodp(r, a, b) {\r\n    var v;\r\n    r[0] = (v = (((a[15] / 0x8000) | 0) + ((b[15] / 0x8000) | 0)) * 19 + a[0] + b[0]) & 0xFFFF;\r\n    for (var i = 1; i <= 14; ++i)\r\n      r[i] = (v = ((v / 0x10000) | 0) + a[i] + b[i]) & 0xFFFF;\r\n\r\n    r[15] = ((v / 0x10000) | 0) + (a[15] & 0x7FFF) + (b[15] & 0x7FFF);\r\n  }\r\n\r\n  function c255lsubmodp(r, a, b) {\r\n    var v;\r\n    r[0] = (v = 0x80000 + (((a[15] / 0x8000) | 0) - ((b[15] / 0x8000) | 0) - 1) * 19 + a[0] - b[0]) & 0xFFFF;\r\n    for (var i = 1; i <= 14; ++i)\r\n      r[i] = (v = ((v / 0x10000) | 0) + 0x7fff8 + a[i] - b[i]) & 0xFFFF;\r\n\r\n    r[15] = ((v / 0x10000) | 0) + 0x7ff8 + (a[15] & 0x7FFF) - (b[15] & 0x7FFF);\r\n  }\r\n\r\n  function c255lmulasmall(r, a, m) {\r\n    var v;\r\n    r[0] = (v = a[0] * m) & 0xFFFF;\r\n    for (var i = 1; i <= 14; ++i)\r\n      r[i] = (v = ((v / 0x10000) | 0) + a[i] * m) & 0xFFFF;\r\n\r\n    var r15 = ((v / 0x10000) | 0) + a[15] * m;\r\n    c255lreduce(r, r15);\r\n  }\r\n\r\n  //endregion\r\n\r\n  /********************* Elliptic curve *********************/\r\n\r\n  /* y^2 = x^3 + 486662 x^2 + x  over GF(2^255-19) */\r\n\r\n  /* t1 = ax + az\r\n   * t2 = ax - az  */\r\n  function mont_prep(t1, t2, ax, az) {\r\n    add(t1, ax, az);\r\n    sub(t2, ax, az);\r\n  }\r\n\r\n  /* A = P + Q   where\r\n   *  X(A) = ax/az\r\n   *  X(P) = (t1+t2)/(t1-t2)\r\n   *  X(Q) = (t3+t4)/(t3-t4)\r\n   *  X(P-Q) = dx\r\n   * clobbers t1 and t2, preserves t3 and t4  */\r\n  function mont_add(t1, t2, t3, t4, ax, az, dx) {\r\n    mul(ax, t2, t3);\r\n    mul(az, t1, t4);\r\n    add(t1, ax, az);\r\n    sub(t2, ax, az);\r\n    sqr(ax, t1);\r\n    sqr(t1, t2);\r\n    mul(az, t1, dx);\r\n  }\r\n\r\n  /* B = 2 * Q   where\r\n   *  X(B) = bx/bz\r\n   *  X(Q) = (t3+t4)/(t3-t4)\r\n   * clobbers t1 and t2, preserves t3 and t4  */\r\n  function mont_dbl(t1, t2, t3, t4, bx, bz) {\r\n    sqr(t1, t3);\r\n    sqr(t2, t4);\r\n    mul(bx, t1, t2);\r\n    sub(t2, t1, t2);\r\n    mul_small(bz, t2, 121665);\r\n    add(t1, t1, bz);\r\n    mul(bz, t1, t2);\r\n  }\r\n\r\n  /* Y^2 = X^3 + 486662 X^2 + X\r\n   * t is a temporary  */\r\n  function x_to_y2(t, y2, x) {\r\n    sqr(t, x);\r\n    mul_small(y2, x, 486662);\r\n    add(t, t, y2);\r\n    add(t, t, C1);\r\n    mul(y2, t, x);\r\n  }\r\n\r\n  /* P = kG   and  s = sign(P)/k  */\r\n  function core(Px, s, k, Gx) {\r\n    var dx = createUnpackedArray();\r\n    var t1 = createUnpackedArray();\r\n    var t2 = createUnpackedArray();\r\n    var t3 = createUnpackedArray();\r\n    var t4 = createUnpackedArray();\r\n    var x = [createUnpackedArray(), createUnpackedArray()];\r\n    var z = [createUnpackedArray(), createUnpackedArray()];\r\n    var i, j;\r\n\r\n    /* unpack the base */\r\n    if (Gx !== null)\r\n      unpack(dx, Gx);\r\n    else\r\n      set(dx, 9);\r\n\r\n    /* 0G = point-at-infinity */\r\n    set(x[0], 1);\r\n    set(z[0], 0);\r\n\r\n    /* 1G = G */\r\n    cpy(x[1], dx);\r\n    set(z[1], 1);\r\n\r\n    for (i = 32; i-- !== 0;) {\r\n      for (j = 8; j-- !== 0;) {\r\n        /* swap arguments depending on bit */\r\n        var bit1 = (k[i] & 0xFF) >> j & 1;\r\n        var bit0 = ~(k[i] & 0xFF) >> j & 1;\r\n        var ax = x[bit0];\r\n        var az = z[bit0];\r\n        var bx = x[bit1];\r\n        var bz = z[bit1];\r\n\r\n        /* a' = a + b\t*/\r\n        /* b' = 2 b\t*/\r\n        mont_prep(t1, t2, ax, az);\r\n        mont_prep(t3, t4, bx, bz);\r\n        mont_add(t1, t2, t3, t4, ax, az, dx);\r\n        mont_dbl(t1, t2, t3, t4, bx, bz);\r\n      }\r\n    }\r\n\r\n    recip(t1, z[0], 0);\r\n    mul(dx, x[0], t1);\r\n\r\n    pack(dx, Px);\r\n\r\n    /* calculate s such that s abs(P) = G  .. assumes G is std base point */\r\n    if (s !== null) {\r\n      x_to_y2(t2, t1, dx); /* t1 = Py^2  */\r\n      recip(t3, z[1], 0); /* where Q=P+G ... */\r\n      mul(t2, x[1], t3); /* t2 = Qx  */\r\n      add(t2, t2, dx); /* t2 = Qx + Px  */\r\n      add(t2, t2, C486671); /* t2 = Qx + Px + Gx + 486662  */\r\n      sub(dx, dx, C9); /* dx = Px - Gx  */\r\n      sqr(t3, dx); /* t3 = (Px - Gx)^2  */\r\n      mul(dx, t2, t3); /* dx = t2 (Px - Gx)^2  */\r\n      sub(dx, dx, t1); /* dx = t2 (Px - Gx)^2 - Py^2  */\r\n      sub(dx, dx, C39420360); /* dx = t2 (Px - Gx)^2 - Py^2 - Gy^2  */\r\n      mul(t1, dx, BASE_R2Y); /* t1 = -Py  */\r\n\r\n      if (is_negative(t1) !== 0)    /* sign is 1, so just copy  */\r\n        cpy32(s, k);\r\n      else            /* sign is -1, so negate  */\r\n        mula_small(s, ORDER_TIMES_8, 0, k, 32, -1);\r\n\r\n      /* reduce s mod q\r\n       * (is this needed?  do it just in case, it's fast anyway) */\r\n      //divmod((dstptr) t1, s, 32, order25519, 32);\r\n\r\n      /* take reciprocal of s mod q */\r\n      var temp1 = new Array(32);\r\n      var temp2 = new Array(64);\r\n      var temp3 = new Array(64);\r\n      cpy32(temp1, ORDER);\r\n      cpy32(s, egcd32(temp2, temp3, s, temp1));\r\n      if ((s[31] & 0x80) !== 0)\r\n        mula_small(s, s, 0, ORDER, 32, 1);\r\n\r\n    }\r\n  }\r\n\r\n  /********* DIGITAL SIGNATURES *********/\r\n\r\n  /* deterministic EC-KCDSA\r\n   *\r\n   *    s is the private key for signing\r\n   *    P is the corresponding public key\r\n   *    Z is the context data (signer public key or certificate, etc)\r\n   *\r\n   * signing:\r\n   *\r\n   *    m = hash(Z, message)\r\n   *    x = hash(m, s)\r\n   *    keygen25519(Y, NULL, x);\r\n   *    r = hash(Y);\r\n   *    h = m XOR r\r\n   *    sign25519(v, h, x, s);\r\n   *\r\n   *    output (v,r) as the signature\r\n   *\r\n   * verification:\r\n   *\r\n   *    m = hash(Z, message);\r\n   *    h = m XOR r\r\n   *    verify25519(Y, v, h, P)\r\n   *\r\n   *    confirm  r === hash(Y)\r\n   *\r\n   * It would seem to me that it would be simpler to have the signer directly do\r\n   * h = hash(m, Y) and send that to the recipient instead of r, who can verify\r\n   * the signature by checking h === hash(m, Y).  If there are any problems with\r\n   * such a scheme, please let me know.\r\n   *\r\n   * Also, EC-KCDSA (like most DS algorithms) picks x random, which is a waste of\r\n   * perfectly good entropy, but does allow Y to be calculated in advance of (or\r\n   * parallel to) hashing the message.\r\n   */\r\n\r\n  /* Signature generation primitive, calculates (x-h)s mod q\r\n   *   h  [in]  signature hash (of message, signature pub key, and context data)\r\n   *   x  [in]  signature private key\r\n   *   s  [in]  private key for signing\r\n   * returns signature value on success, undefined on failure (use different x or h)\r\n   */\r\n\r\n  function sign(h, x, s) {\r\n    // v = (x - h) s  mod q\r\n    var w, i;\r\n    var h1 = new Array(32)\r\n    var x1 = new Array(32);\r\n    var tmp1 = new Array(64);\r\n    var tmp2 = new Array(64);\r\n\r\n    // Don't clobber the arguments, be nice!\r\n    cpy32(h1, h);\r\n    cpy32(x1, x);\r\n\r\n    // Reduce modulo group order\r\n    var tmp3 = new Array(32);\r\n    divmod(tmp3, h1, 32, ORDER, 32);\r\n    divmod(tmp3, x1, 32, ORDER, 32);\r\n\r\n    // v = x1 - h1\r\n    // If v is negative, add the group order to it to become positive.\r\n    // If v was already positive we don't have to worry about overflow\r\n    // when adding the order because v < ORDER and 2*ORDER < 2^256\r\n    var v = new Array(32);\r\n    mula_small(v, x1, 0, h1, 32, -1);\r\n    mula_small(v, v, 0, ORDER, 32, 1);\r\n\r\n    // tmp1 = (x-h)*s mod q\r\n    mula32(tmp1, v, s, 32, 1);\r\n    divmod(tmp2, tmp1, 64, ORDER, 32);\r\n\r\n    for (w = 0, i = 0; i < 32; i++)\r\n      w |= v[i] = tmp1[i];\r\n\r\n    return w !== 0 ? v : undefined;\r\n  }\r\n\r\n  /* Signature verification primitive, calculates Y = vP + hG\r\n   *   v  [in]  signature value\r\n   *   h  [in]  signature hash\r\n   *   P  [in]  public key\r\n   *   Returns signature public key\r\n   */\r\n  function verify(v, h, P) {\r\n    /* Y = v abs(P) + h G  */\r\n    var d = new Array(32);\r\n    var p = [createUnpackedArray(), createUnpackedArray()];\r\n    var s = [createUnpackedArray(), createUnpackedArray()];\r\n    var yx = [createUnpackedArray(), createUnpackedArray(), createUnpackedArray()];\r\n    var yz = [createUnpackedArray(), createUnpackedArray(), createUnpackedArray()];\r\n    var t1 = [createUnpackedArray(), createUnpackedArray(), createUnpackedArray()];\r\n    var t2 = [createUnpackedArray(), createUnpackedArray(), createUnpackedArray()];\r\n\r\n    var vi = 0, hi = 0, di = 0, nvh = 0, i, j, k;\r\n\r\n    /* set p[0] to G and p[1] to P  */\r\n\r\n    set(p[0], 9);\r\n    unpack(p[1], P);\r\n\r\n    /* set s[0] to P+G and s[1] to P-G  */\r\n\r\n    /* s[0] = (Py^2 + Gy^2 - 2 Py Gy)/(Px - Gx)^2 - Px - Gx - 486662  */\r\n    /* s[1] = (Py^2 + Gy^2 + 2 Py Gy)/(Px - Gx)^2 - Px - Gx - 486662  */\r\n\r\n    x_to_y2(t1[0], t2[0], p[1]); /* t2[0] = Py^2  */\r\n    sqrt(t1[0], t2[0]); /* t1[0] = Py or -Py  */\r\n    j = is_negative(t1[0]); /*      ... check which  */\r\n    add(t2[0], t2[0], C39420360); /* t2[0] = Py^2 + Gy^2  */\r\n    mul(t2[1], BASE_2Y, t1[0]); /* t2[1] = 2 Py Gy or -2 Py Gy  */\r\n    sub(t1[j], t2[0], t2[1]); /* t1[0] = Py^2 + Gy^2 - 2 Py Gy  */\r\n    add(t1[1 - j], t2[0], t2[1]); /* t1[1] = Py^2 + Gy^2 + 2 Py Gy  */\r\n    cpy(t2[0], p[1]); /* t2[0] = Px  */\r\n    sub(t2[0], t2[0], C9); /* t2[0] = Px - Gx  */\r\n    sqr(t2[1], t2[0]); /* t2[1] = (Px - Gx)^2  */\r\n    recip(t2[0], t2[1], 0); /* t2[0] = 1/(Px - Gx)^2  */\r\n    mul(s[0], t1[0], t2[0]); /* s[0] = t1[0]/(Px - Gx)^2  */\r\n    sub(s[0], s[0], p[1]); /* s[0] = t1[0]/(Px - Gx)^2 - Px  */\r\n    sub(s[0], s[0], C486671); /* s[0] = X(P+G)  */\r\n    mul(s[1], t1[1], t2[0]); /* s[1] = t1[1]/(Px - Gx)^2  */\r\n    sub(s[1], s[1], p[1]); /* s[1] = t1[1]/(Px - Gx)^2 - Px  */\r\n    sub(s[1], s[1], C486671); /* s[1] = X(P-G)  */\r\n    mul_small(s[0], s[0], 1); /* reduce s[0] */\r\n    mul_small(s[1], s[1], 1); /* reduce s[1] */\r\n\r\n    /* prepare the chain  */\r\n    for (i = 0; i < 32; i++) {\r\n      vi = (vi >> 8) ^ (v[i] & 0xFF) ^ ((v[i] & 0xFF) << 1);\r\n      hi = (hi >> 8) ^ (h[i] & 0xFF) ^ ((h[i] & 0xFF) << 1);\r\n      nvh = ~(vi ^ hi);\r\n      di = (nvh & (di & 0x80) >> 7) ^ vi;\r\n      di ^= nvh & (di & 0x01) << 1;\r\n      di ^= nvh & (di & 0x02) << 1;\r\n      di ^= nvh & (di & 0x04) << 1;\r\n      di ^= nvh & (di & 0x08) << 1;\r\n      di ^= nvh & (di & 0x10) << 1;\r\n      di ^= nvh & (di & 0x20) << 1;\r\n      di ^= nvh & (di & 0x40) << 1;\r\n      d[i] = di & 0xFF;\r\n    }\r\n\r\n    di = ((nvh & (di & 0x80) << 1) ^ vi) >> 8;\r\n\r\n    /* initialize state */\r\n    set(yx[0], 1);\r\n    cpy(yx[1], p[di]);\r\n    cpy(yx[2], s[0]);\r\n    set(yz[0], 0);\r\n    set(yz[1], 1);\r\n    set(yz[2], 1);\r\n\r\n    /* y[0] is (even)P + (even)G\r\n     * y[1] is (even)P + (odd)G  if current d-bit is 0\r\n     * y[1] is (odd)P + (even)G  if current d-bit is 1\r\n     * y[2] is (odd)P + (odd)G\r\n     */\r\n\r\n    vi = 0;\r\n    hi = 0;\r\n\r\n    /* and go for it! */\r\n    for (i = 32; i-- !== 0;) {\r\n      vi = (vi << 8) | (v[i] & 0xFF);\r\n      hi = (hi << 8) | (h[i] & 0xFF);\r\n      di = (di << 8) | (d[i] & 0xFF);\r\n\r\n      for (j = 8; j-- !== 0;) {\r\n        mont_prep(t1[0], t2[0], yx[0], yz[0]);\r\n        mont_prep(t1[1], t2[1], yx[1], yz[1]);\r\n        mont_prep(t1[2], t2[2], yx[2], yz[2]);\r\n\r\n        k = ((vi ^ vi >> 1) >> j & 1)\r\n          + ((hi ^ hi >> 1) >> j & 1);\r\n        mont_dbl(yx[2], yz[2], t1[k], t2[k], yx[0], yz[0]);\r\n\r\n        k = (di >> j & 2) ^ ((di >> j & 1) << 1);\r\n        mont_add(t1[1], t2[1], t1[k], t2[k], yx[1], yz[1],\r\n          p[di >> j & 1]);\r\n\r\n        mont_add(t1[2], t2[2], t1[0], t2[0], yx[2], yz[2],\r\n          s[((vi ^ hi) >> j & 2) >> 1]);\r\n      }\r\n    }\r\n\r\n    k = (vi & 1) + (hi & 1);\r\n    recip(t1[0], yz[k], 0);\r\n    mul(t1[1], yx[k], t1[0]);\r\n\r\n    var Y = [];\r\n    pack(t1[1], Y);\r\n    return Y;\r\n  }\r\n\r\n  /* Key-pair generation\r\n   *   P  [out] your public key\r\n   *   s  [out] your private key for signing\r\n   *   k  [out] your private key for key agreement\r\n   *   k  [in]  32 random bytes\r\n   * s may be NULL if you don't care\r\n   *\r\n   * WARNING: if s is not NULL, this function has data-dependent timing */\r\n  function keygen(k) {\r\n    var P = [];\r\n    var s = [];\r\n    k = k || [];\r\n    clamp(k);\r\n    core(P, s, k, null);\r\n\r\n    return { p: P, s: s, k: k };\r\n  }\r\n\r\n  return {\r\n    sign: sign,\r\n    verify: verify,\r\n    keygen: keygen\r\n  };\r\n}();\r\n\r\n\r\n/* 25519 end */\r\n\r\n\r\n/* GGV start */\r\nvar GGV = (function (GGV, $) {\r\n\r\n  GGV.getPublicKey = function (secretPhrase) {\r\n    var secretPhraseBytes = converters.hexStringToByteArray(secretPhrase);\r\n    var digest = simpleHash(secretPhraseBytes);\r\n    return converters.byteArrayToHexString(curve25519.keygen(digest).p);\r\n  };\r\n\r\n  GGV.getPrivateKey = function (secretPhrase) {\r\n    var bytes = simpleHash(converters.stringToByteArray(secretPhrase));\r\n    return converters.shortArrayToHexString(curve25519_clamp(converters.byteArrayToShortArray(bytes)));\r\n  };\r\n\r\n  GGV.getAccountId = function (secretPhrase) {\r\n    return GGV.getAccountIdFromPublicKey(GGV.getPublicKey(converters.stringToHexString(secretPhrase)));\r\n  };\r\n\r\n  GGV.getAccountIdFromPublicKey = function (publicKey, RSFormat) {\r\n    var hex = converters.hexStringToByteArray(publicKey);\r\n    var account = simpleHash(hex);\r\n\r\n    account = converters.byteArrayToHexString(account);\r\n\r\n    var slice = (converters.hexStringToByteArray(account)).slice(0, 8);\r\n\r\n    var accountId = byteArrayToBigInteger(slice).toString();\r\n\r\n    return accountId;\r\n\r\n  };\r\n\r\n  GGV.signBytes = function (message, secretPhrase) {\r\n    var messageBytes = converters.hexStringToByteArray(message);\r\n    var secretPhraseBytes = converters.hexStringToByteArray(secretPhrase);\r\n\r\n    var digest = simpleHash(secretPhraseBytes);\r\n    var s = curve25519.keygen(digest).s;\r\n    var m = simpleHash(messageBytes);\r\n    var x = simpleHash(m, s);\r\n    var y = curve25519.keygen(x).p;\r\n    var h = simpleHash(m, y);\r\n    var v = curve25519.sign(h, x, s);\r\n    return converters.byteArrayToHexString(v.concat(h));\r\n  };\r\n\r\n  GGV.verifySignature = function (signature, message, publicKey) {\r\n    var signatureBytes = converters.hexStringToByteArray(signature);\r\n    var messageBytes = converters.hexStringToByteArray(message);\r\n    var publicKeyBytes = converters.hexStringToByteArray(publicKey);\r\n    var v = signatureBytes.slice(0, 32);\r\n    var h = signatureBytes.slice(32);\r\n    var y = curve25519.verify(v, h, publicKeyBytes);\r\n    var m = simpleHash(messageBytes);\r\n    var h2 = simpleHash(m, y);\r\n    if (!areByteArraysEqual(h, h2)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  GGV.simpleHash = function (b1, b2) {\r\n    return simpleHash(b1, b2);\r\n  }\r\n\r\n  function simpleHash(b1, b2) {\r\n    var sha256 = CryptoJS.algo.SHA256.create();\r\n    sha256.update(converters.byteArrayToWordArray(b1));\r\n    if (b2) {\r\n      sha256.update(converters.byteArrayToWordArray(b2));\r\n    }\r\n    var hash = sha256.finalize();\r\n    return converters.wordArrayToByteArrayImpl(hash, false);\r\n  }\r\n\r\n  function areByteArraysEqual(bytes1, bytes2) {\r\n    if (bytes1.length !== bytes2.length) {\r\n      return false;\r\n    }\r\n    for (var i = 0; i < bytes1.length; ++i) {\r\n      if (bytes1[i] !== bytes2[i]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function curve25519_clamp(curve) {\r\n    curve[0] &= 0xFFF8;\r\n    curve[15] &= 0x7FFF;\r\n    curve[15] |= 0x4000;\r\n    return curve;\r\n  }\r\n\r\n  function byteArrayToBigInteger(byteArray) {\r\n    var value = new BigInteger(\"0\", 10);\r\n    var temp1, temp2;\r\n    for (var i = byteArray.length - 1; i >= 0; i--) {\r\n      temp1 = value.multiply(new BigInteger(\"256\", 10));\r\n      temp2 = temp1.add(new BigInteger(byteArray[i].toString(10), 10));\r\n      value = temp2;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getSharedSecret(key1, key2) {\r\n    return converters.shortArrayToByteArray(curve25519_(converters.byteArrayToShortArray(key1), converters.byteArrayToShortArray(key2), null));\r\n  }\r\n\r\n  GGV.sharedSecretToSharedKey = function (sharedSecret, nonce) {\r\n    for (var i = 0; i < 32; i++) {\r\n      sharedSecret[i] ^= nonce[i];\r\n    }\r\n    return simpleHash(sharedSecret);\r\n  };\r\n\r\n  GGV.getSharedKey = function (privateKey, publicKey, nonce) {\r\n    var sharedSecret = getSharedSecret(privateKey, publicKey);\r\n    return GGV.sharedSecretToSharedKey(sharedSecret, nonce);\r\n  };\r\n\r\n\r\n  return GGV;\r\n}(GGV || {}));\r\n/* GGV end*/\r\nexport function getShareHost() {\r\n  let host = window.location.protocol + \"//\" + window.location.hostname + ':19099';\r\n  //\r\n  if (global.BTB_HOST) {\r\n    host = global.BTB_HOST;\r\n  }\r\n  //\r\n  let cp = window.localStorage.getItem(\"cpeer\");\r\n  if (cp && cp.length > 0) {\r\n    host = cp;\r\n  }\r\n  return host;\r\n}\r\n\r\nexport function getFileHost() {\r\n  let host = 'https://file.bshopping.cc:18080'\r\n  //host = 'http://192.168.195.134:18080'\r\n  return host\r\n}\r\n\r\nexport function getCurrentHost() {\r\n  let host = window.location.protocol + \"//\" + window.location.host;\r\n  return host;\r\n}\r\nlet host = getShareHost()\r\n\r\nfunction getPublicKeySlice(publicKeyHex) {\r\n  var hex = converters.hexStringToByteArray(publicKeyHex);\r\n  var account = GGV.simpleHash(hex);\r\n  account = converters.byteArrayToHexString(account);\r\n  return account.slice(0, 16);\r\n}\r\n\r\nexport function calcNonce(userPkHex) {\r\n  let time = Date.now();\r\n  time = time - time % (1000 * 60 * 60 * 2);\r\n  time = userPkHex + time;\r\n  time = converters.stringToByteArray(time);\r\n  var nonce = GGV.simpleHash(time);\r\n  var x = converters.byteArrayToHexString(nonce);\r\n  return nonce;\r\n}\r\n\r\nexport function getPublicKey(userSec) {\r\n  let hex = converters.stringToHexString(userSec);\r\n  var pk = GGV.getPublicKey(hex);\r\n  return pk;\r\n}\r\n\r\nexport function createSharedKey(userSec, userPkHex) {\r\n  var commonSecret = \"http://www.bTbresource.c0m\";\r\n  var commonSecHex = converters.stringToHexString(commonSecret);\r\n  //\r\n  var userPrivateKey = GGV.getPrivateKey(userSec);\r\n  var commomPublicKey = GGV.getPublicKey(commonSecHex);\r\n  commomPublicKey = converters.hexStringToByteArray(commomPublicKey);\r\n  var userPk = converters.hexStringToByteArray(userPkHex);\r\n  var nonce = calcNonce(userPkHex);\r\n  //\r\n  userPrivateKey = converters.hexStringToByteArray(userPrivateKey);\r\n\r\n  var sharedKey = GGV.getSharedKey(userPrivateKey, commomPublicKey, nonce);\r\n  sharedKey = converters.byteArrayToHexString(sharedKey);\r\n  sharedKey = \"1\" + sharedKey.slice(0, 23);\r\n  return sharedKey;\r\n}\r\n\r\nexport function getShareKey(userSec, otherPkHex, nonce) {\r\n  var userPrivateKey = GGV.getPrivateKey(userSec);\r\n  userPrivateKey = converters.hexStringToByteArray(userPrivateKey);\r\n  var otherPk = converters.hexStringToByteArray(otherPkHex);\r\n  nonce = GGV.simpleHash(nonce);\r\n  nonce = converters.byteArrayToHexString(nonce);\r\n  var sharedKey = GGV.getSharedKey(userPrivateKey, otherPk, nonce);\r\n  return sharedKey;\r\n}\r\n\r\nexport function simpleHash(string) {\r\n  let bytes = converters.hexStringToByteArray(string)\r\n  let hash = GGV.simpleHash(bytes);\r\n  hash = converters.byteArrayToHexString(hash);\r\n  return hash;\r\n}\r\n\r\nexport function calcAccountId(userSec) {\r\n  var rsId = GGV.getAccountId(userSec);\r\n  var address = new GGVAddress();\r\n  if (address.set(rsId)) {\r\n    rsId = address.toString();\r\n  }\r\n  return rsId\r\n}\r\n\r\nexport function hexStringToString(hex) {\r\n  return converters.hexStringToString(hex);\r\n}\r\n\r\nexport function stringToHexString(str) {\r\n  return converters.stringToHexString(str);\r\n}\r\n\r\nexport function createPeerId(userSec) {\r\n  var userSecHex = converters.stringToHexString(userSec);\r\n  //\r\n  var pubHex = GGV.getPublicKey(userSecHex);\r\n  var peerTokenHex = createSharedKey(userSec, pubHex);\r\n  //\r\n  var rsId = GGV.getAccountId(userSec);\r\n  var address = new GGVAddress();\r\n  if (address.set(rsId)) {\r\n    rsId = address.toString();\r\n  }\r\n  var aid = GGV.getAccountId(userSec);\r\n  //create peerid\r\n  var peerId = getPublicKeySlice(pubHex) + peerTokenHex;\r\n  var account = { peerId: peerId, rsId: rsId, pk: pubHex, balance: 0, aid: aid }\r\n  return account\r\n}\r\n\r\nconst get = require('simple-get')\r\n\r\nexport function match(pk, sec) {\r\n  var userSecHex = converters.stringToHexString(sec);\r\n  var pubHex = GGV.getPublicKey(userSecHex);\r\n  return pubHex === pk;\r\n}\r\n\r\n\r\nexport function signString(secret, string) {\r\n  var userSecHex = converters.stringToHexString(secret);\r\n  var signature = GGV.signBytes(new Buffer(string).toString('hex'), userSecHex);\r\n  return signature;\r\n}\r\n\r\nexport function sign(secret, dataHex) {\r\n  var userSecHex = converters.stringToHexString(secret);\r\n  var signature = GGV.signBytes(dataHex, userSecHex);\r\n  return signature;\r\n}\r\n\r\nexport function loadAccountInfo(account, cb) {\r\n  let host = getShareHost()\r\n  var url = getShareHost() + \"/btb?action=account&rsIdOrPkHex=\" + account.pk;\r\n  get.concat({ url: url, json: true }, function (err, res, account) {\r\n    if (err) {\r\n      //console.log(err);\r\n      return;\r\n    }\r\n    if (account.exist)\r\n      cb(account)\r\n    else\r\n      cb(null);\r\n  })\r\n}\r\n\r\n\r\nvar crypto = require('crypto');\r\n\r\nfunction calcTimeStamp() {\r\n  let time = new Date().getTime();\r\n  time = time - (time % (1000 * 60 * 10))\r\n  return time;\r\n}\r\n\r\nexport function safeNonce(data, pattern) {\r\n  var nonce = 0;\r\n  let timeStamp = calcTimeStamp()\r\n  while (true) {\r\n    var sha256 = crypto.createHash('sha256');\r\n    sha256.update(data);\r\n    sha256.update(nonce + \";\" + timeStamp);\r\n    var hashHex = sha256.digest('hex');\r\n    if (pattern) {\r\n      if (hashHex.startsWith(pattern))\r\n        return nonce\r\n    } else {\r\n      if ((data.length <= 10240 && hashHex.startsWith('000')) || (data.length > 10240 && hashHex.startsWith('00'))) {\r\n        return nonce;\r\n      }\r\n    }\r\n    nonce++;\r\n  }\r\n}\r\n\r\nexport function postSafe(config, data, cb, append) {\r\n  let url;\r\n  let pattern;\r\n  if (typeof config === 'string')\r\n    url = config;\r\n  else {\r\n    url = config.url;\r\n    pattern = config.nonce;\r\n  }\r\n  var body = JSON.stringify(data);\r\n  var nonce = safeNonce(body, pattern);\r\n  if (append) {\r\n    url += \"&nonce=\" + nonce\r\n  } else\r\n    url += \"?nonce=\" + nonce\r\n  var opts = {\r\n    url: url,\r\n    body: body,\r\n    json: false\r\n  };\r\n  get.concat(opts, function (err, res, data) {\r\n    //on err\r\n    if (err) {\r\n      cb(false, err);\r\n    } else {\r\n      try {\r\n        let str = data.toString();\r\n        if (str && str.length > 0)\r\n          cb(true, JSON.parse(data))\r\n        else\r\n          cb(true)\r\n      } catch (e) {\r\n        cb(false)\r\n      }\r\n    };\r\n  });\r\n}\r\n\r\nexport function submitShopTransaction(url, userSec, res, cb, parameters) {\r\n  var userSecHex = converters.stringToHexString(userSec);\r\n  //res = JSON.parse(res);\r\n  if (res.ok) {\r\n    var transctionBytes = res.transctionBytes;\r\n    var offset = res.offset * 2;\r\n    var size = res.size;\r\n    var sig = GGV.signBytes(size + transctionBytes, userSecHex);\r\n    //offset\r\n    var part1 = transctionBytes.substring(0, offset);\r\n    var part2 = transctionBytes.substring(offset + 128, transctionBytes.length);\r\n    var transactionBytes = part1 + sig + part2;\r\n    var request = { action: 'transaction', type: 'submit', transactionBytes: transactionBytes }\r\n    if (parameters) {\r\n      request = { action: 'transaction', type: 'submit', transactionBytes: transactionBytes, ...parameters }\r\n    }\r\n    postSafe(url, request, cb);\r\n  } else {\r\n    cb(false);\r\n  }\r\n}\r\n\r\n\r\nexport function shareResource(id, userSec, fee, deadline, price, tags, resName, showShareStatus) {\r\n\r\n  var userSecHex = converters.stringToHexString(userSec);\r\n  var pk = getPublicKey(userSec)\r\n  var aid = GGV.getAccountId(userSec);\r\n  tags = converters.stringToHexString(tags)\r\n  //\r\n  var url = getShareHost() + \"/btb?action=webTranaction&type=share\";\r\n  var data = { resId: id, accountId: aid, pk, fee: fee + '', deadline: deadline + '', price: price + '', resName: resName };\r\n  data = JSON.stringify(data);\r\n\r\n  get.concat({ url: url, body: data }, function (err, rrr, res) {\r\n    if (err) {\r\n      //console.log(err);\r\n      showShareStatus(false)\r\n      return;\r\n    }\r\n\r\n    res = JSON.parse(res);\r\n\r\n    if (res.ok) {\r\n      var transctionBytes = res.transctionBytes;\r\n      url = getShareHost() + \"/btb?action=webTranaction&type=submit\";\r\n      var sig = GGV.signBytes(\"98000000\" + transctionBytes, userSecHex);\r\n      //112\r\n      var part1 = transctionBytes.substring(0, 112);\r\n      var part2 = transctionBytes.substring(112 + 128, transctionBytes.length);\r\n      var transactionBytes = part1 + sig + part2;\r\n      var request = { transactionBytes: transactionBytes, tags: tags }\r\n      request = JSON.stringify(request);\r\n      get.concat({ url: url, body: request }, function (err, rrr, res) {\r\n        res = JSON.parse(res);\r\n        showShareStatus(res.ok);\r\n      })\r\n    } else {\r\n      showShareStatus(false);\r\n    }\r\n\r\n  })\r\n\r\n}\r\n\r\nexport function startPlayer(secret, resource) {\r\n  const ZkerPlayer = require('zker-player')\r\n  var config = { secret, tags: resource.tags };\r\n  var player = new ZkerPlayer(resource.id, config)\r\n  player.start()\r\n}\r\n\r\n/**\r\n*\r\n*  URL encode / decode\r\n*  http://www.webtoolkit.info/\r\n*\r\n**/\r\n\r\nexport var Url = {\r\n\r\n  // public method for url encoding\r\n  encode: function (string) {\r\n    return escape(this._utf8_encode(string));\r\n  },\r\n\r\n  // public method for url decoding\r\n  decode: function (string) {\r\n    return this._utf8_decode(unescape(string));\r\n  },\r\n\r\n  // private method for UTF-8 encoding\r\n  _utf8_encode: function (string) {\r\n    string = string.replace(/\\r\\n/g, \"\\n\");\r\n    var utftext = \"\";\r\n\r\n    for (var n = 0; n < string.length; n++) {\r\n\r\n      var c = string.charCodeAt(n);\r\n\r\n      if (c < 128) {\r\n        utftext += String.fromCharCode(c);\r\n      }\r\n      else if ((c > 127) && (c < 2048)) {\r\n        utftext += String.fromCharCode((c >> 6) | 192);\r\n        utftext += String.fromCharCode((c & 63) | 128);\r\n      }\r\n      else {\r\n        utftext += String.fromCharCode((c >> 12) | 224);\r\n        utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n        utftext += String.fromCharCode((c & 63) | 128);\r\n      }\r\n\r\n    }\r\n\r\n    return utftext;\r\n  },\r\n\r\n  // private method for UTF-8 decoding\r\n  _utf8_decode: function (utftext) {\r\n    var string = \"\";\r\n    var i = 0;\r\n    var c = 0;\r\n    var c1 = 0;\r\n    var c2 = 0;\r\n    var c3 = 0;\r\n    while (i < utftext.length) {\r\n\r\n      c = utftext.charCodeAt(i);\r\n\r\n      if (c < 128) {\r\n        string += String.fromCharCode(c);\r\n        i++;\r\n      }\r\n      else if ((c > 191) && (c < 224)) {\r\n        c2 = utftext.charCodeAt(i + 1);\r\n        string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n        i += 2;\r\n      }\r\n      else {\r\n        c2 = utftext.charCodeAt(i + 1);\r\n        c3 = utftext.charCodeAt(i + 2);\r\n        string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n        i += 3;\r\n      }\r\n\r\n    }\r\n\r\n    return string;\r\n  }\r\n\r\n}\r\n\r\n/*qr code start*/\r\n/**\r\n * @fileoverview\r\n * - Using the 'QRCode for Javascript library'\r\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\r\n * - this library has no dependencies.\r\n *\r\n * @author davidshimjs\r\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\r\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\r\n */\r\nvar QRCode;\r\n\r\n(function () {\r\n  //---------------------------------------------------------------------\r\n  // QRCode for JavaScript\r\n  //\r\n  // Copyright (c) 2009 Kazuhiko Arase\r\n  //\r\n  // URL: http://www.d-project.com/\r\n  //\r\n  // Licensed under the MIT license:\r\n  //   http://www.opensource.org/licenses/mit-license.php\r\n  //\r\n  // The word \"QR Code\" is registered trademark of\r\n  // DENSO WAVE INCORPORATED\r\n  //   http://www.denso-wave.com/qrcode/faqpatent-e.html\r\n  //\r\n  //---------------------------------------------------------------------\r\n  function QR8bitByte(data) {\r\n    this.mode = QRMode.MODE_8BIT_BYTE;\r\n    this.data = data;\r\n    this.parsedData = [];\r\n\r\n    // Added to support UTF-8 Characters\r\n    for (var i = 0, l = this.data.length; i < l; i++) {\r\n      var byteArray = [];\r\n      var code = this.data.charCodeAt(i);\r\n\r\n      if (code > 0x10000) {\r\n        byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\r\n        byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\r\n        byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\r\n        byteArray[3] = 0x80 | (code & 0x3F);\r\n      } else if (code > 0x800) {\r\n        byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\r\n        byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\r\n        byteArray[2] = 0x80 | (code & 0x3F);\r\n      } else if (code > 0x80) {\r\n        byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\r\n        byteArray[1] = 0x80 | (code & 0x3F);\r\n      } else {\r\n        byteArray[0] = code;\r\n      }\r\n\r\n      this.parsedData.push(byteArray);\r\n    }\r\n\r\n    this.parsedData = Array.prototype.concat.apply([], this.parsedData);\r\n\r\n    if (this.parsedData.length != this.data.length) {\r\n      this.parsedData.unshift(191);\r\n      this.parsedData.unshift(187);\r\n      this.parsedData.unshift(239);\r\n    }\r\n  }\r\n\r\n  QR8bitByte.prototype = {\r\n    getLength: function (buffer) {\r\n      return this.parsedData.length;\r\n    },\r\n    write: function (buffer) {\r\n      for (var i = 0, l = this.parsedData.length; i < l; i++) {\r\n        buffer.put(this.parsedData[i], 8);\r\n      }\r\n    }\r\n  };\r\n\r\n  function QRCodeModel(typeNumber, errorCorrectLevel) {\r\n    this.typeNumber = typeNumber;\r\n    this.errorCorrectLevel = errorCorrectLevel;\r\n    this.modules = null;\r\n    this.moduleCount = 0;\r\n    this.dataCache = null;\r\n    this.dataList = [];\r\n  }\r\n\r\n  QRCodeModel.prototype = {\r\n    addData: function (data) { var newData = new QR8bitByte(data); this.dataList.push(newData); this.dataCache = null; }, isDark: function (row, col) {\r\n      if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) { throw new Error(row + \",\" + col); }\r\n      return this.modules[row][col];\r\n    }, getModuleCount: function () { return this.moduleCount; }, make: function () { this.makeImpl(false, this.getBestMaskPattern()); }, makeImpl: function (test, maskPattern) {\r\n      this.moduleCount = this.typeNumber * 4 + 17; this.modules = new Array(this.moduleCount); for (var row = 0; row < this.moduleCount; row++) { this.modules[row] = new Array(this.moduleCount); for (var col = 0; col < this.moduleCount; col++) { this.modules[row][col] = null; } }\r\n      this.setupPositionProbePattern(0, 0); this.setupPositionProbePattern(this.moduleCount - 7, 0); this.setupPositionProbePattern(0, this.moduleCount - 7); this.setupPositionAdjustPattern(); this.setupTimingPattern(); this.setupTypeInfo(test, maskPattern); if (this.typeNumber >= 7) { this.setupTypeNumber(test); }\r\n      if (this.dataCache == null) { this.dataCache = QRCodeModel.createData(this.typeNumber, this.errorCorrectLevel, this.dataList); }\r\n      this.mapData(this.dataCache, maskPattern);\r\n    }, setupPositionProbePattern: function (row, col) { for (var r = -1; r <= 7; r++) { if (row + r <= -1 || this.moduleCount <= row + r) continue; for (var c = -1; c <= 7; c++) { if (col + c <= -1 || this.moduleCount <= col + c) continue; if ((0 <= r && r <= 6 && (c == 0 || c == 6)) || (0 <= c && c <= 6 && (r == 0 || r == 6)) || (2 <= r && r <= 4 && 2 <= c && c <= 4)) { this.modules[row + r][col + c] = true; } else { this.modules[row + r][col + c] = false; } } } }, getBestMaskPattern: function () {\r\n      var minLostPoint = 0; var pattern = 0; for (var i = 0; i < 8; i++) { this.makeImpl(true, i); var lostPoint = QRUtil.getLostPoint(this); if (i == 0 || minLostPoint > lostPoint) { minLostPoint = lostPoint; pattern = i; } }\r\n      return pattern;\r\n    }, createMovieClip: function (target_mc, instance_name, depth) {\r\n      var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth); var cs = 1; this.make(); for (var row = 0; row < this.modules.length; row++) { var y = row * cs; for (var col = 0; col < this.modules[row].length; col++) { var x = col * cs; var dark = this.modules[row][col]; if (dark) { qr_mc.beginFill(0, 100); qr_mc.moveTo(x, y); qr_mc.lineTo(x + cs, y); qr_mc.lineTo(x + cs, y + cs); qr_mc.lineTo(x, y + cs); qr_mc.endFill(); } } }\r\n      return qr_mc;\r\n    }, setupTimingPattern: function () {\r\n      for (var r = 8; r < this.moduleCount - 8; r++) {\r\n        if (this.modules[r][6] != null) { continue; }\r\n        this.modules[r][6] = (r % 2 == 0);\r\n      }\r\n      for (var c = 8; c < this.moduleCount - 8; c++) {\r\n        if (this.modules[6][c] != null) { continue; }\r\n        this.modules[6][c] = (c % 2 == 0);\r\n      }\r\n    }, setupPositionAdjustPattern: function () {\r\n      var pos = QRUtil.getPatternPosition(this.typeNumber); for (var i = 0; i < pos.length; i++) {\r\n        for (var j = 0; j < pos.length; j++) {\r\n          var row = pos[i]; var col = pos[j]; if (this.modules[row][col] != null) { continue; }\r\n          for (var r = -2; r <= 2; r++) { for (var c = -2; c <= 2; c++) { if (r == -2 || r == 2 || c == -2 || c == 2 || (r == 0 && c == 0)) { this.modules[row + r][col + c] = true; } else { this.modules[row + r][col + c] = false; } } }\r\n        }\r\n      }\r\n    }, setupTypeNumber: function (test) {\r\n      var bits = QRUtil.getBCHTypeNumber(this.typeNumber); for (var i = 0; i < 18; i++) { var mod = (!test && ((bits >> i) & 1) == 1); this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod; }\r\n      for (var i = 0; i < 18; i++) { var mod = (!test && ((bits >> i) & 1) == 1); this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod; }\r\n    }, setupTypeInfo: function (test, maskPattern) {\r\n      var data = (this.errorCorrectLevel << 3) | maskPattern; var bits = QRUtil.getBCHTypeInfo(data); for (var i = 0; i < 15; i++) { var mod = (!test && ((bits >> i) & 1) == 1); if (i < 6) { this.modules[i][8] = mod; } else if (i < 8) { this.modules[i + 1][8] = mod; } else { this.modules[this.moduleCount - 15 + i][8] = mod; } }\r\n      for (var i = 0; i < 15; i++) { var mod = (!test && ((bits >> i) & 1) == 1); if (i < 8) { this.modules[8][this.moduleCount - i - 1] = mod; } else if (i < 9) { this.modules[8][15 - i - 1 + 1] = mod; } else { this.modules[8][15 - i - 1] = mod; } }\r\n      this.modules[this.moduleCount - 8][8] = (!test);\r\n    }, mapData: function (data, maskPattern) {\r\n      var inc = -1; var row = this.moduleCount - 1; var bitIndex = 7; var byteIndex = 0; for (var col = this.moduleCount - 1; col > 0; col -= 2) {\r\n        if (col == 6) col--; while (true) {\r\n          for (var c = 0; c < 2; c++) {\r\n            if (this.modules[row][col - c] == null) {\r\n              var dark = false; if (byteIndex < data.length) { dark = (((data[byteIndex] >>> bitIndex) & 1) == 1); }\r\n              var mask = QRUtil.getMask(maskPattern, row, col - c); if (mask) { dark = !dark; }\r\n              this.modules[row][col - c] = dark; bitIndex--; if (bitIndex == -1) { byteIndex++; bitIndex = 7; }\r\n            }\r\n          }\r\n          row += inc; if (row < 0 || this.moduleCount <= row) { row -= inc; inc = -inc; break; }\r\n        }\r\n      }\r\n    }\r\n  }; QRCodeModel.PAD0 = 0xEC; QRCodeModel.PAD1 = 0x11; QRCodeModel.createData = function (typeNumber, errorCorrectLevel, dataList) {\r\n    var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel); var buffer = new QRBitBuffer(); for (var i = 0; i < dataList.length; i++) { var data = dataList[i]; buffer.put(data.mode, 4); buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber)); data.write(buffer); }\r\n    var totalDataCount = 0; for (var i = 0; i < rsBlocks.length; i++) { totalDataCount += rsBlocks[i].dataCount; }\r\n    if (buffer.getLengthInBits() > totalDataCount * 8) {\r\n      throw new Error(\"code length overflow. (\"\r\n        + buffer.getLengthInBits()\r\n        + \">\"\r\n        + totalDataCount * 8\r\n        + \")\");\r\n    }\r\n    if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) { buffer.put(0, 4); }\r\n    while (buffer.getLengthInBits() % 8 != 0) { buffer.putBit(false); }\r\n    while (true) {\r\n      if (buffer.getLengthInBits() >= totalDataCount * 8) { break; }\r\n      buffer.put(QRCodeModel.PAD0, 8); if (buffer.getLengthInBits() >= totalDataCount * 8) { break; }\r\n      buffer.put(QRCodeModel.PAD1, 8);\r\n    }\r\n    return QRCodeModel.createBytes(buffer, rsBlocks);\r\n  }; QRCodeModel.createBytes = function (buffer, rsBlocks) {\r\n    var offset = 0; var maxDcCount = 0; var maxEcCount = 0; var dcdata = new Array(rsBlocks.length); var ecdata = new Array(rsBlocks.length); for (var r = 0; r < rsBlocks.length; r++) {\r\n      var dcCount = rsBlocks[r].dataCount; var ecCount = rsBlocks[r].totalCount - dcCount; maxDcCount = Math.max(maxDcCount, dcCount); maxEcCount = Math.max(maxEcCount, ecCount); dcdata[r] = new Array(dcCount); for (var i = 0; i < dcdata[r].length; i++) { dcdata[r][i] = 0xff & buffer.buffer[i + offset]; }\r\n      offset += dcCount; var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount); var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1); var modPoly = rawPoly.mod(rsPoly); ecdata[r] = new Array(rsPoly.getLength() - 1); for (var i = 0; i < ecdata[r].length; i++) { var modIndex = i + modPoly.getLength() - ecdata[r].length; ecdata[r][i] = (modIndex >= 0) ? modPoly.get(modIndex) : 0; }\r\n    }\r\n    var totalCodeCount = 0; for (var i = 0; i < rsBlocks.length; i++) { totalCodeCount += rsBlocks[i].totalCount; }\r\n    var data = new Array(totalCodeCount); var index = 0; for (var i = 0; i < maxDcCount; i++) { for (var r = 0; r < rsBlocks.length; r++) { if (i < dcdata[r].length) { data[index++] = dcdata[r][i]; } } }\r\n    for (var i = 0; i < maxEcCount; i++) { for (var r = 0; r < rsBlocks.length; r++) { if (i < ecdata[r].length) { data[index++] = ecdata[r][i]; } } }\r\n    return data;\r\n  }; var QRMode = { MODE_NUMBER: 1 << 0, MODE_ALPHA_NUM: 1 << 1, MODE_8BIT_BYTE: 1 << 2, MODE_KANJI: 1 << 3 }; var QRErrorCorrectLevel = { L: 1, M: 0, Q: 3, H: 2 }; var QRMaskPattern = { PATTERN000: 0, PATTERN001: 1, PATTERN010: 2, PATTERN011: 3, PATTERN100: 4, PATTERN101: 5, PATTERN110: 6, PATTERN111: 7 }; var QRUtil = {\r\n    PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]], G15: (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0), G18: (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0), G15_MASK: (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1), getBCHTypeInfo: function (data) {\r\n      var d = data << 10; while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) { d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15))); }\r\n      return ((data << 10) | d) ^ QRUtil.G15_MASK;\r\n    }, getBCHTypeNumber: function (data) {\r\n      var d = data << 12; while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) { d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18))); }\r\n      return (data << 12) | d;\r\n    }, getBCHDigit: function (data) {\r\n      var digit = 0; while (data != 0) { digit++; data >>>= 1; }\r\n      return digit;\r\n    }, getPatternPosition: function (typeNumber) { return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1]; }, getMask: function (maskPattern, i, j) { switch (maskPattern) { case QRMaskPattern.PATTERN000: return (i + j) % 2 == 0; case QRMaskPattern.PATTERN001: return i % 2 == 0; case QRMaskPattern.PATTERN010: return j % 3 == 0; case QRMaskPattern.PATTERN011: return (i + j) % 3 == 0; case QRMaskPattern.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0; case QRMaskPattern.PATTERN101: return (i * j) % 2 + (i * j) % 3 == 0; case QRMaskPattern.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 == 0; case QRMaskPattern.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 == 0; default: throw new Error(\"bad maskPattern:\" + maskPattern); } }, getErrorCorrectPolynomial: function (errorCorrectLength) {\r\n      var a = new QRPolynomial([1], 0); for (var i = 0; i < errorCorrectLength; i++) { a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0)); }\r\n      return a;\r\n    }, getLengthInBits: function (mode, type) { if (1 <= type && type < 10) { switch (mode) { case QRMode.MODE_NUMBER: return 10; case QRMode.MODE_ALPHA_NUM: return 9; case QRMode.MODE_8BIT_BYTE: return 8; case QRMode.MODE_KANJI: return 8; default: throw new Error(\"mode:\" + mode); } } else if (type < 27) { switch (mode) { case QRMode.MODE_NUMBER: return 12; case QRMode.MODE_ALPHA_NUM: return 11; case QRMode.MODE_8BIT_BYTE: return 16; case QRMode.MODE_KANJI: return 10; default: throw new Error(\"mode:\" + mode); } } else if (type < 41) { switch (mode) { case QRMode.MODE_NUMBER: return 14; case QRMode.MODE_ALPHA_NUM: return 13; case QRMode.MODE_8BIT_BYTE: return 16; case QRMode.MODE_KANJI: return 12; default: throw new Error(\"mode:\" + mode); } } else { throw new Error(\"type:\" + type); } }, getLostPoint: function (qrCode) {\r\n      var moduleCount = qrCode.getModuleCount(); var lostPoint = 0; for (var row = 0; row < moduleCount; row++) {\r\n        for (var col = 0; col < moduleCount; col++) {\r\n          var sameCount = 0; var dark = qrCode.isDark(row, col); for (var r = -1; r <= 1; r++) {\r\n            if (row + r < 0 || moduleCount <= row + r) { continue; }\r\n            for (var c = -1; c <= 1; c++) {\r\n              if (col + c < 0 || moduleCount <= col + c) { continue; }\r\n              if (r == 0 && c == 0) { continue; }\r\n              if (dark == qrCode.isDark(row + r, col + c)) { sameCount++; }\r\n            }\r\n          }\r\n          if (sameCount > 5) { lostPoint += (3 + sameCount - 5); }\r\n        }\r\n      }\r\n      for (var row = 0; row < moduleCount - 1; row++) { for (var col = 0; col < moduleCount - 1; col++) { var count = 0; if (qrCode.isDark(row, col)) count++; if (qrCode.isDark(row + 1, col)) count++; if (qrCode.isDark(row, col + 1)) count++; if (qrCode.isDark(row + 1, col + 1)) count++; if (count == 0 || count == 4) { lostPoint += 3; } } }\r\n      for (var row = 0; row < moduleCount; row++) { for (var col = 0; col < moduleCount - 6; col++) { if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) { lostPoint += 40; } } }\r\n      for (var col = 0; col < moduleCount; col++) { for (var row = 0; row < moduleCount - 6; row++) { if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) { lostPoint += 40; } } }\r\n      var darkCount = 0; for (var col = 0; col < moduleCount; col++) { for (var row = 0; row < moduleCount; row++) { if (qrCode.isDark(row, col)) { darkCount++; } } }\r\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5; lostPoint += ratio * 10; return lostPoint;\r\n    }\r\n  }; var QRMath = {\r\n    glog: function (n) {\r\n      if (n < 1) { throw new Error(\"glog(\" + n + \")\"); }\r\n      return QRMath.LOG_TABLE[n];\r\n    }, gexp: function (n) {\r\n      while (n < 0) { n += 255; }\r\n      while (n >= 256) { n -= 255; }\r\n      return QRMath.EXP_TABLE[n];\r\n    }, EXP_TABLE: new Array(256), LOG_TABLE: new Array(256)\r\n  }; for (var i = 0; i < 8; i++) { QRMath.EXP_TABLE[i] = 1 << i; }\r\n  for (var i = 8; i < 256; i++) { QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8]; }\r\n  for (var i = 0; i < 255; i++) { QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i; }\r\n  function QRPolynomial(num, shift) {\r\n    if (num.length == undefined) { throw new Error(num.length + \"/\" + shift); }\r\n    var offset = 0; while (offset < num.length && num[offset] == 0) { offset++; }\r\n    this.num = new Array(num.length - offset + shift); for (var i = 0; i < num.length - offset; i++) { this.num[i] = num[i + offset]; }\r\n  }\r\n  QRPolynomial.prototype = {\r\n    get: function (index) { return this.num[index]; }, getLength: function () { return this.num.length; }, multiply: function (e) {\r\n      var num = new Array(this.getLength() + e.getLength() - 1); for (var i = 0; i < this.getLength(); i++) { for (var j = 0; j < e.getLength(); j++) { num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j))); } }\r\n      return new QRPolynomial(num, 0);\r\n    }, mod: function (e) {\r\n      if (this.getLength() - e.getLength() < 0) { return this; }\r\n      var ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0)); var num = new Array(this.getLength()); for (var i = 0; i < this.getLength(); i++) { num[i] = this.get(i); }\r\n      for (var i = 0; i < e.getLength(); i++) { num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio); }\r\n      return new QRPolynomial(num, 0).mod(e);\r\n    }\r\n  }; function QRRSBlock(totalCount, dataCount) { this.totalCount = totalCount; this.dataCount = dataCount; }\r\n  QRRSBlock.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]]; QRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\r\n    var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel); if (rsBlock == undefined) { throw new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel); }\r\n    var length = rsBlock.length / 3; var list = []; for (var i = 0; i < length; i++) { var count = rsBlock[i * 3 + 0]; var totalCount = rsBlock[i * 3 + 1]; var dataCount = rsBlock[i * 3 + 2]; for (var j = 0; j < count; j++) { list.push(new QRRSBlock(totalCount, dataCount)); } }\r\n    return list;\r\n  }; QRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) { switch (errorCorrectLevel) { case QRErrorCorrectLevel.L: return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0]; case QRErrorCorrectLevel.M: return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1]; case QRErrorCorrectLevel.Q: return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2]; case QRErrorCorrectLevel.H: return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3]; default: return undefined; } }; function QRBitBuffer() { this.buffer = []; this.length = 0; }\r\n  QRBitBuffer.prototype = {\r\n    get: function (index) { var bufIndex = Math.floor(index / 8); return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) == 1; }, put: function (num, length) { for (var i = 0; i < length; i++) { this.putBit(((num >>> (length - i - 1)) & 1) == 1); } }, getLengthInBits: function () { return this.length; }, putBit: function (bit) {\r\n      var bufIndex = Math.floor(this.length / 8); if (this.buffer.length <= bufIndex) { this.buffer.push(0); }\r\n      if (bit) { this.buffer[bufIndex] |= (0x80 >>> (this.length % 8)); }\r\n      this.length++;\r\n    }\r\n  }; var QRCodeLimitLength = [[17, 14, 11, 7], [32, 26, 20, 14], [53, 42, 32, 24], [78, 62, 46, 34], [106, 84, 60, 44], [134, 106, 74, 58], [154, 122, 86, 64], [192, 152, 108, 84], [230, 180, 130, 98], [271, 213, 151, 119], [321, 251, 177, 137], [367, 287, 203, 155], [425, 331, 241, 177], [458, 362, 258, 194], [520, 412, 292, 220], [586, 450, 322, 250], [644, 504, 364, 280], [718, 560, 394, 310], [792, 624, 442, 338], [858, 666, 482, 382], [929, 711, 509, 403], [1003, 779, 565, 439], [1091, 857, 611, 461], [1171, 911, 661, 511], [1273, 997, 715, 535], [1367, 1059, 751, 593], [1465, 1125, 805, 625], [1528, 1190, 868, 658], [1628, 1264, 908, 698], [1732, 1370, 982, 742], [1840, 1452, 1030, 790], [1952, 1538, 1112, 842], [2068, 1628, 1168, 898], [2188, 1722, 1228, 958], [2303, 1809, 1283, 983], [2431, 1911, 1351, 1051], [2563, 1989, 1423, 1093], [2699, 2099, 1499, 1139], [2809, 2213, 1579, 1219], [2953, 2331, 1663, 1273]];\r\n\r\n  function _isSupportCanvas() {\r\n    return typeof CanvasRenderingContext2D != \"undefined\";\r\n  }\r\n\r\n  // android 2.x doesn't support Data-URI spec\r\n  function _getAndroid() {\r\n    var android = false;\r\n    var sAgent = navigator.userAgent;\r\n\r\n    if (/android/i.test(sAgent)) { // android\r\n      android = true;\r\n      var aMat = sAgent.toString().match(/android ([0-9]\\.[0-9])/i);\r\n\r\n      if (aMat && aMat[1]) {\r\n        android = parseFloat(aMat[1]);\r\n      }\r\n    }\r\n\r\n    return android;\r\n  }\r\n\r\n  var svgDrawer = (function () {\r\n\r\n    var Drawing = function (el, htOption) {\r\n      this._el = el;\r\n      this._htOption = htOption;\r\n    };\r\n\r\n    Drawing.prototype.draw = function (oQRCode) {\r\n      var _htOption = this._htOption;\r\n      var _el = this._el;\r\n      var nCount = oQRCode.getModuleCount();\r\n      var nWidth = Math.floor(_htOption.width / nCount);\r\n      var nHeight = Math.floor(_htOption.height / nCount);\r\n\r\n      this.clear();\r\n\r\n      function makeSVG(tag, attrs) {\r\n        var el = document.createElementNS('http://www.w3.org/2000/svg', tag);\r\n        for (var k in attrs)\r\n          if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);\r\n        return el;\r\n      }\r\n\r\n      var svg = makeSVG(\"svg\", { 'viewBox': '0 0 ' + String(nCount) + \" \" + String(nCount), 'width': '100%', 'height': '100%', 'fill': _htOption.colorLight });\r\n      svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\r\n      _el.appendChild(svg);\r\n\r\n      svg.appendChild(makeSVG(\"rect\", { \"fill\": _htOption.colorLight, \"width\": \"100%\", \"height\": \"100%\" }));\r\n      svg.appendChild(makeSVG(\"rect\", { \"fill\": _htOption.colorDark, \"width\": \"1\", \"height\": \"1\", \"id\": \"template\" }));\r\n\r\n      for (var row = 0; row < nCount; row++) {\r\n        for (var col = 0; col < nCount; col++) {\r\n          if (oQRCode.isDark(row, col)) {\r\n            var child = makeSVG(\"use\", { \"x\": String(col), \"y\": String(row) });\r\n            child.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", \"#template\")\r\n            svg.appendChild(child);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    Drawing.prototype.clear = function () {\r\n      while (this._el.hasChildNodes())\r\n        this._el.removeChild(this._el.lastChild);\r\n    };\r\n    return Drawing;\r\n  })();\r\n\r\n  var useSVG = document.documentElement.tagName.toLowerCase() === \"svg\";\r\n\r\n  // Drawing in DOM by using Table tag\r\n  var Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? (function () {\r\n    var Drawing = function (el, htOption) {\r\n      this._el = el;\r\n      this._htOption = htOption;\r\n    };\r\n\r\n\t\t/**\r\n\t\t * Draw the QRCode\r\n\t\t *\r\n\t\t * @param {QRCode} oQRCode\r\n\t\t */\r\n    Drawing.prototype.draw = function (oQRCode) {\r\n      var _htOption = this._htOption;\r\n      var _el = this._el;\r\n      var nCount = oQRCode.getModuleCount();\r\n      var nWidth = Math.floor(_htOption.width / nCount);\r\n      var nHeight = Math.floor(_htOption.height / nCount);\r\n      var aHTML = ['<table style=\"border:0;border-collapse:collapse;\">'];\r\n\r\n      for (var row = 0; row < nCount; row++) {\r\n        aHTML.push('<tr>');\r\n\r\n        for (var col = 0; col < nCount; col++) {\r\n          aHTML.push('<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:' + nWidth + 'px;height:' + nHeight + 'px;background-color:' + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + ';\"></td>');\r\n        }\r\n\r\n        aHTML.push('</tr>');\r\n      }\r\n\r\n      aHTML.push('</table>');\r\n      _el.innerHTML = aHTML.join('');\r\n\r\n      // Fix the margin values as real size.\r\n      var elTable = _el.childNodes[0];\r\n      var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2;\r\n      var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2;\r\n\r\n      if (nLeftMarginTable > 0 && nTopMarginTable > 0) {\r\n        elTable.style.margin = nTopMarginTable + \"px \" + nLeftMarginTable + \"px\";\r\n      }\r\n    };\r\n\r\n\t\t/**\r\n\t\t * Clear the QRCode\r\n\t\t */\r\n    Drawing.prototype.clear = function () {\r\n      this._el.innerHTML = '';\r\n    };\r\n\r\n    return Drawing;\r\n  })() : (function () { // Drawing in Canvas\r\n    function _onMakeImage() {\r\n      this._elImage.src = this._elCanvas.toDataURL(\"image/png\");\r\n      this._elImage.style.display = \"block\";\r\n      this._elCanvas.style.display = \"none\";\r\n    }\r\n\r\n    // Android 2.1 bug workaround\r\n    // http://code.google.com/p/android/issues/detail?id=5141\r\n    if (this._android && this._android <= 2.1) {\r\n      var factor = 1 / window.devicePixelRatio;\r\n      var drawImage = CanvasRenderingContext2D.prototype.drawImage;\r\n      CanvasRenderingContext2D.prototype.drawImage = function (image, sx, sy, sw, sh, dx, dy, dw, dh) {\r\n        if ((\"nodeName\" in image) && /img/i.test(image.nodeName)) {\r\n          for (var i = arguments.length - 1; i >= 1; i--) {\r\n            arguments[i] = arguments[i] * factor;\r\n          }\r\n        } else if (typeof dw == \"undefined\") {\r\n          arguments[1] *= factor;\r\n          arguments[2] *= factor;\r\n          arguments[3] *= factor;\r\n          arguments[4] *= factor;\r\n        }\r\n\r\n        drawImage.apply(this, arguments);\r\n      };\r\n    }\r\n\r\n\t\t/**\r\n\t\t * Check whether the user's browser supports Data URI or not\r\n\t\t *\r\n\t\t * @private\r\n\t\t * @param {Function} fSuccess Occurs if it supports Data URI\r\n\t\t * @param {Function} fFail Occurs if it doesn't support Data URI\r\n\t\t */\r\n    function _safeSetDataURI(fSuccess, fFail) {\r\n      var self = this;\r\n      self._fFail = fFail;\r\n      self._fSuccess = fSuccess;\r\n\r\n      // Check it just once\r\n      if (self._bSupportDataURI === null) {\r\n        var el = document.createElement(\"img\");\r\n        var fOnError = function () {\r\n          self._bSupportDataURI = false;\r\n\r\n          if (self._fFail) {\r\n            self._fFail.call(self);\r\n          }\r\n        };\r\n        var fOnSuccess = function () {\r\n          self._bSupportDataURI = true;\r\n\r\n          if (self._fSuccess) {\r\n            self._fSuccess.call(self);\r\n          }\r\n        };\r\n\r\n        el.onabort = fOnError;\r\n        el.onerror = fOnError;\r\n        el.onload = fOnSuccess;\r\n        el.src = \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"; // the Image contains 1px data.\r\n        return;\r\n      } else if (self._bSupportDataURI === true && self._fSuccess) {\r\n        self._fSuccess.call(self);\r\n      } else if (self._bSupportDataURI === false && self._fFail) {\r\n        self._fFail.call(self);\r\n      }\r\n    };\r\n\r\n\t\t/**\r\n\t\t * Drawing QRCode by using canvas\r\n\t\t *\r\n\t\t * @constructor\r\n\t\t * @param {HTMLElement} el\r\n\t\t * @param {Object} htOption QRCode Options\r\n\t\t */\r\n    var Drawing = function (el, htOption) {\r\n      this._bIsPainted = false;\r\n      this._android = _getAndroid();\r\n\r\n      this._htOption = htOption;\r\n      this._elCanvas = document.createElement(\"canvas\");\r\n      this._elCanvas.width = htOption.width;\r\n      this._elCanvas.height = htOption.height;\r\n      el.appendChild(this._elCanvas);\r\n      this._el = el;\r\n      this._oContext = this._elCanvas.getContext(\"2d\");\r\n      this._bIsPainted = false;\r\n      this._elImage = document.createElement(\"img\");\r\n      this._elImage.alt = \"Scan me!\";\r\n      this._elImage.style.display = \"none\";\r\n      this._el.appendChild(this._elImage);\r\n      this._bSupportDataURI = null;\r\n    };\r\n\r\n\t\t/**\r\n\t\t * Draw the QRCode\r\n\t\t *\r\n\t\t * @param {QRCode} oQRCode\r\n\t\t */\r\n    Drawing.prototype.draw = function (oQRCode) {\r\n      var _elImage = this._elImage;\r\n      var _oContext = this._oContext;\r\n      var _htOption = this._htOption;\r\n\r\n      var nCount = oQRCode.getModuleCount();\r\n      var nWidth = _htOption.width / nCount;\r\n      var nHeight = _htOption.height / nCount;\r\n      var nRoundedWidth = Math.round(nWidth);\r\n      var nRoundedHeight = Math.round(nHeight);\r\n\r\n      _elImage.style.display = \"none\";\r\n      this.clear();\r\n\r\n      for (var row = 0; row < nCount; row++) {\r\n        for (var col = 0; col < nCount; col++) {\r\n          var bIsDark = oQRCode.isDark(row, col);\r\n          var nLeft = col * nWidth;\r\n          var nTop = row * nHeight;\r\n          _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\r\n          _oContext.lineWidth = 1;\r\n          _oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\r\n          _oContext.fillRect(nLeft, nTop, nWidth, nHeight);\r\n\r\n          //    \r\n          _oContext.strokeRect(\r\n            Math.floor(nLeft) + 0.5,\r\n            Math.floor(nTop) + 0.5,\r\n            nRoundedWidth,\r\n            nRoundedHeight\r\n          );\r\n\r\n          _oContext.strokeRect(\r\n            Math.ceil(nLeft) - 0.5,\r\n            Math.ceil(nTop) - 0.5,\r\n            nRoundedWidth,\r\n            nRoundedHeight\r\n          );\r\n        }\r\n      }\r\n\r\n      this._bIsPainted = true;\r\n    };\r\n\r\n\t\t/**\r\n\t\t * Make the image from Canvas if the browser supports Data URI.\r\n\t\t */\r\n    Drawing.prototype.makeImage = function () {\r\n      if (this._bIsPainted) {\r\n        _safeSetDataURI.call(this, _onMakeImage);\r\n      }\r\n    };\r\n\r\n\t\t/**\r\n\t\t * Return whether the QRCode is painted or not\r\n\t\t *\r\n\t\t * @return {Boolean}\r\n\t\t */\r\n    Drawing.prototype.isPainted = function () {\r\n      return this._bIsPainted;\r\n    };\r\n\r\n\t\t/**\r\n\t\t * Clear the QRCode\r\n\t\t */\r\n    Drawing.prototype.clear = function () {\r\n      this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);\r\n      this._bIsPainted = false;\r\n    };\r\n\r\n\t\t/**\r\n\t\t * @private\r\n\t\t * @param {Number} nNumber\r\n\t\t */\r\n    Drawing.prototype.round = function (nNumber) {\r\n      if (!nNumber) {\r\n        return nNumber;\r\n      }\r\n\r\n      return Math.floor(nNumber * 1000) / 1000;\r\n    };\r\n\r\n    return Drawing;\r\n  })();\r\n\r\n\t/**\r\n\t * Get the type by string length\r\n\t *\r\n\t * @private\r\n\t * @param {String} sText\r\n\t * @param {Number} nCorrectLevel\r\n\t * @return {Number} type\r\n\t */\r\n  function _getTypeNumber(sText, nCorrectLevel) {\r\n    var nType = 1;\r\n    var length = _getUTF8Length(sText);\r\n\r\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\r\n      var nLimit = 0;\r\n\r\n      switch (nCorrectLevel) {\r\n        case QRErrorCorrectLevel.L:\r\n          nLimit = QRCodeLimitLength[i][0];\r\n          break;\r\n        case QRErrorCorrectLevel.M:\r\n          nLimit = QRCodeLimitLength[i][1];\r\n          break;\r\n        case QRErrorCorrectLevel.Q:\r\n          nLimit = QRCodeLimitLength[i][2];\r\n          break;\r\n        case QRErrorCorrectLevel.H:\r\n          nLimit = QRCodeLimitLength[i][3];\r\n          break;\r\n      }\r\n\r\n      if (length <= nLimit) {\r\n        break;\r\n      } else {\r\n        nType++;\r\n      }\r\n    }\r\n\r\n    if (nType > QRCodeLimitLength.length) {\r\n      throw new Error(\"Too long data\");\r\n    }\r\n\r\n    return nType;\r\n  }\r\n\r\n  function _getUTF8Length(sText) {\r\n    var replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\r\n    return replacedText.length + (replacedText.length != sText ? 3 : 0);\r\n  }\r\n\r\n\t/**\r\n\t * @class QRCode\r\n\t * @constructor\r\n\t * @example\r\n\t * new QRCode(document.getElementById(\"test\"), \"http://jindo.dev.naver.com/collie\");\r\n\t *\r\n\t * @example\r\n\t * var oQRCode = new QRCode(\"test\", {\r\n\t *    text : \"http://naver.com\",\r\n\t *    width : 128,\r\n\t *    height : 128\r\n\t * });\r\n\t *\r\n\t * oQRCode.clear(); // Clear the QRCode.\r\n\t * oQRCode.makeCode(\"http://map.naver.com\"); // Re-create the QRCode.\r\n\t *\r\n\t * @param {HTMLElement|String} el target element or 'id' attribute of element.\r\n\t * @param {Object|String} vOption\r\n\t * @param {String} vOption.text QRCode link data\r\n\t * @param {Number} [vOption.width=256]\r\n\t * @param {Number} [vOption.height=256]\r\n\t * @param {String} [vOption.colorDark=\"#000000\"]\r\n\t * @param {String} [vOption.colorLight=\"#ffffff\"]\r\n\t * @param {QRCode.CorrectLevel} [vOption.correctLevel=QRCode.CorrectLevel.H] [L|M|Q|H]\r\n\t */\r\n  QRCode = function (el, vOption) {\r\n    this._htOption = {\r\n      width: 256,\r\n      height: 256,\r\n      typeNumber: 4,\r\n      colorDark: \"#000000\",\r\n      colorLight: \"#ffffff\",\r\n      correctLevel: QRErrorCorrectLevel.H\r\n    };\r\n\r\n    if (typeof vOption === 'string') {\r\n      vOption = {\r\n        text: vOption\r\n      };\r\n    }\r\n\r\n    // Overwrites options\r\n    if (vOption) {\r\n      for (var i in vOption) {\r\n        this._htOption[i] = vOption[i];\r\n      }\r\n    }\r\n\r\n    if (typeof el == \"string\") {\r\n      el = document.getElementById(el);\r\n    }\r\n\r\n    if (this._htOption.useSVG) {\r\n      Drawing = svgDrawer;\r\n    }\r\n\r\n    this._android = _getAndroid();\r\n    this._el = el;\r\n    this._oQRCode = null;\r\n    this._oDrawing = new Drawing(this._el, this._htOption);\r\n\r\n    if (this._htOption.text) {\r\n      this.makeCode(this._htOption.text);\r\n    }\r\n  };\r\n\r\n\t/**\r\n\t * Make the QRCode\r\n\t *\r\n\t * @param {String} sText link data\r\n\t */\r\n  QRCode.prototype.makeCode = function (sText) {\r\n    this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);\r\n    this._oQRCode.addData(sText);\r\n    this._oQRCode.make();\r\n    this._el.title = sText;\r\n    this._oDrawing.draw(this._oQRCode);\r\n    this.makeImage();\r\n  };\r\n\r\n\t/**\r\n\t * Make the Image from Canvas element\r\n\t * - It occurs automatically\r\n\t * - Android below 3 doesn't support Data-URI spec.\r\n\t *\r\n\t * @private\r\n\t */\r\n  QRCode.prototype.makeImage = function () {\r\n    if (typeof this._oDrawing.makeImage == \"function\" && (!this._android || this._android >= 3)) {\r\n      this._oDrawing.makeImage();\r\n    }\r\n  };\r\n\r\n\t/**\r\n\t * Clear the QRCode\r\n\t */\r\n  QRCode.prototype.clear = function () {\r\n    this._oDrawing.clear();\r\n  };\r\n\r\n\t/**\r\n\t * @name QRCode.CorrectLevel\r\n\t */\r\n  QRCode.CorrectLevel = QRErrorCorrectLevel;\r\n})();\r\n\r\n/*qr code end*/\r\n\r\nexport function showQRDialog(resUrl, id) {\r\n  var div = document.querySelector('#qrcode');\r\n  if (id) {\r\n    div = document.querySelector('#' + id);\r\n  }\r\n  var qrcode = new QRCode(div);\r\n  qrcode.makeCode(resUrl);\r\n}\r\n\r\n\r\nexport function saveUserSec(secret, key) {\r\n  let random = new Date().getTime();\r\n  let sk = getCurrentHost() + random;\r\n  var ciphertext = AES.encrypt(secret, sk);\r\n  ciphertext = ciphertext.toString();\r\n  //\r\n  window.localStorage.setItem('userSec', ciphertext);\r\n  window.localStorage.setItem('random', random);\r\n}\r\n\r\nexport function loadLocalAccount(key) {\r\n  let secret = window.sessionStorage.getItem(\"userSec\");\r\n  if (!secret) {\r\n    secret = window.localStorage.getItem(\"userSec\");\r\n  }\r\n  if (!secret)\r\n    return null;\r\n  let random = window.localStorage.getItem(\"random\");\r\n  let sk = getCurrentHost() + random;\r\n  var ciphertext = AES.decrypt(secret, sk);\r\n  ciphertext = ciphertext.toString();\r\n  let clear = new Buffer(ciphertext, 'hex').toString();\r\n  let act = createPeerId(clear);\r\n  act.secret = clear;\r\n  return act;\r\n}\r\n\r\nexport function getTransactionName(code) {\r\n  var types = new Map();\r\n  types.set(\"20-0\", \"\")\r\n  types.set(\"9-0\", \"\")\r\n  types.set(\"10-0\", \"\")\r\n  types.set(\"8-0\", \"\")\r\n  types.set(\"8-4\", \"\")\r\n  types.set(\"0-0\", \"\")\r\n  types.set(\"60-0\", \"\")\r\n  types.set(\"60-1\", \"\")\r\n  types.set(\"60-2\", \"\")\r\n  types.set(\"60-3\", \"\")\r\n  types.set(\"60-3-2\", \"\")\r\n  types.set(\"60-3-3\", \"\")\r\n  types.set(\"60-3-4\", \"\")\r\n  types.set(\"60-3-20\", \"8\")\r\n  types.set(\"60-3-21\", \"\")\r\n  types.set(\"60-4\", \"\")\r\n  types.set(\"60-4-30\", \"\")\r\n  types.set(\"60-5\", \"\")\r\n  types.set(\"60-6\", \"\")\r\n  types.set(\"60-6-1\", \"\")\r\n  types.set(\"60-6-2\", \"\")\r\n  types.set(\"60-6-3\", \"\")\r\n  types.set(\"60-6-4\", \"\")\r\n  types.set(\"60-6-22\", \"\")\r\n  types.set(\"60-7\", \"\")\r\n  types.set(\"60-7-1\", \"\")\r\n  types.set(\"60-7-2\", \"\")\r\n  types.set(\"60-7-3\", \"\")\r\n  types.set(\"60-8\", \"\")\r\n  types.set(\"60-8-40\", \"\")\r\n  types.set(\"60-8-50\", \"\")\r\n  types.set(\"80-0\", \"\")\r\n  types.set(\"80-1\", \"\")\r\n  types.set(\"80-1-80\", \"\")\r\n  let n = types.get(code)\r\n  if (!n) {\r\n    n = code;\r\n  }\r\n  return n;\r\n}\r\n\r\nexport function getMobileOperatingSystem() {\r\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\r\n\r\n  // Windows Phone must come first because its UA also contains \"Android\"\r\n  if (/windows phone/i.test(userAgent)) {\r\n    return \"Windows Phone\";\r\n  }\r\n\r\n  if (/android/i.test(userAgent)) {\r\n    return \"Android\";\r\n  }\r\n\r\n  // iOS detection from: http://stackoverflow.com/a/9039885/177710\r\n  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\r\n    return \"iOS\";\r\n  }\r\n\r\n  return \"unknown\";\r\n}\r\n\r\nexport function verifySignature(signatureHex, messageHex, publicKeyHex) {\r\n  return GGV.verifySignature(signatureHex, messageHex, publicKeyHex);\r\n}\r\n\r\nexport function verifyServerData(dataString, signatureHex) {\r\n  let pkHex = 'ad8aafcaa37613b64a634aee8df220d01e083843c23d1f93886e9e20554caa59'\r\n  var dataHex = converters.stringToHexString(dataString);\r\n  return verifySignature(signatureHex, dataHex, pkHex);\r\n}\r\n\r\n// module.exports = {\r\n//   hexStringToString, stringToHexString, getShareHost, getFileHost, createPeerId,\r\n//   loadAccountInfo, calcAccountId, shareResource, startPlayer, Url,\r\n//   showQRDialog, postSafe, submitShopTransaction, saveUserSec, loadLocalAccount, getTransactionName,\r\n//   getShareKey, simpleHash, sign, signString, getPublicKey, getCurrentHost, getMobileOperatingSystem, verifySignature, verifyServerData\r\n// };\r\n","import React, { Component } from 'react';\r\nimport { Popover, PopoverBody, PopoverHeader } from 'reactstrap';\r\n\r\nclass PopHint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      popoverOpen: false\r\n    };\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      popoverOpen: !this.state.popoverOpen,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let id = 'ph-' + this.props.id;\r\n    let title = this.props.title;\r\n    if (!title)\r\n      title = this.props.text;\r\n    return (\r\n      <span>\r\n        <span className='alert-primary  fade show' id={id} onClick={this.toggle}>\r\n          {this.props.text}\r\n        </span>\r\n        <Popover placement='top' isOpen={this.state.popoverOpen} target={id} toggle={this.toggle}>\r\n          <PopoverHeader>{title}</PopoverHeader>\r\n          <PopoverBody>{this.props.content}</PopoverBody>\r\n        </Popover>\r\n      </span>\r\n    );\r\n  }\r\n}\r\nexport default PopHint;","import React, { Component } from 'react';\r\nimport { Button, Alert, CardBody, CardHeader, Popover, PopoverBody, PopoverHeader } from 'reactstrap';\r\nimport { loadBlockInfo, loadBlockTransaction } from '../../eshop/eshop.js'\r\nimport classnames from 'classnames';\r\nimport { Nav, NavItem, NavLink, Table, Badge, Label } from 'reactstrap'\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Pagination, PaginationItem, PaginationLink, } from 'reactstrap'\r\nimport AccountDialog from '../AccountDialog/AccountDialog.js';\r\nimport TransactionType from '../../conponents/TransactionType/TransactionType'\r\n\r\nclass BlockDialog extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = ({ blockInfo: null, danger: false, transPage: 1 })\r\n  }\r\n\r\n  toggleDanger() {\r\n    if (!this.state.danger) {\r\n      setTimeout((() => {\r\n        this.loadBlockInfo(this.props.height);\r\n      }).bind(this), 1000);\r\n    }\r\n    this.setState({\r\n      danger: !this.state.danger,\r\n    });\r\n  }\r\n\r\n  loadBlockInfo(height) {\r\n    loadBlockInfo(height, ((ok, blockInfo) => {\r\n      if (ok && blockInfo)\r\n        this.setState({ blockInfo })\r\n    }).bind(this))\r\n  }\r\n\r\n  renderBlockTransactions() {\r\n    if (this.state.blockInfo.transactions) {\r\n      return (<Table hover bordered striped responsive size=\"sm\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th></th>\r\n            <th></th>\r\n            <th></th>\r\n            <th></th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.renderTransactionItem()}\r\n        </tbody>\r\n      </Table>)\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  renderTransactionItem() {\r\n    let content = this.state.blockInfo.transactions.map((res) => {\r\n      return (<tr>\r\n        <td>< TransactionType type={(res.type)} id={res.id} /></td>\r\n        <td><AccountDialog rsId={res.from} /></td>\r\n        <td><AccountDialog rsId={res.to} /></td>\r\n        <td>{res.amount} </td>\r\n        <td>{res.fee} </td>\r\n        <td>{res.height}</td>\r\n      </tr>)\r\n    });\r\n\r\n    return content;\r\n  }\r\n\r\n  loadBlockTransaction() {\r\n    loadBlockTransaction(this.state.blockInfo.block.height, this.state.transPage, 10, ((ok, trans) => {\r\n      if (ok && trans) {\r\n        this.state.blockInfo.transactions = trans;\r\n        this.setState({ blockInfo: this.state.blockInfo })\r\n      }\r\n    }).bind(this))\r\n  }\r\n\r\n  preTransPage() {\r\n    if (this.state.transPage > 1) {\r\n      this.state.transPage--\r\n    }\r\n    this.loadBlockTransaction();\r\n  }\r\n\r\n  nextTransPage() {\r\n    this.state.transPage++\r\n    this.loadBlockTransaction();\r\n  }\r\n\r\n  rederBlockInfoDialog() {\r\n    if (!this.state.blockInfo)\r\n      return null;\r\n    return (<Modal isOpen={this.state.danger} toggle={this.toggleDanger.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleDanger.bind(this)}></ModalHeader>\r\n      <ModalBody>\r\n        <p>ID:{this.state.blockInfo.block.id}</p>\r\n        <p>:<AccountDialog rsId={this.state.blockInfo.block.generatorId} /></p>\r\n        <p>:{this.state.blockInfo.block.signature}</p>\r\n        <p>:{this.state.blockInfo.block.height}</p>\r\n        <p>:{this.state.blockInfo.block.count}</p>\r\n        <p>:</p>\r\n        {this.renderBlockTransactions()}\r\n        <Pagination>\r\n          <PaginationItem><PaginationLink previous tag=\"button\" onClick={(e) => { this.preTransPage() }}>-</PaginationLink></PaginationItem>\r\n          <PaginationItem active>\r\n            <PaginationLink tag=\"button\">{this.state.transPage}</PaginationLink>\r\n          </PaginationItem>\r\n          <PaginationItem><PaginationLink next tag=\"button\" onClick={(e) => { this.nextTransPage() }}>+</PaginationLink></PaginationItem>\r\n        </Pagination>\r\n      </ModalBody>\r\n      <Alert color=\"danger\"><small></small></Alert>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleDanger.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  render() {\r\n    let id = 'bd-' + this.props.id;\r\n    return (<span>\r\n      <span className='alert-primary  fade show' id={id} onClick={this.toggleDanger.bind(this)}>\r\n        {this.props.height}\r\n      </span>\r\n      {this.rederBlockInfoDialog()}\r\n    </span>)\r\n  }\r\n}\r\n\r\nexport default BlockDialog;","const DEBUGING = true;\r\nmodule.exports = DEBUGING","const { postSafe, submitShopTransaction, getShareHost, getShareKey, createPeerId,calcAccountId } = require('../ggv/js/gegeUtil')\r\nvar AES = require(\"crypto-js/aes\");\r\nvar CryptoJS = require(\"crypto-js\");\r\nconst bencode = require('bencode');\r\nconst { sync } = require('./sha256');\r\n\r\nfunction loadProductList(cb, page, filterIdx, accountId, query) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'list', page: page, size: 10, query: query ? query : '', index: filterIdx, accountId: accountId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadProduct(cb, query) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'product', query: query }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction doExchange(request, amount, operation, exway, cb, recipient) {\r\n    let url = \"https://www.btbresource.com:19099/bshop\"\r\n    //url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'exchange', amount: amount, op: operation, exway: exway, recipient: recipient, request: request }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction doMessage(data, cb) {\r\n    //let url = \"http://www.btbresource.com:19099/bshop?action=message\"\r\n    let url = getShareHost() + \"/bshop?action=message\"\r\n    postSafe(url, data, cb, true)\r\n}\r\n\r\nfunction loadAccountInfo(rsId, page, size, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'account', page: page, size: 10, rsIdOrPkHex: rsId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadBarCodeText(cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'barcode', type: 'help' }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadEncryptedInfo(product, rsId, cb) {\r\n    //let url = \"http://www.btbresource.com:19099/bshop\"\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'listEncrypted', transactionId: product.transactionId, rsId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadProductDetails(product, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'detail', transactionId: product.transactionId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\n\r\nfunction loadIssueTransactions(product, page, size, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'listIssues', page: page, size: size, transactionId: product.transactionId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadTransactionInfo(transactionId, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'transactionInfo', transactionId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadBlockInfo(height, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'blockInfo', height: height }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadBlockTransaction(height, page, size, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'listBlockTransactions', height: height, page: page, size: size }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadAccountTransactions(rsId, page, size, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'accountTransactions', page: page, size: size, accountId: rsId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadAutoTransactions(rsId, page, size, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'listAutos', page: page, size: size, accountId: rsId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction loadJoinTransactions(product, page, size, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    let data = { action: 'listJoins', page: page, size: size, transactionId: product.transactionId }\r\n    postSafe(url, data, cb)\r\n}\r\n\r\nfunction bshopCall(data, cb) {\r\n    let url = getShareHost() + \"/bshop\"\r\n    postSafe(url, data, cb)\r\n}\r\n\r\n\r\nfunction purchaseResource(id, userSec, fee, deadline, showPurchaseStatus, pk) {\r\n    var aid = createPeerId(userSec).aid;\r\n    var data = { action: 'transaction', type: 'buyres', resId: id, accountId: aid, fee: fee + '', deadline: deadline + '', pk }\r\n    doBShopTransaction(userSec, data, (ok, msg) => {\r\n        if (ok && msg && msg.ok) {\r\n            showPurchaseStatus(true, '')\r\n        } else {\r\n            showPurchaseStatus(false)\r\n        }\r\n    }, '')\r\n  }\r\n\r\nfunction doBShopTransaction(secret, data, cb,parameters) {\r\n    let pk = createPeerId(secret).pk;\r\n    data.pk = pk;\r\n    let url = getShareHost() + \"/bshop\"\r\n    postSafe(url, data, (ok, res) => {\r\n        if (ok && res.ok) {\r\n            submitShopTransaction(url, secret, res, cb,parameters)\r\n        } else {\r\n            cb(false, res)\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\nfunction getProductNextStep(status) {\r\n    if (0 == status) {\r\n        return \"\"\r\n    }\r\n    if (1 == status) {\r\n        return \"\"\r\n    }\r\n    if (2 == status) {\r\n        return \"\"\r\n    }\r\n    if (3 == status) {\r\n        return \"\"\r\n    }\r\n    if (4 == status) {\r\n        return \"\"\r\n    }\r\n    if (5 == status) {\r\n        return \"\"\r\n    }\r\n    if (6 == status) {\r\n        return \"\"\r\n    }\r\n    if (10 == status) {\r\n        return \"\"\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\nfunction getProductStatus(status) {\r\n    if (0 == status) {\r\n        return \"\"\r\n    }\r\n    if (1 == status) {\r\n        return \"\"\r\n    }\r\n    if (2 == status) {\r\n        return \"\"\r\n    }\r\n    if (3 == status) {\r\n        return \"\"\r\n    }\r\n    if (4 == status) {\r\n        return \"\"\r\n    }\r\n    if (5 == status) {\r\n        return \"\"\r\n    }\r\n    if (6 == status) {\r\n        return \"8\"\r\n    }\r\n    if (7 == status) {\r\n        return \"\"\r\n    }\r\n    if (8 == status) {\r\n        return \"\"\r\n    }\r\n    if (9 == status) {\r\n        return \"\"\r\n    }\r\n    if (10 == status) {\r\n        return \"\"\r\n    }\r\n    if (11 == status) {\r\n        return \"\"\r\n    }\r\n    if (100 == status) {\r\n        return \"\"\r\n    }\r\n    if (20 == status) {\r\n        return \"\"\r\n    }\r\n    if (99 == status) {\r\n        return \"\"\r\n    }\r\n    if (50 == status) {\r\n        return \"\"\r\n    }\r\n    return '';\r\n}\r\n\r\nfunction shareEncrypt(secret, pkHex, nonce, data) {\r\n    let sk = getShareKey(secret, pkHex, nonce);\r\n    sk = new Buffer(sk).toString();\r\n    var ciphertext = AES.encrypt(data, sk);\r\n    ciphertext = ciphertext.toString();\r\n    return ciphertext;\r\n}\r\n\r\n\r\nfunction shareDecrypt(secret, pkHex, nonce, block) {\r\n    let sk = getShareKey(secret, pkHex, nonce);\r\n    sk = new Buffer(sk).toString();\r\n    var ciphertext = AES.decrypt(block, sk);\r\n    ciphertext = ciphertext.toString();\r\n    let clear = new Buffer(ciphertext, 'hex').toString();\r\n    return clear;\r\n}\r\n\r\nfunction getIssueReason(reason) {\r\n    let res;\r\n\r\n    if (1 == reason) {\r\n        res = ''\r\n    } else if (2 == reason) {\r\n        res = ''\r\n    } else if (0 == reason) {\r\n        res = ''\r\n    } else {\r\n        res = ''\r\n    }\r\n    return res\r\n}\r\n\r\nfunction getExchangeStatus(status) {\r\n    let res;\r\n    if (0 == status) {\r\n        res = ''\r\n    } else if (1 == status) {\r\n        res = ''\r\n    } else if (2 == status) {\r\n        res = ''\r\n    } else {\r\n        res = status\r\n    }\r\n    return res\r\n}\r\n\r\nfunction getPieceLength(bytes, p) {\r\n    bytes /= 1024\r\n    for (p = 20; 13 < p && bytes < 2 << p; p--);\r\n    return 2 << p + (bytes >= ((2 << p) + (2 << p + 1)) / 2)\r\n}\r\n\r\nfunction getTorrentHash(data) {\r\n    const chunkSize = getPieceLength(data.length) * 2\r\n    let pieces = []\r\n    var buffer = new Buffer(data);\r\n    let i = 0;\r\n    //\r\n    let start = chunkSize * i;\r\n    let end = chunkSize * (i + 1);\r\n    while (start < buffer.length) {\r\n        if (end > buffer.length)\r\n            end = buffer.length;\r\n        let chunk = buffer.slice(start, end);\r\n        pieces[i] = sync(chunk)\r\n        i++;\r\n        start = chunkSize * i;\r\n        end = chunkSize * (i + 1);\r\n    }\r\n    let bf = Buffer.from(pieces.join(''), 'hex')\r\n    var _info = { length: buffer.length, pieces: bf, 'piece length': chunkSize }\r\n    var infoBuffer = bencode.encode(_info)\r\n    var infoHash = sync(infoBuffer)\r\n    return infoHash\r\n}\r\n\r\nmodule.exports = {\r\n    loadProductList, loadProduct, doBShopTransaction, getProductStatus, getProductNextStep, loadProductDetails,\r\n    loadJoinTransactions, shareEncrypt, shareDecrypt, loadAccountTransactions, loadAutoTransactions,\r\n    loadIssueTransactions, loadBlockInfo, loadBarCodeText, loadEncryptedInfo, getIssueReason, loadAccountInfo,\r\n    loadBlockTransaction, doExchange, getExchangeStatus, bshopCall, doMessage, getTorrentHash, loadTransactionInfo,\r\n    purchaseResource\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Modal, ModalBody, Alert, ModalHeader, Button, FormGroup, Input, InputGroup, ModalFooter } from 'reactstrap'\r\nimport BtbSecret from '../BtbSecret/BtbSecret'\r\nimport { loadLocalAccount, simpleHash, calcAccountId, signString } from '../../ggv/js/gegeUtil'\r\nimport { Collapse, CardBody, Card, CardHeader, Label, InputGroupAddon, InputGroupText } from 'reactstrap'\r\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle, Table, PaginationItem, PaginationLink, Pagination } from 'reactstrap'\r\nimport { doMessage, shareEncrypt } from '../../eshop/eshop'\r\nimport DepositDialog from '../DepositDialog/DepositDialog'\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\n\r\nclass MessageDialog extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { sending: false }\r\n        this.secret = null;\r\n        this.toRsId = props.to\r\n        this.toPk = props.toPk;\r\n        this.modules = {\r\n            toolbar: [\r\n                [{ 'header': '1' }, { 'header': '2' }, { 'font': [] }],\r\n                [{ size: [] }], [{ align: [] }, 'direction'],\r\n                ['bold', 'italic', 'underline', 'strike', 'blockquote', 'code-block'],\r\n                [{ color: [] }, { background: [] }],\r\n                [{ 'list': 'ordered' }, { 'list': 'bullet' },\r\n                { 'indent': '-1' }, { 'indent': '+1' }],\r\n                ['link', 'image'],\r\n                ['clean']\r\n            ],\r\n            clipboard: {\r\n                // toggle to add extra line breaks when pasting HTML:\r\n                matchVisual: false,\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = loadLocalAccount();\r\n        if (account && account.secret) {\r\n            this.secret = account.secret;\r\n            this.account = account;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <Button color=\"danger\" size='sm' onClick={this.toggleSending.bind(this)}></Button>\r\n            {this.renderMsgDialog()}\r\n        </div>\r\n        )\r\n    }\r\n\r\n    doSending() {\r\n        if (!this.account) {\r\n            this.setState({ dialogMsg: \"(login)\" })\r\n            return;\r\n        }\r\n        let data = {\r\n            from: this.account.rsId, to: this.toRsId, messageBlock: this.state.messageBlock,sig:this.state.sig,\r\n            nonce: this.state.nonce, time: this.state.time, type: 'new'\r\n        };\r\n        doMessage(data, (ok, data) => {\r\n            if (ok) {\r\n                this.setState({ dialogMsg: data.ok ? \"Success() \" : \"err()\" })\r\n            }\r\n        })\r\n    }\r\n\r\n    toggleSending() {\r\n        this.setState({\r\n            sending: !this.state.sending, dialogMsg: ''\r\n        });\r\n    }\r\n\r\n    updateTracking(message) {\r\n        //get winner pk\r\n        let time = new Date().getTime();\r\n        let nonce = simpleHash(message + ' ' + time);\r\n        let pk = this.toPk;\r\n        let messageBlock = shareEncrypt(this.secret, pk, nonce, message);\r\n        let sig = signString(this.secret,message)\r\n        this.setState({ messageBlock: messageBlock, nonce: nonce, time, sig });\r\n    }\r\n\r\n    renderdialogMsg() {\r\n        if (this.state.renderDesposit) {\r\n            return (<div>\r\n                <Label>{this.state.dialogMsg}</Label>\r\n                <DepositDialog />\r\n            </div>)\r\n        } else\r\n            if (this.state.dialogMsg) {\r\n                return (<Label>{this.state.dialogMsg}</Label>)\r\n            }\r\n        return null;\r\n    }\r\n\r\n    onSecret(sec) {\r\n        if (sec) {\r\n            this.secret = sec\r\n            let rsId = calcAccountId(this.userSec);\r\n            this.setState({ rsId: rsId })\r\n        }\r\n    }\r\n\r\n    updateRecipient(e) {\r\n\r\n    }\r\n\r\n    renderMsgDialog() {\r\n        return (<Modal isOpen={this.state.sending} toggle={this.toggleSending.bind(this)}\r\n            className={'modal-info ' + this.props.className}>\r\n            <ModalHeader toggle={this.toggleSending.bind(this)}></ModalHeader>\r\n            <ModalBody>\r\n                <FormGroup>\r\n                    <div className=\"controls\">\r\n                        <InputGroup>\r\n                            <BtbSecret onSecret={this.onSecret.bind(this)} />\r\n                        </InputGroup>\r\n                    </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <div className=\"controls\">\r\n                        <InputGroup className=\"input-prepend\">\r\n                            <InputGroupAddon addonType=\"prepend\">\r\n                                <InputGroupText>):</InputGroupText>\r\n                            </InputGroupAddon>\r\n                            <Input id=\"prependedInput2\" size=\"16\" type=\"text\" value={this.toRsId} />\r\n                        </InputGroup>\r\n                        <InputGroup className=\"input-prepend\">\r\n                            <ReactQuill\r\n                                placeholder='Edit()'\r\n                                modules={this.modules}\r\n                                onChange={this.updateTracking.bind(this)} />\r\n                        </InputGroup>\r\n                        <InputGroup className=\"input-prepend\">\r\n                            <InputGroupAddon addonType=\"prepend\">\r\n                                <InputGroupText>:</InputGroupText>\r\n                            </InputGroupAddon>\r\n                            <Input type=\"textarea\" name=\"textarea-input\" id=\"textarea-input\" rows=\"3\" value={this.state.messageBlock} />\r\n                            <Alert color=\"danger\"><small>0</small></Alert>\r\n                        </InputGroup>\r\n                    </div>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    {this.renderdialogMsg()}\r\n                </FormGroup>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button color=\"danger\" onClick={this.toggleSending.bind(this)}></Button>\r\n                <Button color=\"danger\" hidden={this.state.success} onClick={this.doSending.bind(this)}></Button>\r\n            </ModalFooter>\r\n        </Modal>)\r\n    }\r\n\r\n\r\n}\r\nexport default MessageDialog;","module.exports = __webpack_public_path__ + \"static/media/logo.743e30dd.svg\";","module.exports = __webpack_public_path__ + \"static/media/sygnet.dba7f081.svg\";","export default {\r\n  items: [\r\n    // {\r\n    //   name: '',\r\n    //   url: '/dashboard',\r\n    //   icon: 'icon-speedometer',\r\n    // },\r\n    // {\r\n    //   name: '',\r\n    //   url: '/bshop/product-list',\r\n    //   icon: 'icon-people',\r\n    // },\r\n    {\r\n      name: '',\r\n      url: '/btb/resource-list',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: '',\r\n      url: '/news/list',\r\n      icon: 'icon-share',\r\n    },\r\n    {\r\n      name: '',\r\n      url: '/block/list',\r\n      icon: 'icon-drawer',\r\n    },\r\n    {\r\n      name: '',\r\n      url: '/account/list',\r\n      icon: 'icon-people',\r\n    },\r\n    // {\r\n    //   name: '',\r\n    //   url: '/message',\r\n    //   icon: 'icon-speech',\r\n    // },\r\n    {\r\n      name: '',\r\n      url: '/unconfirmed',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: '',\r\n      url: '/resource/share',\r\n      icon: 'icon-share',\r\n    },\r\n    {\r\n      name: '',\r\n      url: '/miner',\r\n      icon: 'icon-share',\r\n    },\r\n    /*\r\n       {\r\n  name: 'News(',\r\n  url: '/news/list',\r\n  icon: 'icon-puzzle',\r\n},\r\n{\r\n  title: true,\r\n  name: 'Theme',\r\n  wrapper: {            // optional wrapper object\r\n    element: '',        // required valid HTML5 element tag\r\n    attributes: {}        // optional valid JS object with JS API naming ex: { className: \"my-class\", style: { fontFamily: \"Verdana\" }, id: \"my-id\"}\r\n  },\r\n  class: ''             // optional class names space delimited list for title item ex: \"text-center\"\r\n},\r\n{\r\n  name: 'Colors',\r\n  url: '/theme/colors',\r\n  icon: 'icon-drop',\r\n},\r\n{\r\n  name: 'Typography',\r\n  url: '/theme/typography',\r\n  icon: 'icon-pencil',\r\n},\r\n{\r\n  title: true,\r\n  name: 'Components',\r\n  wrapper: {\r\n    element: '',\r\n    attributes: {},\r\n  },\r\n},\r\n{\r\n  name: 'Base',\r\n  url: '/base',\r\n  icon: 'icon-puzzle',\r\n  children: [\r\n    {\r\n      name: 'Breadcrumbs',\r\n      url: '/base/breadcrumbs',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Cards',\r\n      url: '/base/cards',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Carousels',\r\n      url: '/base/carousels',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Collapses',\r\n      url: '/base/collapses',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Dropdowns',\r\n      url: '/base/dropdowns',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Forms',\r\n      url: '/base/forms',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Jumbotrons',\r\n      url: '/base/jumbotrons',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'List groups',\r\n      url: '/base/list-groups',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Navs',\r\n      url: '/base/navs',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Paginations',\r\n      url: '/base/paginations',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Popovers',\r\n      url: '/base/popovers',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Progress Bar',\r\n      url: '/base/progress-bar',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Switches',\r\n      url: '/base/switches',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Tables',\r\n      url: '/base/tables',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Tabs',\r\n      url: '/base/tabs',\r\n      icon: 'icon-puzzle',\r\n    },\r\n    {\r\n      name: 'Tooltips',\r\n      url: '/base/tooltips',\r\n      icon: 'icon-puzzle',\r\n    },\r\n  ],\r\n},\r\n{\r\n  name: 'Buttons',\r\n  url: '/buttons',\r\n  icon: 'icon-cursor',\r\n  children: [\r\n    {\r\n      name: 'Buttons',\r\n      url: '/buttons/buttons',\r\n      icon: 'icon-cursor',\r\n    },\r\n    {\r\n      name: 'Button dropdowns',\r\n      url: '/buttons/button-dropdowns',\r\n      icon: 'icon-cursor',\r\n    },\r\n    {\r\n      name: 'Button groups',\r\n      url: '/buttons/button-groups',\r\n      icon: 'icon-cursor',\r\n    },\r\n    {\r\n      name: 'Brand Buttons',\r\n      url: '/buttons/brand-buttons',\r\n      icon: 'icon-cursor',\r\n    },\r\n  ],\r\n},\r\n{\r\n  name: 'Charts',\r\n  url: '/charts',\r\n  icon: 'icon-pie-chart',\r\n},\r\n{\r\n  name: 'Icons',\r\n  url: '/icons',\r\n  icon: 'icon-star',\r\n  children: [\r\n    {\r\n      name: 'CoreUI Icons',\r\n      url: '/icons/coreui-icons',\r\n      icon: 'icon-star',\r\n      badge: {\r\n        variant: 'info',\r\n        text: 'NEW',\r\n      },\r\n    },\r\n    {\r\n      name: 'Flags',\r\n      url: '/icons/flags',\r\n      icon: 'icon-star',\r\n    },\r\n    {\r\n      name: 'Font Awesome',\r\n      url: '/icons/font-awesome',\r\n      icon: 'icon-star',\r\n      badge: {\r\n        variant: 'secondary',\r\n        text: '4.7',\r\n      },\r\n    },\r\n    {\r\n      name: 'Simple Line Icons',\r\n      url: '/icons/simple-line-icons',\r\n      icon: 'icon-star',\r\n    },\r\n  ],\r\n},\r\n{\r\n  name: 'Notifications',\r\n  url: '/notifications',\r\n  icon: 'icon-bell',\r\n  children: [\r\n    {\r\n      name: 'Alerts',\r\n      url: '/notifications/alerts',\r\n      icon: 'icon-bell',\r\n    },\r\n    {\r\n      name: 'Badges',\r\n      url: '/notifications/badges',\r\n      icon: 'icon-bell',\r\n    },\r\n    {\r\n      name: 'Modals',\r\n      url: '/notifications/modals',\r\n      icon: 'icon-bell',\r\n    },\r\n  ],\r\n},\r\n{\r\n  name: 'Widgets',\r\n  url: '/widgets',\r\n  icon: 'icon-calculator',\r\n  badge: {\r\n    variant: 'info',\r\n    text: 'NEW',\r\n  },\r\n},\r\n{\r\n  divider: true,\r\n},\r\n{\r\n  title: true,\r\n  name: 'Extras',\r\n},\r\n{\r\n  name: 'Pages',\r\n  url: '/pages',\r\n  icon: 'icon-star',\r\n  children: [\r\n    {\r\n      name: 'Login',\r\n      url: '/login',\r\n      icon: 'icon-star',\r\n    },\r\n    {\r\n      name: 'Register',\r\n      url: '/register',\r\n      icon: 'icon-star',\r\n    },\r\n    {\r\n      name: 'Error 404',\r\n      url: '/404',\r\n      icon: 'icon-star',\r\n    },\r\n    {\r\n      name: 'Error 500',\r\n      url: '/500',\r\n      icon: 'icon-star',\r\n    },\r\n  ],\r\n},\r\n{\r\n  name: 'Download CoreUI',\r\n  url: 'http://coreui.io/react/',\r\n  icon: 'icon-cloud-download',\r\n  class: 'mt-auto',\r\n  variant: 'success',\r\n},\r\n{\r\n  name: 'Try CoreUI PRO',\r\n  url: 'http://coreui.io/pro/react/',\r\n  icon: 'icon-layers',\r\n  variant: 'danger',\r\n},\r\n*/\r\n  ],\r\n};\r\n","import React from 'react';\r\nimport Loadable from 'react-loadable'\r\n\r\nimport DefaultLayout from './containers/DefaultLayout';\r\n\r\nfunction Loading() {\r\n  return <div>--...</div>;\r\n}\r\nconst ProductList = Loadable({\r\n  loader: () => import('./views/eshop/ProductList'),\r\n  loading: Loading,\r\n});\r\nconst BlockList = Loadable({\r\n  loader: () => import('./views/ggv/BlockList'),\r\n  loading: Loading,\r\n});\r\nconst ResourceList = Loadable({\r\n  loader: () => import('./views/ggv/ResourceList'),\r\n  loading: Loading,\r\n});\r\nconst NewsList = Loadable({\r\n  loader: () => import('./views/ggv/NewsList'),\r\n  loading: Loading,\r\n});\r\nconst NewsWeb = Loadable({\r\n  loader: () => import('./views/ggv/NewsWeb'),\r\n  loading: Loading,\r\n});\r\nconst HongbaoWeb = Loadable({\r\n  loader: () => import('./views/ggv/HongbaoWeb'),\r\n  loading: Loading,\r\n});\r\nconst AccountList = Loadable({\r\n  loader: () => import('./views/ggv/AccountList'),\r\n  loading: Loading,\r\n});\r\nconst NewsEditor = Loadable({\r\n  loader: () => import('./views/ggv/NewsEditor'),\r\n  loading: Loading,\r\n});\r\nconst FileTransfer = Loadable({\r\n  loader: () => import('./views/ggv/FileTransfer'),\r\n  loading: Loading,\r\n});\r\nconst ResourceShare = Loadable({\r\n  loader: () => import('./views/ggv/ResourceShare'),\r\n  loading: Loading,\r\n});\r\nconst WebMiner = Loadable({\r\n  loader: () => import('./views/ggv/WebMiner'),\r\n  loading: Loading,\r\n});\r\nconst UnconfirmedList = Loadable({\r\n  loader: () => import('./views/ggv/UnconfirmedList'),\r\n  loading: Loading,\r\n});\r\nconst Dashboard = Loadable({\r\n  loader: () => import('./views/Dashboard'),\r\n  loading: Loading,\r\n});\r\nconst ExchangeList = Loadable({\r\n  loader: () => import('./views/eshop/ExchangeList'),\r\n  loading: Loading,\r\n});\r\nconst MessageList = Loadable({\r\n  loader: () => import('./views/eshop/MessageList'),\r\n  loading: Loading,\r\n});\r\nconst MinerList = Loadable({\r\n  loader: () => import('./views/eshop/MinerList'),\r\n  loading: Loading,\r\n});\r\nconst Debug = Loadable({\r\n  loader: () => import('./views/eshop/Debug'),\r\n  loading: Loading,\r\n});\r\n\r\n// https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config\r\nconst routes = [\r\n  { path: '/', exact: true, name: 'Home', component: ResourceList },\r\n  { path: '/dashboard', name: 'Dashboard', component: Dashboard },\r\n  { path: '/bshop/product-list', name: '', component: ProductList },\r\n  { path: '/ex', name: '', component: ExchangeList },\r\n  { path: '/debug', name: '', component: Debug },\r\n  { path: '/message', name: '', component: MessageList },\r\n  { path: '/forger', name: '', component: MinerList },\r\n  { path: '/btb', name: '', component: ResourceList },\r\n  { path: '/fly', name: '', component: FileTransfer },\r\n  { path: '/news/list', name: '', component: NewsList },\r\n  { path: '/newsweb', name: '', component: NewsWeb },\r\n  { path: '/hongbaoweb', name: '', component: HongbaoWeb },\r\n  { path: '/news/editor', name: 'News(', component: NewsEditor },\r\n  { path: '/block/list', name: '', component: BlockList },\r\n  { path: '/account/list', name: '', component: AccountList },\r\n  { path: '/resource/share', name: '', component: ResourceShare },\r\n  { path: '/unconfirmed', name: '', component: UnconfirmedList },\r\n  { path: '/miner', name: '', component: WebMiner },\r\n  /*\r\n  { path: '/theme', exact: true, name: 'Theme', component: Colors },\r\n  { path: '/theme/colors', name: 'Colors', component: Colors },\r\n  { path: '/theme/typography', name: 'Typography', component: Typography },\r\n  { path: '/base', exact: true, name: 'Base', component: Cards },\r\n  { path: '/base/cards', name: 'Cards', component: Cards },\r\n  { path: '/base/forms', name: 'Forms', component: Forms },\r\n  { path: '/base/switches', name: 'Switches', component: Switches },\r\n  { path: '/base/tables', name: 'Tables', component: Tables },\r\n  { path: '/base/tabs', name: 'Tabs', component: Tabs },\r\n  { path: '/base/breadcrumbs', name: 'Breadcrumbs', component: Breadcrumbs },\r\n  { path: '/base/carousels', name: 'Carousel', component: Carousels },\r\n  { path: '/base/collapses', name: 'Collapse', component: Collapses },\r\n  { path: '/base/dropdowns', name: 'Dropdowns', component: Dropdowns },\r\n  { path: '/base/jumbotrons', name: 'Jumbotrons', component: Jumbotrons },\r\n  { path: '/base/list-groups', name: 'List Groups', component: ListGroups },\r\n  { path: '/base/navbars', name: 'Navbars', component: Navbars },\r\n  { path: '/base/navs', name: 'Navs', component: Navs },\r\n  { path: '/base/paginations', name: 'Paginations', component: Paginations },\r\n  { path: '/base/popovers', name: 'Popovers', component: Popovers },\r\n  { path: '/base/progress-bar', name: 'Progress Bar', component: ProgressBar },\r\n  { path: '/base/tooltips', name: 'Tooltips', component: Tooltips },\r\n  { path: '/buttons', exact: true, name: 'Buttons', component: Buttons },\r\n  { path: '/buttons/buttons', name: 'Buttons', component: Buttons },\r\n  { path: '/buttons/button-dropdowns', name: 'Button Dropdowns', component: ButtonDropdowns },\r\n  { path: '/buttons/button-groups', name: 'Button Groups', component: ButtonGroups },\r\n  { path: '/buttons/brand-buttons', name: 'Brand Buttons', component: BrandButtons },\r\n  { path: '/icons', exact: true, name: 'Icons', component: CoreUIIcons },\r\n  { path: '/icons/coreui-icons', name: 'CoreUI Icons', component: CoreUIIcons },\r\n  { path: '/icons/flags', name: 'Flags', component: Flags },\r\n  { path: '/icons/font-awesome', name: 'Font Awesome', component: FontAwesome },\r\n  { path: '/icons/simple-line-icons', name: 'Simple Line Icons', component: SimpleLineIcons },\r\n  { path: '/notifications', exact: true, name: 'Notifications', component: Alerts },\r\n  { path: '/notifications/alerts', name: 'Alerts', component: Alerts },\r\n  { path: '/notifications/badges', name: 'Badges', component: Badges },\r\n  { path: '/notifications/modals', name: 'Modals', component: Modals },\r\n  { path: '/widgets', name: 'Widgets', component: Widgets },\r\n  { path: '/charts', name: 'Charts', component: Charts },\r\n  */\r\n];\r\n\r\nexport default routes;\r\n","import React, { Component } from 'react';\r\nimport { Nav, NavItem, NavLink, Progress, TabContent, TabPane, ListGroup, ListGroupItem } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { AppSwitch } from '@coreui/react'\r\nimport { loadLocalAccount } from '../../views/ggv/js/gegeUtil'\r\nimport { doMessage, shareEncrypt } from '../../views/eshop/eshop'\r\nconst propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nclass DefaultAside extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      activeTab: '1', messages: []\r\n    };\r\n  }\r\n\r\n  toggle(tab) {\r\n    if (this.state.activeTab !== tab) {\r\n      this.setState({\r\n        activeTab: tab,\r\n      });\r\n    }\r\n    if (tab === '2') {\r\n      //this.loadMessages()\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    let account = loadLocalAccount();\r\n    if (account && account.secret) {\r\n      this.secret = account.secret;\r\n      this.account = account;\r\n    }\r\n  }\r\n\r\n  loadMessages() {\r\n    let data ={ type: 'list',rsId : this.account.rsId}\r\n    doMessage(data,((ok,data)=>{\r\n      if(ok && data.ok && data.list){\r\n        this.setState({messages : data.list})\r\n      }\r\n    }).bind(this))\r\n  }\r\n\r\n  renderMessages() {\r\n    if (!this.state.messages)\r\n      return (<div><small className=\"text-muted\"></small></div>);\r\n    let content = this.state.messages.map((m) => {\r\n      return (<div className=\"message\">\r\n        <div className=\"py-3 pb-5 mr-3 float-left\">\r\n          <div className=\"avatar\">\r\n            <img src={'assets/img/avatars/7.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n            <span className=\"avatar-status badge-success\"></span>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <small className=\"text-muted\">Lukasz Holeczek</small>\r\n          <small className=\"text-muted float-right mt-1\">1:52 PM</small>\r\n        </div>\r\n        <div className=\"text-truncate font-weight-bold\">Lorem ipsum dolor sit amet</div>\r\n        <small className=\"text-muted\">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n          tempor incididunt...\r\n      </small>\r\n      </div>)\r\n    })\r\n    return content;\r\n  }\r\n\r\n  render() {\r\n\r\n    // eslint-disable-next-line\r\n    const { children, ...attributes } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Nav tabs>\r\n          <NavItem>\r\n            <NavLink className={classNames({ active: this.state.activeTab === '1' })}\r\n              onClick={() => {\r\n                this.toggle('1');\r\n              }}>\r\n              <i className=\"icon-list\"></i>\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink className={classNames({ active: this.state.activeTab === '2' })}\r\n              onClick={() => {\r\n                this.toggle('2');\r\n              }}>\r\n              <i className=\"icon-speech\"></i>\r\n            </NavLink>\r\n          </NavItem>\r\n          <NavItem>\r\n            <NavLink className={classNames({ active: this.state.activeTab === '3' })}\r\n              onClick={() => {\r\n                this.toggle('3');\r\n              }}>\r\n              <i className=\"icon-settings\"></i>\r\n            </NavLink>\r\n          </NavItem>\r\n        </Nav>\r\n        <TabContent activeTab={this.state.activeTab}>\r\n          <TabPane tabId=\"1\">\r\n            <ListGroup className=\"list-group-accent\">\r\n              <ListGroupItem className=\"list-group-item-accent-secondary bg-light text-center font-weight-bold text-muted text-uppercase small\">Today</ListGroupItem>\r\n              <ListGroupItem action tag=\"a\" href=\"#\" className=\"list-group-item-accent-warning list-group-item-divider\">\r\n                <div className=\"avatar float-right\">\r\n                  <img className=\"img-avatar\" src=\"assets/img/avatars/7.jpg\" alt=\"admin@bootstrapmaster.com\"></img>\r\n                </div>\r\n                <div>Meeting with <strong>Lucas</strong> </div>\r\n                <small className=\"text-muted mr-3\">\r\n                  <i className=\"icon-calendar\"></i>&nbsp; 1 - 3pm\r\n                </small>\r\n                <small className=\"text-muted\">\r\n                  <i className=\"icon-location-pin\"></i> Palo Alto, CA\r\n                </small>\r\n              </ListGroupItem>\r\n              <ListGroupItem action tag=\"a\" href=\"#\" className=\"list-group-item-accent-info list-group-item-divider\">\r\n                <div className=\"avatar float-right\">\r\n                  <img className=\"img-avatar\" src=\"assets/img/avatars/4.jpg\" alt=\"admin@bootstrapmaster.com\"></img>\r\n                </div>\r\n                <div>Skype with <strong>Megan</strong></div>\r\n                <small className=\"text-muted mr-3\">\r\n                  <i className=\"icon-calendar\"></i>&nbsp; 4 - 5pm\r\n                </small>\r\n                <small className=\"text-muted\">\r\n                  <i className=\"icon-social-skype\"></i> On-line\r\n                </small>\r\n              </ListGroupItem>\r\n              <ListGroupItem className=\"list-group-item-accent-secondary bg-light text-center font-weight-bold text-muted text-uppercase small\">Tomorrow</ListGroupItem>\r\n              <ListGroupItem action tag=\"a\" href=\"#\" className=\"list-group-item-accent-danger list-group-item-divider\">\r\n                <div>New UI Project - <strong>deadline</strong></div>\r\n                <small className=\"text-muted mr-3\"><i className=\"icon-calendar\"></i>&nbsp; 10 - 11pm</small>\r\n                <small className=\"text-muted\"><i className=\"icon-home\"></i>&nbsp; creativeLabs HQ</small>\r\n                <div className=\"avatars-stack mt-2\">\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/2.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/3.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/4.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/5.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/6.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                </div>\r\n              </ListGroupItem>\r\n              <ListGroupItem action tag=\"a\" href=\"#\" className=\"list-group-item-accent-success list-group-item-divider\">\r\n                <div><strong>#10 Startups.Garden</strong> Meetup</div>\r\n                <small className=\"text-muted mr-3\"><i className=\"icon-calendar\"></i>&nbsp; 1 - 3pm</small>\r\n                <small className=\"text-muted\"><i className=\"icon-location-pin\"></i>&nbsp; Palo Alto, CA</small>\r\n              </ListGroupItem>\r\n              <ListGroupItem action tag=\"a\" href=\"#\" className=\"list-group-item-accent-primary list-group-item-divider\">\r\n                <div><strong>Team meeting</strong></div>\r\n                <small className=\"text-muted mr-3\"><i className=\"icon-calendar\"></i>&nbsp; 4 - 6pm</small>\r\n                <small className=\"text-muted\"><i className=\"icon-home\"></i>&nbsp; creativeLabs HQ</small>\r\n                <div className=\"avatars-stack mt-2\">\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/2.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/3.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/4.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/5.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/6.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/7.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                  <div className=\"avatar avatar-xs\">\r\n                    <img src={'assets/img/avatars/8.jpg'} className=\"img-avatar\" alt=\"admin@bootstrapmaster.com\" />\r\n                  </div>\r\n                </div>\r\n              </ListGroupItem>\r\n            </ListGroup>\r\n          </TabPane>\r\n          <TabPane tabId=\"2\" className=\"p-3\">\r\n            {this.renderMessages()}\r\n          </TabPane>\r\n          <TabPane tabId=\"3\" className=\"p-3\">\r\n            <h6>Settings</h6>\r\n\r\n            <div className=\"aside-options\">\r\n              <div className=\"clearfix mt-4\">\r\n                <small><b>Option 1</b></small>\r\n                <AppSwitch className={'float-right'} variant={'pill'} label color={'success'} defaultChecked size={'sm'} />\r\n              </div>\r\n              <div>\r\n                <small className=\"text-muted\">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n                  tempor incididunt ut labore et dolore magna aliqua.\r\n                </small>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"aside-options\">\r\n              <div className=\"clearfix mt-3\">\r\n                <small><b>Option 2</b></small>\r\n                <AppSwitch className={'float-right'} variant={'pill'} label color={'success'} size={'sm'} />\r\n              </div>\r\n              <div>\r\n                <small className=\"text-muted\">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n                  tempor incididunt ut labore et dolore magna aliqua.\r\n                </small>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"aside-options\">\r\n              <div className=\"clearfix mt-3\">\r\n                <small><b>Option 3</b></small>\r\n                <AppSwitch className={'float-right'} variant={'pill'} label color={'success'} defaultChecked size={'sm'} disabled />\r\n                <div>\r\n                  <small className=\"text-muted\">Option disabled.</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"aside-options\">\r\n              <div className=\"clearfix mt-3\">\r\n                <small><b>Option 4</b></small>\r\n                <AppSwitch className={'float-right'} variant={'pill'} label color={'success'} defaultChecked size={'sm'} />\r\n              </div>\r\n            </div>\r\n\r\n            <hr />\r\n            <h6>System Utilization</h6>\r\n\r\n            <div className=\"text-uppercase mb-1 mt-4\">\r\n              <small><b>CPU Usage</b></small>\r\n            </div>\r\n            <Progress className=\"progress-xs\" color=\"info\" value=\"25\" />\r\n            <small className=\"text-muted\">348 Processes. 1/4 Cores.</small>\r\n\r\n            <div className=\"text-uppercase mb-1 mt-2\">\r\n              <small><b>Memory Usage</b></small>\r\n            </div>\r\n            <Progress className=\"progress-xs\" color=\"warning\" value=\"70\" />\r\n            <small className=\"text-muted\">11444GB/16384MB</small>\r\n\r\n            <div className=\"text-uppercase mb-1 mt-2\">\r\n              <small><b>SSD 1 Usage</b></small>\r\n            </div>\r\n            <Progress className=\"progress-xs\" color=\"danger\" value=\"95\" />\r\n            <small className=\"text-muted\">243GB/256GB</small>\r\n\r\n            <div className=\"text-uppercase mb-1 mt-2\">\r\n              <small><b>SSD 2 Usage</b></small>\r\n            </div>\r\n            <Progress className=\"progress-xs\" color=\"success\" value=\"10\" />\r\n            <small className=\"text-muted\">25GB/256GB</small>\r\n          </TabPane>\r\n        </TabContent>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDefaultAside.propTypes = propTypes;\r\nDefaultAside.defaultProps = defaultProps;\r\n\r\nexport default DefaultAside;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nclass DefaultFooter extends Component {\r\n  render() {\r\n\r\n    // eslint-disable-next-line\r\n    const { children, ...attributes } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <span><a href='https://github.com/btbresource/btb-android'></a></span>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDefaultFooter.propTypes = propTypes;\r\nDefaultFooter.defaultProps = defaultProps;\r\n\r\nexport default DefaultFooter;\r\n","import React, { Component } from 'react';\r\nimport { Badge, Dropdown, DropdownItem, DropdownMenu, DropdownToggle, Nav, NavItem, NavLink } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Button, Table, Input, Alert } from 'reactstrap'\r\nimport { AppAsideToggler, AppHeaderDropdown, AppNavbarBrand, AppSidebarToggler } from '@coreui/react';\r\nimport logo from '../../assets/img/brand/logo.svg'\r\nimport sygnet from '../../assets/img/brand/sygnet.svg'\r\nimport { loadLocalAccount, loadAccountInfo, getMobileOperatingSystem, saveUserSec, showQRDialog, createPeerId } from '../../views/ggv/js/gegeUtil.js'\r\nimport { FormGroup, Label, InputGroup, InputGroupAddon, InputGroupText, Card, CardBody, CardHeader, Collapse, } from 'reactstrap'\r\nimport BtbSecret from '../../views/conponents/BtbSecret/BtbSecret'\r\nimport DepositDialog from '../../views/conponents/DepositDialog/DepositDialog'\r\nimport classnames from 'classnames';\r\nimport { doBShopTransaction, loadBarCodeText } from '../../views/eshop/eshop.js'\r\nimport TransactionType from '../../views/conponents/TransactionType/TransactionType';\r\nimport AccountDialog from '../../views/conponents/AccountDialog/AccountDialog';\r\nimport PopHint from '../../views/conponents/PopHint/PopHint'\r\n\r\nconst propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nclass DefaultHeader extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    let random = new Date().getMilliseconds();\r\n    let idx = random % 8 + 1;\r\n    this.avatar = 'assets/img/avatars/' + idx + '.jpg';\r\n    let act = { peerId: '', rsId: '', pk: '', balance: 0 }\r\n    this.state = {\r\n      account: act, danger: false, showServerList: false,\r\n      newPeer: '', currentPeer: '', showQr: false, transfer: false, dialogMsg: null,\r\n      hasCache: false, qrtab: '0', tranferOk: false, addServer: false,\r\n      intro: false, accordion: [false, false, false, false],\r\n    };\r\n    this.fee = '1'\r\n    this.deadline = '5';\r\n  }\r\n\r\n  toggleServerList() {\r\n    this.setState({\r\n      showServerList: !this.state.showServerList,\r\n    });\r\n  }\r\n\r\n  toggleBarCode() {\r\n    if (!this.state.showQr) {\r\n      loadBarCodeText(((ok, bars) => {\r\n        if (ok)\r\n          this.setState({ bars })\r\n      }).bind(this))\r\n    }\r\n    this.setState({ showQr: !this.state.showQr })\r\n  }\r\n\r\n  qrtabClicked(qrtab, qr) {\r\n    this.setState({ qrtab })\r\n    let div = document.querySelector('#qrcode');\r\n    while (div.hasChildNodes()) {\r\n      div.removeChild(div.lastChild);\r\n    }\r\n    showQRDialog(qr)\r\n  }\r\n\r\n  renderBarCodes() {\r\n    if (!this.state.bars)\r\n      return null\r\n    let bars = this.state.bars;\r\n    let content = bars.map((bar) => {\r\n      return (<NavItem>\r\n        <NavLink\r\n          className={classnames({ active: this.state.qrtab === bar.tab })}\r\n          onClick={() => { this.qrtabClicked(bar.tab, bar.qr); }}\r\n        >\r\n          <i className=\"icon-user\"></i><Badge\r\n            color=\"success\">{bar.title} </Badge>\r\n        </NavLink>\r\n      </NavItem>)\r\n    })\r\n    return content;\r\n  }\r\n\r\n  toggleDanger() {\r\n    this.setState({\r\n      danger: !this.state.danger\r\n    });\r\n    if (!this.state.danger) {\r\n      this.setState({ showQr: false })\r\n    }\r\n  }\r\n\r\n  getCurrentPeer() {\r\n    let cp = window.localStorage.getItem(\"cpeer\");\r\n    return cp;\r\n  }\r\n\r\n  savePeers(peers) {\r\n    let data = '';\r\n    for (let idx in peers) {\r\n      let peer = peers[idx];\r\n      data += peer + \";\"\r\n    }\r\n    window.localStorage.setItem(\"btb-peers\", data);\r\n  }\r\n\r\n  getCachedPeers() {\r\n    let data = window.localStorage.getItem(\"btb-peers\");\r\n    let ps = [];\r\n    if (data) {\r\n      ps = data.split(\";\")\r\n    }\r\n    return ps;\r\n  }\r\n\r\n  checkMobileDevice() {\r\n    if ('Android' === getMobileOperatingSystem()) {\r\n      this.toggleAppInstallDialog()\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!sessionStorage.getItem('introdialog'))\r\n      this.toggleIntroDialog();\r\n    else {\r\n      this.checkMobileDevice()\r\n    }\r\n\r\n    let currentPeer = this.getCurrentPeer()\r\n    if (currentPeer)\r\n      this.setState({ currentPeer });\r\n\r\n    this.peers = this.getCachedPeers()\r\n    //\r\n    var account = loadLocalAccount();\r\n    if (account) {\r\n      this.setState({ account, hasCache: true });\r\n      this.secret = account.secret;\r\n      loadAccountInfo(account, (function (account) {\r\n        if (account)\r\n          this.setState({ account });\r\n      }).bind(this))\r\n    } else {\r\n      this.setState({ hasCache: false })\r\n    }\r\n  }\r\n\r\n  switchServer(peer) {\r\n    console.log(\"switchServer \" + peer);\r\n    let currentPeer = peer;\r\n    this.setState({ currentPeer });\r\n    window.localStorage.setItem(\"cpeer\", peer);\r\n  }\r\n\r\n  clickMore() {\r\n    this.toggleDanger();\r\n  }\r\n\r\n  clearAccount() {\r\n    window.localStorage.setItem(\"userSec\", '');\r\n    this.setState({ hasCache: false })\r\n  }\r\n\r\n  addServer() {\r\n    console.log(\"add server \" + this.state.newPeer);\r\n    if (this.state.newPeer && this.state.newPeer.length > 5) {\r\n      this.switchServer(this.state.newPeer)\r\n      this.peers.push(this.state.newPeer);\r\n      this.savePeers(this.peers);\r\n      this.toggleServerList()\r\n    }\r\n  }\r\n\r\n  renderPeers() {\r\n    if (!this.peers)\r\n      return null;\r\n    let ps = this.peers.map((p) => {\r\n      return (<DropdownItem onClick={e => { this.switchServer(p) }}>{p}</DropdownItem>)\r\n    })\r\n    return ps;\r\n  }\r\n\r\n  renderAddPeerBtn() {\r\n    if (!this.state.newPeer || this.state.newPeer.length < 5)\r\n      return null;\r\n    return (<Button color=\"info\" onClick={this.addServer.bind(this)}>+</Button>);\r\n  }\r\n\r\n  updateAccountInfo() {\r\n    loadAccountInfo(this.state.account, (function (account) {\r\n      if (account)\r\n        this.setState({ account });\r\n    }).bind(this))\r\n  }\r\n\r\n  renderNav() {\r\n    return (<Nav className=\"d-md-down-none\" navbar>\r\n      <NavItem className=\"px-3\">\r\n        <NavLink href=\"/\">Dashboard</NavLink>\r\n      </NavItem>\r\n      <NavItem className=\"px-3\">\r\n        <NavLink href=\"#\">Users</NavLink>\r\n      </NavItem>\r\n      <NavItem className=\"px-3\">\r\n        <NavLink href=\"#\">Settings</NavLink>\r\n      </NavItem>\r\n    </Nav>)\r\n  }\r\n\r\n  renderTransactionItem() {\r\n    let content = this.state.account.transactions.map((res) => {\r\n      let d = new Date();\r\n      d.setTime(res.time)\r\n      let btime = d.toLocaleString()\r\n      return (<tr>\r\n        <td><TransactionType type={res.type} /></td>\r\n        <td><AccountDialog rsId={res.from} /></td>\r\n        <td><AccountDialog rsId={res.to} /></td>\r\n        <td>{res.amount} </td>\r\n        <td>{res.fee} </td>\r\n        <td>{btime}</td>\r\n      </tr>)\r\n    });\r\n\r\n    return content;\r\n  }\r\n\r\n  renderRecentTransactions() {\r\n    if (this.state.showQr)\r\n      return null;\r\n    if (this.state.account.transactions) {\r\n      return (<div>\r\n        <p>:</p>\r\n        <Table hover bordered striped responsive size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.renderTransactionItem()}\r\n          </tbody>\r\n        </Table></div>)\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  renderNews() {\r\n    if (true)\r\n      return null;\r\n    return (<NavItem className=\"d-md-down-none\">\r\n      <a href=\"/#/news/editor\" target='_blank'><i className=\"icon-share\">Share News(,BTB</i></a>\r\n    </NavItem>)\r\n  }\r\n\r\n  updateInvodeCode(e) {\r\n    if (e && e.target) {\r\n      let newPeer = e.target.value;\r\n      this.setState({ newPeer })\r\n    }\r\n  }\r\n\r\n  renderServerList() {\r\n    if (!this.state.addServer)\r\n      return null;\r\n    return (<Dropdown isOpen={this.state.showServerList} toggle={() => {\r\n      this.toggleServerList();\r\n    }}>\r\n      <DropdownToggle caret size=\"sm\">\r\n        (): {this.state.currentPeer}\r\n      </DropdownToggle>\r\n      <DropdownMenu right style={{ right: 'auto' }}>\r\n        <DropdownItem header><Input style={{ width: 200 }} size='sm' type=\"text\" id=\"name\" placeholder=\"()\" onChange={(this.updateInvodeCode).bind(this)} />{this.renderAddPeerBtn()}</DropdownItem>\r\n        {this.renderPeers()}\r\n      </DropdownMenu>\r\n    </Dropdown>)\r\n  }\r\n\r\n  updateTSecret(e) {\r\n    if (e && e.target) {\r\n      let act = e.target.value;\r\n      this.secret = act;\r\n    }\r\n  }\r\n\r\n  updateFee(e) {\r\n    if (e && e.target) {\r\n      let v = e.target.value;\r\n      if (v && v.length > 0)\r\n        this.fee = v;\r\n    }\r\n  }\r\n  updateDeadline(e) {\r\n    if (e && e.target) {\r\n      let act = e.target.value;\r\n      this.deadline = act;\r\n    }\r\n  }\r\n  updatePk(e) {\r\n    if (e && e.target) {\r\n      let act = e.target.value;\r\n      this.pk = act;\r\n    }\r\n  }\r\n  updateAmount(e) {\r\n    if (e && e.target) {\r\n      let act = e.target.value;\r\n      this.amount = act;\r\n    }\r\n  }\r\n  updateAccount(e) {\r\n    if (e && e.target) {\r\n      let act = e.target.value;\r\n      this.rsId = act;\r\n    }\r\n  }\r\n\r\n  doTransfer() {\r\n    let senderpk = createPeerId(this.secret).pk;\r\n    let data = {\r\n      action: 'transaction', type: 'transfer', amount: this.amount,\r\n      fee: this.fee, dealine: this.deadline, pk: senderpk, recipientPk: this.pk,\r\n      recipientId: this.rsId\r\n    };\r\n\r\n    doBShopTransaction(this.secret, data, ((ok, msg) => {\r\n      if (ok) {\r\n        saveUserSec(this.secret)\r\n        this.setState({ dialogMsg: 'success(),', tranferOk: true })\r\n      } else {\r\n        this.setState({ dialogMsg: 'err()' })\r\n      }\r\n    }).bind(this))\r\n  }\r\n\r\n  toggleTransfer() {\r\n    if (this.state.danger) {\r\n      this.toggleDanger()\r\n    }\r\n    this.setState({\r\n      transfer: !this.state.transfer\r\n    });\r\n  }\r\n  renderTransferDialog() {\r\n    return (<Modal isOpen={this.state.transfer} toggle={this.toggleTransfer.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleTransfer.bind(this)}></ModalHeader>\r\n      <ModalBody>\r\n        <FormGroup>\r\n          <div className=\"controls\">\r\n            <BtbSecret onSecret={(sec) => {\r\n              if (sec) {\r\n                this.secret = sec;\r\n              }\r\n            }} />\r\n          </div>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <div className=\"controls\">\r\n            <InputGroup className=\"input-prepend\">\r\n              <InputGroupAddon addonType=\"prepend\">\r\n                <InputGroupText>ID):</InputGroupText>\r\n              </InputGroupAddon>\r\n              <Input id=\"appendedPrependedInput\" size=\"16\" type=\"text\" onChange={this.updateAccount.bind(this)} placeholder='ID' />\r\n            </InputGroup>\r\n          </div>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <div className=\"controls\">\r\n            <InputGroup className=\"input-prepend\">\r\n              <InputGroupAddon addonType=\"prepend\">\r\n                <InputGroupText>):</InputGroupText>\r\n              </InputGroupAddon>\r\n              <Input id=\"appendedPrependedInput\" size=\"16\" type=\"text\" onChange={this.updatePk.bind(this)} placeholder='' />\r\n            </InputGroup>\r\n          </div>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <div className=\"controls\">\r\n            <InputGroup className=\"input-prepend\">\r\n              <InputGroupAddon addonType=\"prepend\">\r\n                <InputGroupText>):</InputGroupText>\r\n              </InputGroupAddon>\r\n              <Input id=\"appendedPrependedInput\" size=\"16\" type=\"text\" onChange={this.updateAmount.bind(this)} placeholder='()' />\r\n              <InputGroupAddon addonType=\"append\">\r\n                <InputGroupText></InputGroupText>\r\n              </InputGroupAddon>\r\n            </InputGroup>\r\n          </div>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <div className=\"controls\">\r\n            <InputGroup className=\"input-prepend\">\r\n              <InputGroupAddon addonType=\"prepend\">\r\n                <InputGroupText><PopHint id=\"min123\" text='():' content=',' /></InputGroupText>\r\n              </InputGroupAddon>\r\n              <Input id=\"appendedPrependedInput\" size=\"16\" type=\"text\" onChange={this.updateFee.bind(this)} placeholder='0.1' />\r\n              <InputGroupAddon addonType=\"append\">\r\n                <InputGroupText></InputGroupText>\r\n              </InputGroupAddon>\r\n            </InputGroup>\r\n          </div>\r\n        </FormGroup>\r\n        {\r\n          this.renderDeadline()\r\n        }\r\n        <FormGroup>\r\n          {this.renderdialogMsg()}\r\n        </FormGroup>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleTransfer.bind(this)}></Button>\r\n        <Button color=\"danger\" hidden={this.state.tranferOk} onClick={this.doTransfer.bind(this)}></Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  renderDeadline() {\r\n    if (true)\r\n      return null;\r\n    return (<FormGroup>\r\n      <div className=\"controls\">\r\n        <InputGroup className=\"input-prepend\">\r\n          <InputGroupAddon addonType=\"prepend\">\r\n            <InputGroupText><PopHint id='dl4545' text='():' content='' /></InputGroupText>\r\n          </InputGroupAddon>\r\n          <Input id=\"appendedPrependedInput\" size=\"16\" onChange={this.updateDeadline.bind(this)} type=\"text\" placeholder='5' />\r\n          <InputGroupAddon addonType=\"append\">\r\n            <InputGroupText></InputGroupText>\r\n          </InputGroupAddon>\r\n        </InputGroup>\r\n      </div>\r\n    </FormGroup>)\r\n  }\r\n\r\n  renderdialogMsg() {\r\n    if (this.state.dialogMsg) {\r\n      return (<Label>{this.state.dialogMsg}</Label>)\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderBarCodeDialog() {\r\n    return (<Modal isOpen={this.state.showQr} toggle={this.toggleBarCode.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleDanger.bind(this)}></ModalHeader>\r\n      <ModalBody>\r\n        <Nav tabs>\r\n          {this.renderBarCodes()}\r\n        </Nav>\r\n        <div id='qrcode' />\r\n        <p><a href='https://github.com/btbresource/btb-android'></a></p>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleBarCode.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  renderAccountDialog() {\r\n    return (<Modal isOpen={this.state.danger} toggle={this.toggleDanger.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleDanger.bind(this)}></ModalHeader>\r\n      <ModalBody>\r\n        <p>ID: {this.state.account.rsId}</p>\r\n        <p>:</p>\r\n        <p>{this.state.account.pk}</p>\r\n        <p>ID</p>\r\n        <p> : {this.state.account.balance} </p>\r\n        <p><Button color=\"info\" onClick={e => this.toggleTransfer()}></Button></p>\r\n        <p><a href='https://github.com/btbresource/btb-android'></a></p>\r\n        {this.renderRecentTransactions()}\r\n        <div id=\"qrcode\" />\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleDanger.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  renderMoreBtn() {\r\n    if (!this.state.hasCache) {\r\n      return (<BtbSecret onSecret={(sec) => {\r\n        if (sec) {\r\n          this.secret = sec;\r\n          this.setState({ hasCache: true })\r\n        }\r\n      }} />)\r\n    }\r\n    return (<div>\r\n      <DropdownItem header tag=\"div\" className=\"text-center\"><Button color=\"info\" onClick={this.toggleBarCode.bind(this)}></Button></DropdownItem>\r\n      <DropdownItem header tag=\"div\" className=\"text-center\"><Button color=\"info\" onClick={this.toggleIntroDialog.bind(this)}></Button></DropdownItem>\r\n      <DropdownItem header tag=\"div\" className=\"text-center\"><Button color=\"info\" onClick={this.clickMore.bind(this)}></Button></DropdownItem>\r\n      <DropdownItem header tag=\"div\" className=\"text-center\"><Button color=\"info\" onClick={this.clearAccount.bind(this)}></Button></DropdownItem>\r\n    </div>)\r\n  }\r\n\r\n  toggleIntroDialog() {\r\n    this.setState({\r\n      intro: !this.state.intro,\r\n    });\r\n    sessionStorage.setItem('introdialog', 'shi')\r\n  }\r\n\r\n  toggleAppInstallDialog() {\r\n    this.setState({\r\n      appDialog: !this.state.appDialog,\r\n    });\r\n  }\r\n\r\n  toggleAccordion(tab) {\r\n    const prevState = this.state.accordion;\r\n    const state = prevState.map((x, index) => tab === index ? !x : false);\r\n\r\n    this.setState({\r\n      accordion: state,\r\n    });\r\n  }\r\n\r\n  renderIntroDialog() {\r\n    return (<Modal isOpen={this.state.intro} toggle={this.toggleIntroDialog.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleIntroDialog.bind(this)}>--</ModalHeader>\r\n      <ModalBody>\r\n        <Card>\r\n          <CardHeader>\r\n            <small>,100%,8</small>\r\n            <div className=\"card-header-actions\">\r\n              <Badge></Badge>\r\n            </div>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <div id=\"accordion\">\r\n              <Card>\r\n                <CardHeader id=\"headingOne\">\r\n                  <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.toggleAccordion(0)} aria-expanded={this.state.accordion[0]} aria-controls=\"collapseOne\">\r\n                    <h5 className=\"m-0 p-0\"></h5>\r\n                  </Button>\r\n                </CardHeader>\r\n                <Collapse isOpen={this.state.accordion[0]} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                  <CardBody>\r\n                    <div>1.,8</div>\r\n                    <div>2..</div>\r\n                    <div>3.50</div>\r\n                    <div>4.</div>\r\n                    <div>5.</div>\r\n                    <div>6.</div>\r\n                    <div>7.8</div>\r\n                    <div>8.</div>\r\n                  </CardBody>\r\n                </Collapse>\r\n              </Card>\r\n              <Card>\r\n                <CardHeader id=\"headingOne\">\r\n                  <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.toggleAccordion(1)} aria-expanded={this.state.accordion[1]} aria-controls=\"collapseOne\">\r\n                    <h5 className=\"m-0 p-0\"></h5>\r\n                  </Button>\r\n                </CardHeader>\r\n                <Collapse isOpen={this.state.accordion[1]} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                  <CardBody>\r\n                    <div>1.,100%</div>\r\n                    <div>2.</div>\r\n                    <div>3.</div>\r\n                  </CardBody>\r\n                </Collapse>\r\n              </Card>\r\n              <Card>\r\n                <CardHeader id=\"headingOne\">\r\n                  <Button block color=\"link\" className=\"text-left m-0 p-0\" onClick={() => this.toggleAccordion(2)} aria-expanded={this.state.accordion[2]} aria-controls=\"collapseOne\">\r\n                    <h5 className=\"m-0 p-0\"></h5>\r\n                  </Button>\r\n                </CardHeader>\r\n                <Collapse isOpen={this.state.accordion[2]} data-parent=\"#accordion\" id=\"collapseOne\" aria-labelledby=\"headingOne\">\r\n                  <CardBody>\r\n                    <div>1.</div>\r\n                    <div>2.</div>\r\n                  </CardBody>\r\n                </Collapse>\r\n              </Card>\r\n            </div>\r\n          </CardBody>\r\n        </Card>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleIntroDialog.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  renderAppDownloadDialog() {\r\n    return (<Modal isOpen={this.state.appDialog} toggle={this.toggleAppInstallDialog.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleAppInstallDialog.bind(this)}>--</ModalHeader>\r\n      <ModalBody>\r\n        <Card>\r\n          <CardHeader>\r\n            <small></small>\r\n            <div className=\"card-header-actions\">\r\n              <Badge>BTB</Badge>\r\n            </div>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <div id=\"accordion\">\r\n              <a href='https://github.com/btbresource/btb-android'></a>\r\n            </div>\r\n          </CardBody>\r\n        </Card>\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleAppInstallDialog.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  renderDeposBtn() {\r\n    if (!this.state.hasCache) {\r\n      return (<Button color=\"danger\" size='sm' onClick={this.toggleBarCode.bind(this)}>Help(</Button>)\r\n    } else\r\n      return (<DepositDialog />)\r\n  }\r\n\r\n  renderLoginBtn() {\r\n    if (!this.state.hasCache) {\r\n      return (<BtbSecret mode='simple' onSecret={(sec, act) => {\r\n        if (sec) {\r\n          this.setState({ hasCache: true, account: act })\r\n        }\r\n      }} />)\r\n    } else {\r\n      return (<AppHeaderDropdown direction=\"down\">\r\n        <DropdownToggle nav onClick={this.updateAccountInfo.bind(this)}>\r\n          <img src={this.avatar} className=\"img-avatar\" alt=\"admin@bshopping.cc\" />\r\n        </DropdownToggle>\r\n        <DropdownMenu right style={{ right: 'auto' }}>\r\n          <DropdownItem header tag=\"div\" className=\"text-center\"><strong></strong></DropdownItem>\r\n          <DropdownItem header tag=\"div\" className=\"text-center\"><strong>{this.state.account.rsId}</strong></DropdownItem>\r\n          <DropdownItem header tag=\"div\" className=\"text-center\"><strong> {this.state.account.balance} </strong></DropdownItem>\r\n          {this.renderMoreBtn()}\r\n        </DropdownMenu>\r\n      </AppHeaderDropdown>)\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    // eslint-disable-next-line\r\n    const { children, ...attributes } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <AppSidebarToggler className=\"d-lg-none\" display=\"md\" mobile />\r\n        <AppNavbarBrand\r\n          full={{ src: logo, width: 89, height: 25, alt: 'CoreUI Logo' }}\r\n          minimized={{ src: sygnet, width: 30, height: 30, alt: 'CoreUI Logo' }}\r\n        />\r\n        <AppSidebarToggler className=\"d-md-down-none\" display=\"lg\" />\r\n\r\n        {\r\n          //this.renderNav()\r\n        }\r\n        {this.renderAccountDialog()}\r\n        {this.renderBarCodeDialog()}\r\n        {this.renderTransferDialog()}\r\n        {\r\n          //this.renderIntroDialog()\r\n        }\r\n        {this.renderAppDownloadDialog()}\r\n        <Nav className=\"ml-auto\" navbar>\r\n          {\r\n            this.renderServerList()\r\n          }\r\n          {\r\n            //this.renderNews()\r\n          }\r\n          <NavItem className=\"d-md-down-none\">\r\n            <NavLink href=\"#\" onClick={(e) => {\r\n              this.setState({ addServer: !this.state.addServer })\r\n            }}><i className=\"icon-plus\"></i></NavLink>\r\n          </NavItem>\r\n          <NavItem className=\"d-md-down-none\">\r\n            <NavLink href=\"#\"><i className=\"icon-bell\"></i><Badge pill color=\"danger\">{this.state.account.balance}</Badge></NavLink>\r\n          </NavItem>\r\n          {\r\n          //this.renderDeposBtn()\r\n          }\r\n          {this.renderLoginBtn()}\r\n        </Nav>\r\n        <AppAsideToggler className=\"d-md-down-none\" />\r\n        {/*<AppAsideToggler className=\"d-lg-none\" mobile />*/}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDefaultHeader.propTypes = propTypes;\r\nDefaultHeader.defaultProps = defaultProps;\r\n\r\nexport default DefaultHeader;\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Container } from 'reactstrap';\r\n\r\nimport {\r\n  AppAside,\r\n  AppBreadcrumb,\r\n  AppFooter,\r\n  AppHeader,\r\n  AppSidebar,\r\n  AppSidebarFooter,\r\n  AppSidebarForm,\r\n  AppSidebarHeader,\r\n  AppSidebarMinimizer,\r\n  AppSidebarNav,\r\n} from '@coreui/react';\r\n// sidebar nav config\r\nimport navigation from '../../_nav';\r\n// routes config\r\nimport routes from '../../routes';\r\nimport DefaultAside from './DefaultAside';\r\nimport DefaultFooter from './DefaultFooter';\r\nimport DefaultHeader from './DefaultHeader';\r\n\r\nclass DefaultLayout extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <AppHeader fixed>\r\n          <DefaultHeader />\r\n        </AppHeader>\r\n        <div className=\"app-body\">\r\n          <AppSidebar fixed display=\"lg\">\r\n            <AppSidebarHeader />\r\n            <AppSidebarForm />\r\n            <AppSidebarNav navConfig={navigation} {...this.props} />\r\n            <AppSidebarFooter />\r\n            <AppSidebarMinimizer />\r\n          </AppSidebar>\r\n          <main className=\"main\">\r\n            <AppBreadcrumb appRoutes={routes}/>\r\n            <Container fluid>\r\n              <Switch>\r\n                {routes.map((route, idx) => {\r\n                    return route.component ? (<Route key={idx} path={route.path} exact={route.exact} name={route.name} render={props => (\r\n                        <route.component {...props} />\r\n                      )} />)\r\n                      : (null);\r\n                  },\r\n                )}\r\n                <Redirect from=\"/\" to=\"/btb/resource-list\" />\r\n              </Switch>\r\n            </Container>\r\n          </main>\r\n          <AppAside fixed hidden>\r\n            <DefaultAside />\r\n          </AppAside>\r\n        </div>\r\n        <AppFooter>\r\n          <DefaultFooter />\r\n        </AppFooter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DefaultLayout;\r\n","import React, { Component } from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\n// Styles\r\n// CoreUI Icons Set\r\nimport '@coreui/icons/css/coreui-icons.min.css';\r\n// Import Flag Icons Set\r\nimport 'flag-icon-css/css/flag-icon.min.css';\r\n// Import Font Awesome Icons Set\r\nimport 'font-awesome/css/font-awesome.min.css';\r\n// Import Simple Line Icons Set\r\nimport 'simple-line-icons/css/simple-line-icons.css';\r\n// Import Main styles for this application\r\nimport './scss/style.css'\r\n\r\n// Containers\r\nimport { DefaultLayout } from './containers';\r\n\r\n// import { renderRoutes } from 'react-router-config';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route path=\"/\" name=\"Home\" component={DefaultLayout} />\r\n        </Switch>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import './polyfill'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport debug  from 'debug';\r\nglobal.BTB_HOST = \"https://torrent.bshopping.cc:19099\"\r\nglobal.vgo_AUTH_SERVER = \"https://torrent.bshopping.cc:19099\"\r\ndebug.enable('*')\r\n// disable ServiceWorker\r\n// import registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n// disable ServiceWorker\r\n// registerServiceWorker();\r\n","/*\r\n* required polyfills\r\n*/\r\n\r\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\r\n// import 'core-js/es6/symbol'\r\n// import 'core-js/es6/object'\r\n// import 'core-js/es6/function'\r\n// import 'core-js/es6/parse-int'\r\n// import 'core-js/es6/parse-float'\r\n// import 'core-js/es6/number'\r\n// import 'core-js/es6/math'\r\n// import 'core-js/es6/string'\r\n// import 'core-js/es6/date'\r\nimport 'core-js/es6/array'\r\n// import 'core-js/es6/regexp'\r\nimport 'core-js/es6/map'\r\n// import 'core-js/es6/weak-map'\r\nimport 'core-js/es6/set'\r\nimport 'core-js/es7/object'\r\n\r\n/** IE10 and IE11 requires the following for the Reflect API. */\r\n// import 'core-js/es6/reflect'\r\n\r\n/** Evergreen browsers require these. **/\r\n// Used for reflect-metadata in JIT. If you use AOT (and only Angular decorators), you can remove.\r\n// import 'core-js/es7/reflect'\r\n\r\n// CustomEvent() constructor functionality in IE9, IE10, IE11\r\n(function () {\r\n\r\n  if ( typeof window.CustomEvent === \"function\" ) return false\r\n\r\n  function CustomEvent ( event, params ) {\r\n    params = params || { bubbles: false, cancelable: false, detail: undefined }\r\n    var evt = document.createEvent( 'CustomEvent' )\r\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail )\r\n    return evt\r\n  }\r\n\r\n  CustomEvent.prototype = window.Event.prototype\r\n\r\n  window.CustomEvent = CustomEvent\r\n})()\r\n","import React, { Component } from 'react';\r\nimport { Button, Card, CardBody, CardHeader, Popover, PopoverBody, PopoverHeader } from 'reactstrap';\r\nimport { loadAccountTransactions, loadAutoTransactions, loadAccountInfo } from '../../eshop/eshop.js'\r\nimport classnames from 'classnames';\r\nimport { Nav, NavItem, NavLink, Table, Badge, Label } from 'reactstrap'\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Pagination, PaginationItem, PaginationLink, } from 'reactstrap'\r\nimport { getShareHost } from '../../ggv/js/gegeUtil'\r\nimport BlockDialog from '../BlockDialog/BlockDialog'\r\nimport MessageDialog from '../MessageDialog/MessageDialog'\r\nimport TransactionType from '../TransactionType/TransactionType'\r\nlet host = getShareHost();\r\nconst get = require('simple-get')\r\nclass AccountDialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { page: 1, transPage: 1, showAccount: false, accountInfo: null, transactionTab: '0', autoTransactions: [] }\r\n  }\r\n\r\n  showAccountInfo(rsId) {\r\n    this.toggleAccount();\r\n    loadAccountInfo(rsId, 1, 10, ((ok, accountInfo) => {\r\n      if (ok && accountInfo) {\r\n        let accountTransactions = accountInfo.transactions;\r\n        this.setState({ accountInfo, accountTransactions })\r\n      }\r\n    }).bind(this))\r\n  }\r\n\r\n  toggleAccount() {\r\n    this.setState({\r\n      showAccount: !this.state.showAccount,\r\n    });\r\n  }\r\n\r\n  renderAutoTransactionItem() {\r\n    let content = this.state.autoTransactions.map((res) => {\r\n      let d = new Date();\r\n      d.setTime(res.time)\r\n      let btime = d.toLocaleString()\r\n      return (<tr>\r\n        <td><TransactionType type={res.type} id={res.id} /></td>\r\n        <td>{res.from}</td>\r\n        <td>{res.to}</td>\r\n        <td>{res.amount} </td>\r\n        <td>0 </td>\r\n        <td>{btime}</td>\r\n        <td><BlockDialog height={res.height} /></td>\r\n      </tr>)\r\n    });\r\n    return content;\r\n  }\r\n\r\n  renderAccountTransactionItem() {\r\n\r\n    let content = this.state.accountTransactions.map((res) => {\r\n      let d = new Date();\r\n      d.setTime(res.time)\r\n      let btime = d.toLocaleString()\r\n      return (<tr>\r\n        <td><TransactionType type={res.type} id={res.id} /></td>\r\n        <td>{res.from}</td>\r\n        <td>{res.to}</td>\r\n        <td>{res.amount} </td>\r\n        <td>{res.fee} </td>\r\n        <td>{btime}</td>\r\n        <td><BlockDialog height={res.height} /></td>\r\n      </tr>)\r\n    });\r\n\r\n    return content;\r\n  }\r\n\r\n  renderAccountTransactions() {\r\n\r\n    if (this.state.transactionTab == '0') {\r\n      if (this.state.accountTransactions) {\r\n        return (<Table hover bordered striped responsive size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.renderAccountTransactionItem()}\r\n          </tbody>\r\n        </Table>)\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      //show auto transactions\r\n      if (this.state.autoTransactions) {\r\n        return (<Table hover bordered striped responsive size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.renderAutoTransactionItem()}\r\n          </tbody>\r\n        </Table>)\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  onTransactionTabClicked(tab) {\r\n    if (this.state.transactionTab !== tab) {\r\n      this.setState({\r\n        transactionTab: tab,\r\n      });\r\n      //\r\n      if (tab === '0') {\r\n        //load account transactions\r\n        this.loadAccountTransactions(1);\r\n      }\r\n      if (tab === '1') {\r\n        //load auto transaction\r\n        this.loadAutoTransactions(1);\r\n      }\r\n    }\r\n  }\r\n\r\n  renderTransactionsTabs() {\r\n    return (<div><Nav tabs>\r\n      <NavItem>\r\n        <NavLink\r\n          className={classnames({ active: this.state.transactionTab === '0' })}\r\n          onClick={() => { this.onTransactionTabClicked('0'); }}\r\n        >\r\n          <i className=\"icon-calculator\"></i><Badge\r\n            color=\"success\">) </Badge>\r\n        </NavLink>\r\n      </NavItem>\r\n      <NavItem>\r\n        <NavLink\r\n          className={classnames({ active: this.state.transactionTab === '1' })}\r\n          onClick={() => { this.onTransactionTabClicked('1'); }}\r\n        >\r\n          <i className=\"icon-basket-loaded\"></i><Badge pill color=\"danger\"></Badge>\r\n        </NavLink>\r\n      </NavItem>\r\n    </Nav>\r\n      {this.renderAccountTransactions()}\r\n      {this.renderTransactionPagnations()}\r\n    </div>\r\n    )\r\n  }\r\n\r\n  loadAccountTransactions(page) {\r\n    let rsId = this.state.accountInfo.rsId;\r\n    loadAccountTransactions(rsId, page, 10, ((ok, data) => {\r\n      if (ok && data) {\r\n        let accountTransactions = data.transactions;\r\n        this.setState({ accountTransactions })\r\n      }\r\n    }).bind(this))\r\n  }\r\n\r\n  loadAutoTransactions(page) {\r\n    let rsId = this.state.accountInfo.rsId;\r\n    loadAutoTransactions(rsId, page, 10, ((ok, data) => {\r\n      if (ok && data) {\r\n        let autoTransactions = data.transactions;\r\n        this.setState({ autoTransactions })\r\n      }\r\n    }).bind(this))\r\n  }\r\n\r\n  preTransPage() {\r\n    if (this.state.transPage > 1) {\r\n      this.state.transPage--\r\n    }\r\n    if (this.state.transactionTab === '0') {\r\n      this.loadAccountTransactions(this.state.transPage)\r\n    } else {\r\n      this.loadAutoTransactions(this.state.transPage);\r\n    }\r\n  }\r\n\r\n  nextTransPage() {\r\n    this.state.transPage++\r\n    if (this.state.transactionTab === '0') {\r\n      this.loadAccountTransactions(this.state.transPage)\r\n    } else {\r\n      this.loadAutoTransactions(this.state.transPage);\r\n    }\r\n  }\r\n\r\n  renderTransactionPagnations() {\r\n    return (<Pagination>\r\n      <PaginationItem><PaginationLink previous tag=\"button\" onClick={(e) => { this.preTransPage() }}>-</PaginationLink></PaginationItem>\r\n      <PaginationItem active>\r\n        <PaginationLink tag=\"button\">{this.state.transPage}</PaginationLink>\r\n      </PaginationItem>\r\n      <PaginationItem><PaginationLink next tag=\"button\" onClick={(e) => { this.nextTransPage() }}>+</PaginationLink></PaginationItem>\r\n    </Pagination>)\r\n  }\r\n\r\n  renderSpecialAccount(rsId) {\r\n    if ('BT-4B7G-ERNV-QMMJ-HULB5' === rsId) {\r\n      return <p style={{ color: 'red' }}>B</p>\r\n    }\r\n    return null;\r\n  }\r\n\r\n  rederAccountInfoDialog() {\r\n    if (!this.state.accountInfo)\r\n      return null;\r\n    return (<Modal isOpen={this.state.showAccount} toggle={this.toggleAccount.bind(this)}\r\n      className={'modal-info ' + this.props.className}>\r\n      <ModalHeader toggle={this.toggleAccount.bind(this)}></ModalHeader>\r\n      <ModalBody>\r\n        <p>ID: {this.state.accountInfo.rsId}</p>\r\n        {this.renderSpecialAccount(this.state.accountInfo.rsId)}\r\n        <p>: {this.state.accountInfo.pk}</p>\r\n        <p>: {this.state.accountInfo.balance}</p>\r\n        <div><MessageDialog to={this.state.accountInfo.rsId} toPk={this.state.accountInfo.pk} /></div>\r\n        <p>:</p>\r\n        {this.renderTransactionsTabs()}\r\n      </ModalBody>\r\n      <ModalFooter>\r\n        <Button color=\"danger\" onClick={this.toggleAccount.bind(this)}>OK</Button>\r\n      </ModalFooter>\r\n    </Modal>)\r\n  }\r\n\r\n  render() {\r\n    return (<div>{this.rederAccountInfoDialog()}<a href=\"#\" onClick={(e) => { e.preventDefault(); this.showAccountInfo(this.props.rsId) }}>{this.props.rsId}</a></div>)\r\n  }\r\n}\r\nexport default AccountDialog;","var crypto = require('crypto')\r\n\r\nfunction sha256 (buf, cb) {\r\n  var hash = sha256sync(buf)\r\n  process.nextTick(function () {\r\n    cb(hash)\r\n  })\r\n}\r\n\r\nfunction sha256sync (buf) {\r\n  return crypto.createHash('sha256')\r\n    .update(buf)\r\n    .digest('hex')\r\n}\r\n\r\nmodule.exports = sha256\r\nmodule.exports.sync = sha256sync\r\n","import React, { Component } from 'react';\r\nimport { loadLocalAccount, saveUserSec, createPeerId, calcAccountId } from '../../ggv/js/gegeUtil'\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader, FormGroup, Label, Button, Alert } from 'reactstrap'\r\nimport { CardGroup, Card, CardBody, Row, Col, InputGroup, Input, InputGroupAddon, InputGroupText } from 'reactstrap'\r\nimport DEBUGING from '../../../debug.js'\r\n\r\nclass BtbSecret extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { account: null, login: false, remember: false }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let account = loadLocalAccount()\r\n        if (account) {\r\n            this.setState({ account })\r\n            this.secret = account.secret;\r\n        }\r\n        else {\r\n            // this.setState({ login: true })\r\n        }\r\n    }\r\n\r\n    toggleLogin() {\r\n        this.setState({\r\n            login: !this.state.login,\r\n        });\r\n    }\r\n\r\n    doLogin() {\r\n        if (this.state.secret && (this.state.secret.length > 38 || DEBUGING)) {\r\n            let pattern = /^(?=.*[a-z])(?=.*[^a-zA-Z0-9\\x00-\\xff])(?=.*[A-Z])(?=.*\\d)[^]{30,200}$/u\r\n\r\n            if (!DEBUGING && !pattern.test(this.state.secret)) {\r\n                this.setState({ err: ',' })\r\n                return;\r\n            }\r\n            this.toggleLogin()\r\n            saveUserSec(this.state.secret)\r\n            let account = loadLocalAccount()\r\n            this.setState({ account })\r\n            this.props.onSecret(this.state.secret, account);\r\n        }\r\n        else {\r\n            this.setState({ err: ',,40' })\r\n        }\r\n    }\r\n\r\n    updateSecret(e) {\r\n        if (e && e.target) {\r\n            let secret = e.target.value;\r\n            let rsId = calcAccountId(secret);\r\n            this.setState({ rsId: rsId, secret })\r\n        }\r\n    }\r\n\r\n    rememberPassword() {\r\n\r\n    }\r\n\r\n\r\n    clearAccount() {\r\n        window.localStorage.setItem(\"cpeer\", '');\r\n        window.localStorage.setItem(\"userSec\", '');\r\n    }\r\n\r\n\r\n    renderSimple() {\r\n        let btnText = '';\r\n        if (this.state.account && this.state.account.secret) {\r\n            btnText = ''\r\n        }\r\n        return (<div><Button color=\"danger\" onClick={this.toggleLogin.bind(this)} size='sm'>{btnText}</Button> {this.renderLoginDialog()}</div>)\r\n    }\r\n\r\n    render() {\r\n\r\n        if ('simple' === this.props.mode) {\r\n            return this.renderSimple()\r\n        } else {\r\n            let rsId = this.state.rsId;\r\n            if (this.state.rsId)\r\n                rsId = this.state.rsId;\r\n            let btnText = '';\r\n            if (this.state.account && this.state.account.secret) {\r\n                btnText = ''\r\n                rsId = this.state.account.rsId;\r\n            }\r\n            return (\r\n                <div className=\"controls\">\r\n                    <InputGroup className=\"input-prepend\">\r\n                        <InputGroupAddon addonType=\"prepend\">\r\n                            <InputGroupText>:</InputGroupText>\r\n                        </InputGroupAddon>\r\n                        <Input id=\"appendedPrependedInput\" size=\"26\" value={rsId} />\r\n                        <Button color=\"danger\" onClick={this.toggleLogin.bind(this)}>{btnText}</Button>\r\n                    </InputGroup>\r\n                    {this.renderLoginDialog()}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    renderPassword() {\r\n        return null;\r\n    }\r\n\r\n    renderErrmsg() {\r\n        if (!this.state.err)\r\n            return null;\r\n        return (<Alert color=\"danger\"><small>{this.state.err}</small></Alert>)\r\n    }\r\n\r\n    renderLoginDialog() {\r\n        let placeholder = '40'\r\n        if (this.state.account)\r\n            placeholder = ' ' + this.state.account.rsId + ',';\r\n        return (<Modal isOpen={this.state.login} toggle={this.toggleLogin.bind(this)}\r\n            className={'modal-info ' + this.props.className}>\r\n            <ModalHeader toggle={this.toggleLogin.bind(this)}>/</ModalHeader>\r\n            <ModalBody>\r\n                <Row className=\"justify-content-center\">\r\n                    <Col md=\"8\">\r\n                        <Label size='small' htmlFor=\"appendedInputButtons\"><small>ID: {this.state.rsId}</small></Label>\r\n                        <Input type=\"textarea\" name=\"textarea-input\" id=\"textarea-input\" rows=\"5\"\r\n                            placeholder={placeholder} onChange={(this.updateSecret).bind(this)} />\r\n                        <input type=\"checkbox\" checked={this.state.rememberPwd} onChange={this.rememberPassword.bind(this)}></input>\r\n                        <Label className=\"form-check-label\" check htmlFor=\"inline-checkbox1\"></Label>\r\n                        {this.renderPassword()}\r\n                        <div>\r\n                            {this.renderErrmsg()}\r\n                            <Alert color=\"info\"><small></small></Alert>\r\n                            <Alert color=\"danger\"><small></small></Alert>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Button color=\"danger\" onClick={this.toggleLogin.bind(this)}></Button>\r\n                <Button color=\"danger\" onClick={this.doLogin.bind(this)}></Button>\r\n            </ModalFooter>\r\n        </Modal>)\r\n    }\r\n}\r\nexport default BtbSecret;\r\n","import React, { Component } from 'react';\r\nimport { Popover, PopoverBody, PopoverHeader } from 'reactstrap';\r\nimport { getTransactionName } from '../../ggv/js/gegeUtil'\r\n\r\nclass TransactionType extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggle = this.toggle.bind(this);\r\n    this.state = {\r\n      popoverOpen: false\r\n    };\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({\r\n      popoverOpen: !this.state.popoverOpen,\r\n    });\r\n  }\r\n\r\n  getTransactionDetail(code) {\r\n    var types = new Map();\r\n    types.set(\"20-0\", \"\")\r\n    types.set(\"9-0\", \"10%\")\r\n    types.set(\"10-0\", \",9999\")\r\n    types.set(\"8-0\", \",0\")\r\n    types.set(\"8-4\", \"\")\r\n    types.set(\"0-0\", \"\")\r\n    types.set(\"80-0\", \"\")\r\n    types.set(\"80-1\", \"\")\r\n    types.set(\"80-1-80\",\"\")\r\n    types.set(\"60-0\", \",\")\r\n    types.set(\"60-1\", \",\")\r\n    types.set(\"60-2\", \" 10%90%\")\r\n    types.set(\"60-3\", \"\")\r\n    types.set(\"60-3-2\", \",\")\r\n    types.set(\"60-3-3\", \"\")\r\n    types.set(\"60-3-4\", \"\")\r\n    types.set(\"60-3-20\", \"8\")\r\n    types.set(\"60-3-21\", \"\")\r\n    types.set(\"60-4\", \"\")\r\n    types.set(\"60-4-30\", \",\")\r\n    types.set(\"60-5\", \"\")\r\n    types.set(\"60-6\", \"\")\r\n    types.set(\"60-6-1\", \"3\")\r\n    types.set(\"60-6-2\", \"\")\r\n    types.set(\"60-6-3\", \"\")\r\n    types.set(\"60-6-4\", \"\")\r\n    types.set(\"60-6-22\", \"\")\r\n    types.set(\"60-7\", \"\")\r\n    types.set(\"60-7-1\", \"\")\r\n    types.set(\"60-7-2\", \"\")\r\n    types.set(\"60-7-3\", \"\")\r\n    types.set(\"60-8\", \"\")\r\n    types.set(\"60-8-40\", \"\")\r\n    types.set(\"60-8-50\", \"\")\r\n    let n = types.get(code)\r\n    if (!n) {\r\n      n = code;\r\n    }\r\n    return n;\r\n  }\r\n\r\n  render() {\r\n    let type = this.props.type;\r\n    let cotent = this.getTransactionDetail(type);\r\n    let id = 'tpid' + this.props.id;\r\n    let text = getTransactionName(type)\r\n    return (\r\n      <span>\r\n        <span className='alert-primary  fade show' id={id} onClick={this.toggle}>\r\n          {text}\r\n        </span>\r\n        <Popover placement='top' isOpen={this.state.popoverOpen} target={id} toggle={this.toggle}>\r\n          <PopoverHeader>{text}</PopoverHeader>\r\n          <PopoverBody>{cotent}</PopoverBody>\r\n        </Popover>\r\n      </span>\r\n    );\r\n  }\r\n}\r\nexport default TransactionType;\r\n"],"sourceRoot":""}