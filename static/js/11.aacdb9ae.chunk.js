(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{831:function(e,t){},832:function(e,t){},833:function(e,t){},834:function(e,t){},835:function(e,t){},987:function(e,t,n){"use strict";n.r(t);var a=n(49),r=n(20),i=n(21),l=n(23),o=n(22),c=n(24),u=n(0),s=n.n(u),d=n(163),m=n(224),h=n(225),f=n(227),b=n(121),p=n(389),v=n(384),E=n(385),y=n(13),g=(n(164),n(27)),I=n(66),k=(n(76),n(39)),w=(n(829),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(o.a)(t).call(this,e))).page=1,n.state={list:[],page:1,count:0,paying:!1,fee:"1",deadline:"5"},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Object(y.loadLocalAccount)();t&&t.secret&&(this.secret=t.secret),this.setState({account:t});var n=window.location.hash,a=null,r=null;if(n){var i=n.indexOf("#",1);i>0&&((i=(n=n.substr(i)).indexOf("#",1))>1?(r=n.substr(i),(r=decodeURIComponent(r))&&this.setState({title:r}),a=n.substr(1,i-1)):a=n.substr(1)),this.loadHongbaoInfo(a)}setTimeout(function(){var t=null;!t&&e.state.account&&(t=e.state.account.peerId),t?e.isTempPeerId(t)&&e.setState({peerId:null}):(t=e.createTempPeerId(),e.setState({peerId:t}));setTimeout(function(){e.loadIframe(t,a),e.setState({iframe:!0})},1e3)}.bind(this),500)}},{key:"loadHongbaoInfo",value:function(e){var t=this,n={action:"hongbao",hash:e};Object(g.bshopCall)(n,function(e,n){if(e&&n){var a={};a.joins=n.list,a.content=n.content,t.setState({hongbao:a})}}.bind(this))}},{key:"loadIframe",value:function(e,t){var n=document.querySelector("#iframe"),a=Object(y.getFileHost)()+"/html/"+e+"/"+t;n.innerHTML="<iframe width='100%' height='500px' frameborder='0' name='_blank' src='"+a+"' />"}},{key:"isTempPeerId",value:function(e){return e&&e.startsWith("0000")}},{key:"createTempPeerId",value:function(){return"0000"+k(18).toString("hex")}},{key:"togglePurchase",value:function(){this.setState({paying:!this.state.paying})}},{key:"doPurchase",value:function(){}},{key:"renderPayButton",value:function(){return s.a.createElement(b.a,{color:"primary"},"\u8bf7\u4e0b\u8f7d\u771e\u5ba2\u5b89\u5353\u5ba2\u6237\u7aef\u9886\u53d6\u73b0\u91d1\u7ea2\u5305,",s.a.createElement("a",{href:"https://github.com/btbresource/btb-android"},"\u70b9\u51fb\u4e0b\u8f7d\u5b89\u5353\u5ba2\u6237\u7aef")," ")}},{key:"renderIframe",value:function(){return s.a.createElement("div",{id:"iframe",style:{width:"100%"}})}},{key:"renderPlayer",value:function(){return this.state.iframe?null:s.a.createElement("div",null,s.a.createElement("div",{id:"status"},s.a.createElement("div",null,s.a.createElement("code",{id:"numPeers"},"0 peers(\u8282\u70b9"),".",s.a.createElement("code",{id:"downloadSpeed"},"0 b/s ")," / \u2197",s.a.createElement("code",{id:"uploadSpeed"},"0 b/s - "),s.a.createElement("code",{id:"downloaded"})," of",s.a.createElement("code",{id:"total"})," \u2014",s.a.createElement("span",{id:"remaining"}))),s.a.createElement("div",{id:"player",style:{width:"100%"}}))}},{key:"renderHongbaoJoins",value:function(){if(!this.state.hongbao||!this.state.hongbao.joins)return null;var e=this.state.hongbao.joins.map(function(e){var t=new Date;t.setTime(e.time);var n=t.toLocaleString();return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(I.a,{rsId:e.senderId})),s.a.createElement("td",null,e.amount,"\u79ef\u5206\u73b0\u91d1"),s.a.createElement("td",null,n))});return s.a.createElement(d.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"\u8d26\u6237"),s.a.createElement("th",null,"\u9886\u53d6\u7ea2\u5305"),s.a.createElement("th",null,"\u65f6\u95f4"))),s.a.createElement("tbody",null,e))}},{key:"render",value:function(){return s.a.createElement("div",{id:"playdiv"},s.a.createElement(m.a,null,s.a.createElement(h.a,null,this.state.title),s.a.createElement(f.a,null,this.renderPayButton(),this.renderPlayer(),this.renderIframe(),this.renderHongbaoJoins())))}}]),t}(u.Component));u.Component;t.default=w}}]);
//# sourceMappingURL=11.aacdb9ae.chunk.js.map